import{$ as he,A as L,Aa as Ne,B as g,C as d,Ca as Te,D as pe,Da as De,E as de,Ea as re,G as te,H as r,I as E,J as _,O as S,P as ne,R as q,S as V,T as $,U as B,V as fe,W as ie,X as ue,a as le,b as se,c as W,d as me,da as oe,e as D,f as w,g as O,ga as Ce,h as X,i as C,j as A,k as ce,l as j,la as ge,m as M,ma as h,n as G,na as _e,o as R,oa as H,p as l,pa as ve,q as x,r as m,ra as z,s,sa as be,t as k,ta as xe,u as o,ua as Ee,v as n,va as Se,w as p,wa as Ie,x as f,xa as ye,y as u,ya as Fe,z as ee,za as Pe}from"./chunk-GEBYVCTS.js";var I=class t{constructor(i){this.http=i}GetPaises(){return this.http.get("https://restcountries.com/v3.1/all")}GetPaisesRegion(i){return this.http.get(`https://restcountries.com/v3.1/region/${i}?fields=name,flags,translations`)}GetPaisesDeEuropaYAfrica(){let i=this.GetPaisesRegion("Europe"),e=this.GetPaisesRegion("Americas");return me([i,e]).pipe(W(([a,c])=>[...a,...c].sort((P,N)=>P.translations.spa.common.localeCompare(N.translations.spa.common))))}GetDetallePais(i){return this.GetPaises().pipe(W(e=>{let a=e.find(c=>c.translations.spa.common.toLowerCase()===i.toLowerCase());return a?{nombre:a.translations.spa.common,bandera:a.flags.png}:null}))}static \u0275fac=function(e){return new(e||t)(O(ue))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};var y=class t{constructor(i){this.firestore=i;this.GetItems()}itemsSubject=new le([]);items=this.itemsSubject.asObservable();subItems;GuardarChofer(i){let e=re(this.firestore,"choferes");return se(De(e,{chofer:i}))}GetItems(){let i=re(this.firestore,"choferes"),e=Te(i);this.subItems=e.subscribe(a=>{this.itemsSubject.next(a)})}static \u0275fac=function(e){return new(e||t)(O(Ne))};static \u0275prov=D({token:t,factory:t.\u0275fac,providedIn:"root"})};function Re(t,i){t&1&&(o(0,"small",26),r(1," Solo debe contener letras "),n())}function ke(t,i){t&1&&(o(0,"small",26),r(1," El campo nombre es obligatorio "),n())}function Le(t,i){if(t&1&&(f(0),m(1,Re,2,0,"small",25)(2,ke,2,0,"small",25),u()),t&2){let e=d();l(),s("ngIf",e.nombre==null?null:e.nombre.hasError("pattern")),l(),s("ngIf",e.nombre==null?null:e.nombre.hasError("required"))}}function qe(t,i){t&1&&(o(0,"small",26),r(1," Solo se permiten n\xFAmeros. "),n())}function Ve(t,i){t&1&&(o(0,"small",26),r(1," El campo nro licencia es obligatorio "),n())}function $e(t,i){t&1&&(o(0,"small",26),r(1," Debe tener al menos 7 caracteres. "),n())}function Be(t,i){if(t&1&&(f(0),m(1,qe,2,0,"small",25)(2,Ve,2,0,"small",25)(3,$e,2,0,"small",25),u()),t&2){let e=d();l(),s("ngIf",e.dni==null?null:e.dni.hasError("pattern")),l(),s("ngIf",e.dni==null?null:e.dni.hasError("required")),l(),s("ngIf",e.dni==null?null:e.dni.hasError("minlength"))}}function He(t,i){t&1&&(o(0,"small",26),r(1," Debe ser entre 18 y 50 a\xF1os de edad "),n())}function ze(t,i){t&1&&(o(0,"small",26),r(1," El campo edad es obligatorio "),n())}function Ue(t,i){if(t&1&&(f(0),m(1,He,2,0,"small",25)(2,ze,2,0,"small",25),u()),t&2){let e=d();l(),s("ngIf",(e.edad==null?null:e.edad.hasError("min"))||(e.edad==null?null:e.edad.hasError("max"))),l(),s("ngIf",e.edad==null?null:e.edad.hasError("required"))}}function Ye(t,i){t&1&&(o(0,"small",26),r(1," Solo se permiten n\xFAmeros. "),n())}function Je(t,i){t&1&&(o(0,"small",26),r(1," El campo nro licencia es obligatorio "),n())}function Ze(t,i){t&1&&(o(0,"small",26),r(1," Debe tener al menos 7 caracteres. "),n())}function Ke(t,i){if(t&1&&(f(0),m(1,Ye,2,0,"small",25)(2,Je,2,0,"small",25)(3,Ze,2,0,"small",25),u()),t&2){let e=d();l(),s("ngIf",e.nrolicencia==null?null:e.nrolicencia.hasError("pattern")),l(),s("ngIf",e.nrolicencia==null?null:e.nrolicencia.hasError("required")),l(),s("ngIf",e.nrolicencia==null?null:e.nrolicencia.hasError("minlength"))}}function Qe(t,i){t&1&&(o(0,"small",26),r(1," El campo es obligatorio "),n())}function We(t,i){if(t&1&&(f(0),m(1,Qe,2,0,"small",25),u()),t&2){let e=d();l(),s("ngIf",e.licenciaprofesional==null?null:e.licenciaprofesional.hasError("required"))}}function Xe(t,i){t&1&&(o(0,"small",26),r(1," El campo pais es obligatorio "),n())}function et(t,i){if(t&1&&(f(0),m(1,Xe,2,0,"small",25),u()),t&2){let e=d();l(),s("ngIf",e.pais==null?null:e.pais.hasError("required"))}}var U=class t{constructor(i,e){this.fb=i;this.repartidorService=e}form;isLoading=!1;selectedPais="";ngOnInit(){this.form=this.fb.group({nombre:["",[h.pattern("^[a-zA-Z]+$"),h.required]],dni:[null,[h.required,h.pattern("^[0-9]*$"),h.minLength(8)]],edad:[null,[h.min(18),h.max(50),h.required]],nrolicencia:[null,[h.required,h.pattern("^[0-9]*$"),h.minLength(7)]],licenciaprofesional:[null,h.required],pais:["",h.required]})}ngOnChanges(i){this.form&&i.selectedPais&&(this.mostrarPais(),console.log(this.form.invalid))}mostrarPais(){this.form.get("pais")?.setValue(this.selectedPais)}get dni(){return this.form.get("documento")}get nombre(){return this.form.get("nombre")}get edad(){return this.form.get("edad")}get nrolicencia(){return this.form.get("nrolicencia")}get licenciaprofesional(){return this.form.get("licenciaprofesional")}get pais(){return this.form.get("pais")}enviarForm(){if(this.form.markAllAsTouched(),this.form.invalid)return;this.isLoading=!0;let i=this.form.value;this.repartidorService.GuardarChofer(i).subscribe({next:e=>{console.log("Formulario enviado exitosamente",e),this.isLoading=!1,this.form.reset()},error:e=>{console.error("Error al enviar el formulario",e),this.isLoading=!1}})}static \u0275fac=function(e){return new(e||t)(x(ye),x(y))};static \u0275cmp=C({type:t,selectors:[["app-choferes-form"]],inputs:{selectedPais:"selectedPais"},features:[ce],decls:46,vars:11,consts:[[1,"mb-3"],[3,"ngSubmit","formGroup"],[1,"form-control-group","col-sm-6"],["for","nombre",1,"form-label"],["type","text","formControlName","nombre","placeholder","","value","","required","",1,"form-control"],[4,"ngIf"],[1,"row","g-3"],["for","dni",1,"form-label"],["type","text","formControlName","dni","placeholder","",1,"form-control"],[1,"form-control-group","col-12"],["for","edad",1,"form-label"],["type","number","formControlName","edad","placeholder","","required","",1,"form-control"],["for","nrolicencia",1,"form-label"],["type","text","formControlName","nrolicencia","placeholder","",1,"form-control"],["for","licenciaprofesional",1,"form-label"],[1,"form-check"],["type","radio","id","licenciaprofesionalSi","formControlName","licenciaprofesional",1,"form-check-input",3,"value"],["for","licenciaprofesionalSi",1,"form-check-label"],["type","radio","id","licenciaprofesionalNo","formControlName","licenciaprofesional",1,"form-check-input",3,"value"],["for","licenciaprofesionalNo",1,"form-check-label"],["for","pais","placeholder","Pa\xEDs de origen",1,"form-label"],[1,"text-muted"],["type","text","formControlName","pais","readonly","",1,"form-control",3,"value"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg",3,"disabled"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,a){e&1&&(o(0,"h4",0),r(1,"Chofer"),n(),o(2,"form",1),g("ngSubmit",function(){return a.enviarForm()}),o(3,"div",2)(4,"label",3),r(5,"Nombre"),n(),p(6,"input",4),m(7,Le,3,2,"ng-container",5),n(),o(8,"div",6)(9,"div",2)(10,"label",7),r(11,"DNI"),n(),p(12,"input",8),m(13,Be,4,3,"ng-container",5),n(),o(14,"div",9)(15,"label",10),r(16,"Edad"),n(),p(17,"input",11),m(18,Ue,3,2,"ng-container",5),n(),o(19,"div",9)(20,"label",12),r(21,"NroLicencia"),n(),p(22,"input",13),m(23,Ke,4,3,"ng-container",5),n(),o(24,"div",9)(25,"label",14),r(26,"Tiene Licencia Profecional?"),n(),o(27,"div",15),p(28,"input",16),o(29,"label",17),r(30,"S\xED"),n()(),o(31,"div",15),p(32,"input",18),o(33,"label",19),r(34,"No"),n()(),m(35,We,2,1,"ng-container",5),n(),o(36,"div",9)(37,"label",20),r(38,"Pais "),o(39,"span",21),r(40,"(Selecciones un pa\xEDs de la lista)"),n()(),p(41,"input",22),m(42,et,2,1,"ng-container",5),n()(),p(43,"hr",23),o(44,"button",24),r(45,"Alta Chofer"),n()()),e&2&&(l(2),s("formGroup",a.form),l(5),s("ngIf",(a.nombre==null?null:a.nombre.invalid)&&(a.nombre==null?null:a.nombre.touched)),l(6),s("ngIf",(a.dni==null?null:a.dni.invalid)&&(a.dni==null?null:a.dni.touched)),l(5),s("ngIf",(a.edad==null?null:a.edad.invalid)&&(a.edad==null?null:a.edad.touched)),l(5),s("ngIf",(a.nrolicencia==null?null:a.nrolicencia.invalid)&&(a.nrolicencia==null?null:a.nrolicencia.touched)),l(5),s("value",!0),l(4),s("value",!1),l(3),s("ngIf",(a.licenciaprofesional==null?null:a.licenciaprofesional.invalid)&&(a.licenciaprofesional==null?null:a.licenciaprofesional.touched)),l(6),s("value",a.selectedPais),l(),s("ngIf",(a.pais==null?null:a.pais.invalid)&&(a.pais==null?null:a.pais.touched)),l(2),s("disabled",a.form.invalid))},dependencies:[$,z,ge,be,xe,_e,H,Ie,Ee,Se]})};var nt=t=>({active:t}),it=t=>({color:t});function ot(t,i){if(t&1){let e=L();f(0),o(1,"li",5)(2,"div",6),g("click",function(){let c=j(e),b=c.$implicit,P=c.index,N=d();return M(N.show(b,P))}),p(3,"img",7),o(4,"span",8),r(5),n()()(),u()}if(t&2){let e=i.$implicit,a=i.index,c=d();l(),s("ngClass",S(6,nt,a===c.selectedItemId)),l(2),k("width",75,"px"),s("src",e.flags.png,R),l(),s("ngStyle",S(8,it,c.getColor(a))),l(),_(" ",e.translations.spa.common," ")}}var F=class t{items;showItem=new G;selectedItemId;show(i,e){this.selectedItemId=e,this.showItem.emit(i.translations.spa.common),console.log(i.translations.spa.common)}getColor(i){return i==this.selectedItemId?"red":"blue"}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-choferes-paises"]],inputs:{items:"items"},outputs:{showItem:"showItem"},decls:6,vars:1,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[1,"list-group","mb-3",2,"max-height","300px","overflow-y","auto"],[4,"ngFor","ngForOf"],[1,"card","p-2"],[3,"ngClass"],[2,"cursor","pointer",3,"click"],["flag","",3,"src"],[3,"ngStyle"]],template:function(e,a){e&1&&(o(0,"h4",0)(1,"span",1),r(2,"Paises"),n()(),o(3,"ul",2),m(4,ot,6,10,"ng-container",3),n(),p(5,"form",4)),e&2&&(l(4),s("ngForOf",a.items))},dependencies:[q,V,B,z,H,ve],styles:[".active[_ngcontent-%COMP%]{background-color:#ababe2}"]})};var Y=class t{constructor(i){this.paisesService=i}paises=[];selectedPais="";suscription;ngOnInit(){this.suscription=this.paisesService.GetPaisesDeEuropaYAfrica().subscribe(i=>{this.paises=i,console.log(this.paises)})}mostrarPais(i){this.selectedPais=i}static \u0275fac=function(e){return new(e||t)(x(I))};static \u0275cmp=C({type:t,selectors:[["app-choferes-alta"]],inputs:{selectedPais:"selectedPais"},decls:23,vars:2,consts:[[1,"container"],[1,"py-5","text-center"],[1,"row","g-5"],[1,"col-md-5","col-lg-4","order-md-last"],[3,"showItem","items"],[1,"col-md-7","col-lg-8"],[3,"selectedPais"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"]],template:function(e,a){e&1&&(o(0,"div",0)(1,"main")(2,"div",1)(3,"h2"),r(4,"Alta Choferes"),n()(),o(5,"div",2)(6,"div",3)(7,"app-choferes-paises",4),g("showItem",function(b){return a.mostrarPais(b)}),n()(),o(8,"div",5),p(9,"app-choferes-form",6),n()()(),o(10,"footer",7)(11,"p",8),r(12,"\xA9 2017\u20132021 Company Name"),n(),o(13,"ul",9)(14,"li",10)(15,"a",11),r(16,"Privacy"),n()(),o(17,"li",10)(18,"a",11),r(19,"Terms"),n()(),o(20,"li",10)(21,"a",11),r(22,"Support"),n()()()()()),e&2&&(l(7),s("items",a.paises),l(2),s("selectedPais",a.selectedPais))},dependencies:[U,F]})};var rt=t=>({"table-active":t}),at=t=>({color:t});function lt(t,i){if(t&1){let e=L();f(0),o(1,"tr",3),g("click",function(){let c=j(e),b=c.$implicit,P=c.index,N=d();return M(N.show(b,P))}),o(2,"td",4),r(3),n(),o(4,"td"),r(5),n(),o(6,"td"),r(7),n(),o(8,"td"),r(9),n(),o(10,"td"),r(11),n(),o(12,"td"),r(13),n()(),u()}if(t&2){let e=i.$implicit,a=i.index,c=d();l(),s("ngClass",S(8,rt,a===c.selectedItemId)),l(),s("ngStyle",S(10,at,c.getColor(a))),l(),E(e.chofer.nombre),l(2),E(e.chofer.dni),l(2),E(e.chofer.edad),l(2),E(e.chofer.nrolicencia),l(2),E(e.chofer.licenciaprofesional?"S\xED":"No"),l(2),E(e.chofer.pais)}}var J=class t{items;showItem=new G;selectedItemId;show(i,e){this.selectedItemId=e,this.showItem.emit(i)}getColor(i){return i==this.selectedItemId?"red":"blue"}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-choferes-tabla"]],inputs:{items:"items"},outputs:{showItem:"showItem"},decls:17,vars:1,consts:[[1,"table","table-striped","table-bordered"],[2,"width","16.6%"],[4,"ngFor","ngForOf"],[2,"cursor","pointer",3,"click","ngClass"],[3,"ngStyle"]],template:function(e,a){e&1&&(o(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),r(4,"NOMBRE"),n(),o(5,"th",1),r(6,"DNI"),n(),o(7,"th",1),r(8,"EDAD"),n(),o(9,"th",1),r(10,"NRO LICENCIA"),n(),o(11,"th",1),r(12,"LICENCIA PROFECIONAL"),n(),o(13,"th",1),r(14,"PAIS"),n()()(),o(15,"tbody"),m(16,lt,14,12,"ng-container",2),n()()),e&2&&(l(16),s("ngForOf",a.items))},dependencies:[q,V,B]})};var mt=["*"],Z=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=C({type:t,selectors:[["app-choferes-detalle"]],ngContentSelectors:mt,decls:2,vars:0,consts:[[1,"card"]],template:function(e,a){e&1&&(pe(),o(0,"div",0),de(1),n())}})};function pt(t,i){if(t&1&&(o(0,"p")(1,"strong"),r(2,"Nombre:"),n(),r(3),n(),o(4,"p")(5,"strong"),r(6,"DNI:"),n(),r(7),n(),o(8,"p")(9,"strong"),r(10,"Edad:"),n(),r(11),n(),o(12,"p")(13,"strong"),r(14,"NRO Licencia:"),n(),r(15),n(),o(16,"p")(17,"strong"),r(18,"Licencia Propia:"),n(),r(19),n(),o(20,"p")(21,"strong"),r(22,"Pa\xEDs:"),n(),r(23),n()),t&2){let e=d(2);l(3),_(" ",e.selectedItem.chofer.nombre,""),l(4),_(" ",e.selectedItem.chofer.dni,""),l(4),_(" ",e.selectedItem.chofer.edad,""),l(4),_(" ",e.selectedItem.chofer.nrolicencia,""),l(4),_(" ",e.selectedItem.chofer.licenciaprofesional?"S\xED":"No",""),l(4),_(" ",e.selectedItem.chofer.pais,"")}}function dt(t,i){if(t&1&&(f(0),m(1,pt,24,6,"ng-template",null,0,ne),o(3,"app-choferes-detalle"),ee(4,15),n(),u()),t&2){let e=te(2);l(4),s("ngTemplateOutlet",e)}}function ft(t,i){if(t&1&&(o(0,"div",16),p(1,"img",17),o(2,"p")(3,"strong"),r(4),n()()()),t&2){let e=d(2);l(),k("width",150,"px"),s("src",e.detallePais.bandera,R),l(3),_("Pais: ",e.detallePais.nombre," ")}}function ut(t,i){if(t&1&&(f(0),m(1,ft,5,4,"ng-template",null,1,ne),o(3,"app-choferes-paises"),ee(4,15),n(),u()),t&2){let e=te(2);l(4),s("ngTemplateOutlet",e)}}var K=class t{constructor(i,e){this.choferesService=i;this.paisService=e}items=[];selectedItem;subscription;keys=[];detallePais;ngOnInit(){this.subscription=this.choferesService.items.subscribe(i=>{this.items=i}),console.log(this.items)}ngOnDestroy(){console.log(this.items),this.subscription.unsubscribe}mostrarItem(i){this.selectedItem=i,console.log(this.selectedItem),this.keys=Object.keys(this.items[0].repartidor),this.paisService.GetDetallePais(this.selectedItem.repartidor.pais).subscribe(e=>{e?(this.detallePais=e,console.log("detalle pais seleccionado",this.detallePais)):console.log("Pa\xEDs no encontrado")},e=>{console.error("Error al obtener el detalle del pa\xEDs",e)})}static \u0275fac=function(e){return new(e||t)(x(y),x(I))};static \u0275cmp=C({type:t,selectors:[["app-choferes"]],decls:25,vars:3,consts:[["itemContent",""],["pais",""],["lang","en"],[1,"container","py-4"],[1,"pb-3","mb-4","border-bottom"],[1,"fs-4"],[1,"p-5","mb-4","bg-light","rounded-3"],[1,"container-fluid","py-5"],[3,"showItem","items"],[1,"row","align-items-md-stretch"],[1,"col-md-6"],[1,"h-100","p-5","text-white","bg-dark","rounded-3"],[4,"ngIf"],[1,"h-100","p-5","bg-light","border","rounded-3"],[1,"pt-3","mt-4","text-muted","border-top"],[3,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","justify-content-center","overflow-auto"],["flag","",1,"border","mt-4",2,"border-radius","10px","border","2px solid black",3,"src"]],template:function(e,a){e&1&&(o(0,"html",2)(1,"body")(2,"main")(3,"div",3)(4,"header",4)(5,"span",5),r(6,"CHOFERES"),n()(),o(7,"div",6)(8,"div",7)(9,"h2"),r(10,"CHOFERES"),n(),o(11,"app-choferes-tabla",8),g("showItem",function(b){return a.mostrarItem(b)}),n()()(),o(12,"div",9)(13,"div",10)(14,"div",11)(15,"h2"),r(16,"DETALLE REPARTIDOR"),n(),m(17,dt,5,1,"ng-container",12),n()(),o(18,"div",10)(19,"div",13)(20,"h2"),r(21,"DETALLE PAIS"),n(),m(22,ut,5,1,"ng-container",12),n()()(),o(23,"footer",14),r(24," \xA9 2021 "),n()()()()()),e&2&&(l(11),s("items",a.items),l(6),s("ngIf",a.selectedItem),l(5),s("ngIf",a.detallePais))},dependencies:[$,fe,F,J,Z]})};var je=(t,i)=>{let e=X(Ce),a=X(he);if(e.currentUser!=null)return console.log("puede pasar"),!0;return console.log("no puede pasar"),a.navigate(["login"]),!1;return!0};var ht=[{path:"alta",component:Y},{path:"choferes",component:K,canActivate:[je]}],Q=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=A({type:t});static \u0275inj=w({imports:[oe.forChild(ht),oe]})};var Me=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=A({type:t});static \u0275inj=w({imports:[ie,Q,Pe,ie,Fe]})};export{Me as MimoduloModule};
