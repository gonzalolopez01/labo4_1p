var AN=Object.defineProperty,SN=Object.defineProperties;var RN=Object.getOwnPropertyDescriptors;var Iw=Object.getOwnPropertySymbols,NN=Object.getPrototypeOf,MN=Object.prototype.hasOwnProperty,xN=Object.prototype.propertyIsEnumerable,PN=Reflect.get;var ww=(n,e,t)=>e in n?AN(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})MN.call(e,t)&&ww(n,t,e[t]);if(Iw)for(var t of Iw(e))xN.call(e,t)&&ww(n,t,e[t]);return n},ce=(n,e)=>SN(n,RN(e));var or=(n,e,t)=>PN(NN(n),t,e);var w=(n,e,t)=>new Promise((r,i)=>{var s=u=>{try{a(t.next(u))}catch(l){i(l)}},o=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((t=t.apply(n,e)).next())});function Ew(n,e){return Object.is(n,e)}var je=null,Xc=!1,eu=1,Cn=Symbol("SIGNAL");function pe(n){let e=je;return je=n,e}function Dw(){return je}var Ko={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function mf(n){if(Xc)throw new Error("");if(je===null)return;je.consumerOnSignalRead(n);let e=je.nextProducerIndex++;if(iu(je),e<je.producerNode.length&&je.producerNode[e]!==n&&Wo(je)){let t=je.producerNode[e];ru(t,je.producerIndexOfThis[e])}je.producerNode[e]!==n&&(je.producerNode[e]=n,je.producerIndexOfThis[e]=Wo(je)?Aw(n,je,e):0),je.producerLastReadVersion[e]=n.version}function ON(){eu++}function Tw(n){if(!(Wo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===eu)){if(!n.producerMustRecompute(n)&&!vf(n)){n.dirty=!1,n.lastCleanEpoch=eu;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=eu}}function bw(n){if(n.liveConsumerNode===void 0)return;let e=Xc;Xc=!0;try{for(let t of n.liveConsumerNode)t.dirty||kN(t)}finally{Xc=e}}function Cw(){return je?.consumerAllowSignalWrites!==!1}function kN(n){n.dirty=!0,bw(n),n.consumerMarkedDirty?.(n)}function nu(n){return n&&(n.nextProducerIndex=0),pe(n)}function yf(n,e){if(pe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Wo(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)ru(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function vf(n){iu(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Tw(t),r!==t.version))return!0}return!1}function _f(n){if(iu(n),Wo(n))for(let e=0;e<n.producerNode.length;e++)ru(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Aw(n,e,t){if(Sw(n),n.liveConsumerNode.length===0&&Rw(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Aw(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function ru(n,e){if(Sw(n),n.liveConsumerNode.length===1&&Rw(n))for(let r=0;r<n.producerNode.length;r++)ru(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];iu(i),i.producerIndexOfThis[r]=e}}function Wo(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function iu(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Sw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Rw(n){return n.producerNode!==void 0}function Nw(n){let e=Object.create(FN);e.computation=n;let t=()=>{if(Tw(e),mf(e),e.value===tu)throw e.error;return e.value};return t[Cn]=e,t}var pf=Symbol("UNSET"),gf=Symbol("COMPUTING"),tu=Symbol("ERRORED"),FN=ce(k({},Ko),{value:pf,dirty:!0,error:null,equal:Ew,producerMustRecompute(n){return n.value===pf||n.value===gf},producerRecomputeValue(n){if(n.value===gf)throw new Error("Detected cycle in computations.");let e=n.value;n.value=gf;let t=nu(n),r;try{r=n.computation()}catch(i){r=tu,n.error=i}finally{yf(n,t)}if(e!==pf&&e!==tu&&r!==tu&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function LN(){throw new Error}var Mw=LN;function xw(){Mw()}function Pw(n){Mw=n}var VN=null;function Ow(n){let e=Object.create(Fw);e.value=n;let t=()=>(mf(e),e.value);return t[Cn]=e,t}function If(n,e){Cw()||xw(),n.equal(n.value,e)||(n.value=e,UN(n))}function kw(n,e){Cw()||xw(),If(n,e(n.value))}var Fw=ce(k({},Ko),{equal:Ew,value:void 0});function UN(n){n.version++,ON(),bw(n),VN?.()}function te(n){return typeof n=="function"}function Gi(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var su=Gi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Xr(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Me=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(s){e=s instanceof su?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{Lw(s)}catch(o){e=e??[],o instanceof su?e=[...e,...o.errors]:e.push(o)}}if(e)throw new su(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Lw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Xr(t,e)}remove(e){let{_finalizers:t}=this;t&&Xr(t,e),e instanceof n&&e._removeParent(this)}};Me.EMPTY=(()=>{let n=new Me;return n.closed=!0,n})();var wf=Me.EMPTY;function ou(n){return n instanceof Me||n&&"closed"in n&&te(n.remove)&&te(n.add)&&te(n.unsubscribe)}function Lw(n){te(n)?n():n.unsubscribe()}var Ht={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Wi={setTimeout(n,e,...t){let{delegate:r}=Wi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Wi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function au(n){Wi.setTimeout(()=>{let{onUnhandledError:e}=Ht;if(e)e(n);else throw n})}function Qo(){}var Vw=Ef("C",void 0,void 0);function Uw(n){return Ef("E",void 0,n)}function jw(n){return Ef("N",n,void 0)}function Ef(n,e,t){return{kind:n,value:e,error:t}}var ei=null;function Ki(n){if(Ht.useDeprecatedSynchronousErrorHandling){let e=!ei;if(e&&(ei={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=ei;if(ei=null,t)throw r}}else n()}function Bw(n){Ht.useDeprecatedSynchronousErrorHandling&&ei&&(ei.errorThrown=!0,ei.error=n)}var ti=class extends Me{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ou(e)&&e.add(this)):this.destination=$N}static create(e,t,r){return new Qi(e,t,r)}next(e){this.isStopped?Tf(jw(e),this):this._next(e)}error(e){this.isStopped?Tf(Uw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Tf(Vw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jN=Function.prototype.bind;function Df(n,e){return jN.call(n,e)}var bf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){cu(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){cu(r)}else cu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){cu(t)}}},Qi=class extends ti{constructor(e,t,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Ht.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Df(e.next,s),error:e.error&&Df(e.error,s),complete:e.complete&&Df(e.complete,s)}):i=e}this.destination=new bf(i)}};function cu(n){Ht.useDeprecatedSynchronousErrorHandling?Bw(n):au(n)}function BN(n){throw n}function Tf(n,e){let{onStoppedNotification:t}=Ht;t&&Wi.setTimeout(()=>t(n,e))}var $N={closed:!0,next:Qo,error:BN,complete:Qo};var Yi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function It(n){return n}function uu(...n){return Cf(n)}function Cf(n){return n.length===0?It:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var se=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=zN(t)?t:new Qi(t,r,i);return Ki(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=$w(r),new r((i,s)=>{let o=new Qi({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Yi](){return this}pipe(...t){return Cf(t)(this)}toPromise(t){return t=$w(t),new t((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function $w(n){var e;return(e=n??Ht.Promise)!==null&&e!==void 0?e:Promise}function HN(n){return n&&te(n.next)&&te(n.error)&&te(n.complete)}function zN(n){return n&&n instanceof ti||HN(n)&&ou(n)}function Af(n){return te(n?.lift)}function he(n){return e=>{if(Af(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ue(n,e,t,r,i){return new Sf(n,e,t,r,i)}var Sf=class extends ti{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ji(){return he((n,e)=>{let t=null;n._refCount++;let r=ue(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Zi=class extends se{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Af(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Me;let t=this.getSubject();e.add(this.source.subscribe(ue(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Me.EMPTY)}return e}refCount(){return Ji()(this)}};var Hw=Gi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var He=(()=>{class n extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new lu(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Hw}next(t){Ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ki(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?wf:(this.currentObservers=null,s.push(t),new Me(()=>{this.currentObservers=null,Xr(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new se;return t.source=this,t}}return n.create=(e,t)=>new lu(e,t),n})(),lu=class extends He{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:wf}};var Qe=class extends He{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Rf={now(){return(Rf.delegate||Date).now()},delegate:void 0};var du=class extends Me{constructor(e,t){super()}schedule(e,t=0){return this}};var Yo={setInterval(n,e,...t){let{delegate:r}=Yo;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Yo;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Xi=class extends du{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return Yo.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Yo.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Xr(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var es=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};es.now=Rf.now;var ts=class extends es{constructor(e,t=es.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Nf=new ts(Xi);var hu=class extends Xi{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var fu=class extends ts{};var Mf=new fu(hu);var wt=new se(n=>n.complete());function zw(n){return n&&te(n.schedule)}function qw(n){return n[n.length-1]}function pu(n){return te(qw(n))?n.pop():void 0}function ar(n){return zw(qw(n))?n.pop():void 0}function xf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Ww(n,e,t,r){function i(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Gw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ni(n){return this instanceof ni?(this.v=n,this):new ni(n)}function Kw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(A){return Promise.resolve(A).then(y,p)}}function a(y,A){r[y]&&(i[y]=function(N){return new Promise(function(R,F){s.push([y,N,R,F])>1||u(y,N)})},A&&(i[y]=A(i[y])))}function u(y,A){try{l(r[y](A))}catch(N){m(s[0][3],N)}}function l(y){y.value instanceof ni?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,A){y(A),s.shift(),s.length&&u(s[0][0],s[0][1])}}function Qw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Gw=="function"?Gw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){o=n[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var gu=n=>n&&typeof n.length=="number"&&typeof n!="function";function mu(n){return te(n?.then)}function yu(n){return te(n[Yi])}function vu(n){return Symbol.asyncIterator&&te(n?.[Symbol.asyncIterator])}function _u(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function qN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Iu=qN();function wu(n){return te(n?.[Iu])}function Eu(n){return Kw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield ni(t.read());if(i)return yield ni(void 0);yield yield ni(r)}}finally{t.releaseLock()}})}function Du(n){return te(n?.getReader)}function Oe(n){if(n instanceof se)return n;if(n!=null){if(yu(n))return GN(n);if(gu(n))return WN(n);if(mu(n))return KN(n);if(vu(n))return Yw(n);if(wu(n))return QN(n);if(Du(n))return YN(n)}throw _u(n)}function GN(n){return new se(e=>{let t=n[Yi]();if(te(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function WN(n){return new se(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function KN(n){return new se(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,au)})}function QN(n){return new se(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Yw(n){return new se(e=>{JN(n,e).catch(t=>e.error(t))})}function YN(n){return Yw(Eu(n))}function JN(n,e){var t,r,i,s;return Ww(this,void 0,void 0,function*(){try{for(t=Qw(n);r=yield t.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function mt(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function cr(n,e=0){return he((t,r)=>{t.subscribe(ue(r,i=>mt(r,n,()=>r.next(i),e),()=>mt(r,n,()=>r.complete(),e),i=>mt(r,n,()=>r.error(i),e)))})}function ur(n,e=0){return he((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Jw(n,e){return Oe(n).pipe(ur(e),cr(e))}function Zw(n,e){return Oe(n).pipe(ur(e),cr(e))}function Xw(n,e){return new se(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function eE(n,e){return new se(t=>{let r;return mt(t,e,()=>{r=n[Iu](),mt(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){t.error(o);return}s?t.complete():t.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function Tu(n,e){if(!n)throw new Error("Iterable cannot be null");return new se(t=>{mt(t,e,()=>{let r=n[Symbol.asyncIterator]();mt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function tE(n,e){return Tu(Eu(n),e)}function nE(n,e){if(n!=null){if(yu(n))return Jw(n,e);if(gu(n))return Xw(n,e);if(mu(n))return Zw(n,e);if(vu(n))return Tu(n,e);if(wu(n))return eE(n,e);if(Du(n))return tE(n,e)}throw _u(n)}function De(n,e){return e?nE(n,e):Oe(n)}function W(...n){let e=ar(n);return De(n,e)}function ns(n,e){let t=te(n)?n:()=>n,r=i=>i.error(t());return new se(e?i=>e.schedule(r,0,i):r)}function Pf(n){return!!n&&(n instanceof se||te(n.lift)&&te(n.subscribe))}var An=Gi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function J(n,e){return he((t,r)=>{let i=0;t.subscribe(ue(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:ZN}=Array;function XN(n,e){return ZN(e)?n(...e):n(e)}function bu(n){return J(e=>XN(n,e))}var{isArray:eM}=Array,{getPrototypeOf:tM,prototype:nM,keys:rM}=Object;function Cu(n){if(n.length===1){let e=n[0];if(eM(e))return{args:e,keys:null};if(iM(e)){let t=rM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function iM(n){return n&&typeof n=="object"&&tM(n)===nM}function Au(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Jo(...n){let e=ar(n),t=pu(n),{args:r,keys:i}=Cu(n);if(r.length===0)return De([],e);let s=new se(sM(r,e,i?o=>Au(i,o):It));return t?s.pipe(bu(t)):s}function sM(n,e,t=It){return r=>{rE(e,()=>{let{length:i}=n,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)rE(e,()=>{let l=De(n[u],e),h=!1;l.subscribe(ue(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function rE(n,e,t){n?mt(t,n,e):e()}function iE(n,e,t,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?A(N):u.push(N),A=N=>{s&&e.next(N),l++;let R=!1;Oe(t(N,h++)).subscribe(ue(e,F=>{i?.(F),s?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();o?mt(e,o,()=>A(F)):A(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(ue(e,y,()=>{p=!0,m()})),()=>{a?.()}}function ke(n,e,t=1/0){return te(e)?ke((r,i)=>J((s,o)=>e(r,s,i,o))(Oe(n(r,i))),t):(typeof e=="number"&&(t=e),he((r,i)=>iE(r,i,n,t)))}function lr(n=1/0){return ke(It,n)}function sE(){return lr(1)}function rs(...n){return sE()(De(n,ar(n)))}function Su(n){return new se(e=>{Oe(n()).subscribe(e)})}function Of(...n){let e=pu(n),{args:t,keys:r}=Cu(n),i=new se(s=>{let{length:o}=t;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Oe(t[h]).subscribe(ue(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?Au(r,a):a),s.complete())}))}});return e?i.pipe(bu(e)):i}function dt(n,e){return he((t,r)=>{let i=0;t.subscribe(ue(r,s=>n.call(e,s,i++)&&r.next(s)))})}function dr(n){return he((e,t)=>{let r=null,i=!1,s;r=e.subscribe(ue(t,void 0,void 0,o=>{s=Oe(n(o,dr(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function oE(n,e,t,r,i){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(ue(o,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Sn(n,e){return te(e)?ke(n,e,1):ke(n,1)}function hr(n){return he((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Rn(n){return n<=0?()=>wt:he((e,t)=>{let r=0;e.subscribe(ue(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function kf(n){return J(()=>n)}function Ru(n=oM){return he((e,t)=>{let r=!1;e.subscribe(ue(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function oM(){return new An}function ri(n){return he((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function en(n,e){let t=arguments.length>=2;return r=>r.pipe(n?dt((i,s)=>n(i,s,r)):It,Rn(1),t?hr(e):Ru(()=>new An))}function is(n){return n<=0?()=>wt:he((e,t)=>{let r=[];e.subscribe(ue(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Ff(n,e){let t=arguments.length>=2;return r=>r.pipe(n?dt((i,s)=>n(i,s,r)):It,is(1),t?hr(e):Ru(()=>new An))}function Nu(n,e){return he(oE(n,e,arguments.length>=2,!0))}function Mu(...n){let e=ar(n);return he((t,r)=>{(e?rs(n,t,e):rs(n,t)).subscribe(r)})}function yt(n,e){return he((t,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();t.subscribe(ue(r,u=>{i?.unsubscribe();let l=0,h=s++;Oe(n(u,h)).subscribe(i=ue(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Lf(n){return he((e,t)=>{Oe(n).subscribe(ue(t,()=>t.complete(),Qo)),!t.closed&&e.subscribe(t)})}function Fe(n,e,t){let r=te(n)||e||t?{next:n,error:e,complete:t}:n;return r?he((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ue(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):It}var qE="https://g.co/ng/security#xss",$=class extends Error{constructor(e,t){super(dl(e,t)),this.code=e}};function dl(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function aa(n){return{toString:n}.toString()}var xu="__parameters__";function aM(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function GE(n,e,t){return aa(()=>{let r=aM(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(xu)?u[xu]:Object.defineProperty(u,xu,{value:[]})[xu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var Jf=globalThis;function Te(n){for(let e in n)if(n[e]===Te)return e;throw Error("Could not find renamed property on target object.")}function cM(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ft(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(ft).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function aE(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var uM=Te({__forward_ref__:Te});function Wt(n){return n.__forward_ref__=Wt,n.toString=function(){return ft(this())},n}function ht(n){return WE(n)?n():n}function WE(n){return typeof n=="function"&&n.hasOwnProperty(uM)&&n.__forward_ref__===Wt}function B(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function cn(n){return{providers:n.providers||[],imports:n.imports||[]}}function hl(n){return cE(n,QE)||cE(n,YE)}function KE(n){return hl(n)!==null}function cE(n,e){return n.hasOwnProperty(e)?n[e]:null}function lM(n){let e=n&&(n[QE]||n[YE]);return e||null}function uE(n){return n&&(n.hasOwnProperty(lE)||n.hasOwnProperty(dM))?n[lE]:null}var QE=Te({\u0275prov:Te}),lE=Te({\u0275inj:Te}),YE=Te({ngInjectableDef:Te}),dM=Te({ngInjectorDef:Te}),V=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=B({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function JE(n){return n&&!!n.\u0275providers}var hM=Te({\u0275cmp:Te}),fM=Te({\u0275dir:Te}),pM=Te({\u0275pipe:Te}),gM=Te({\u0275mod:Te}),Hu=Te({\u0275fac:Te}),Xo=Te({__NG_ELEMENT_ID__:Te}),dE=Te({__NG_ENV_ID__:Te});function fl(n){return typeof n=="string"?n:n==null?"":String(n)}function mM(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():fl(n)}function yM(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new $(-200,n)}function Xp(n,e){throw new $(-201,!1)}var oe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(oe||{}),Zf;function ZE(){return Zf}function Nt(n){let e=Zf;return Zf=n,e}function XE(n,e,t){let r=hl(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&oe.Optional)return null;if(e!==void 0)return e;Xp(n,"Injector")}var vM={},ea=vM,Xf="__NG_DI_FLAG__",zu="ngTempTokenPath",_M="ngTokenPath",IM=/\n/gm,wM="\u0275",hE="__source",us;function EM(){return us}function fr(n){let e=us;return us=n,e}function DM(n,e=oe.Default){if(us===void 0)throw new $(-203,!1);return us===null?XE(n,void 0,e):us.get(n,e&oe.Optional?null:void 0,e)}function q(n,e=oe.Default){return(ZE()||DM)(ht(n),e)}function x(n,e=oe.Default){return q(n,pl(e))}function pl(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function ep(n){let e=[];for(let t=0;t<n.length;t++){let r=ht(n[t]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,s=oe.Default;for(let o=0;o<r.length;o++){let a=r[o],u=TM(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(q(i,s))}else e.push(q(r))}return e}function eD(n,e){return n[Xf]=e,n.prototype[Xf]=e,n}function TM(n){return n[Xf]}function bM(n,e,t,r){let i=n[zu];throw e[hE]&&i.unshift(e[hE]),n.message=CM(`
`+n.message,i,t,r),n[_M]=i,n[zu]=null,n}function CM(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==wM?n.slice(2):n;let i=ft(e);if(Array.isArray(e))i=e.map(ft).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):ft(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(IM,`
  `)}`}var Ye=eD(GE("Optional"),8);var gl=eD(GE("SkipSelf"),4);function ds(n,e){let t=n.hasOwnProperty(Hu);return t?n[Hu]:null}function AM(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function SM(n){return n.flat(Number.POSITIVE_INFINITY)}function eg(n,e){n.forEach(t=>Array.isArray(t)?eg(t,e):e(t))}function tD(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function qu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function RM(n,e){let t=[];for(let r=0;r<n;r++)t.push(e);return t}function NM(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function MM(n,e,t){let r=ca(n,e);return r>=0?n[r|1]=t:(r=~r,NM(n,r,e,t)),r}function Vf(n,e){let t=ca(n,e);if(t>=0)return n[t|1]}function ca(n,e){return xM(n,e,1)}function xM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}var hs={},Mt=[],fs=new V(""),nD=new V("",-1),rD=new V(""),Gu=class{get(e,t=ea){if(t===ea){let r=new Error(`NullInjectorError: No provider for ${ft(e)}!`);throw r.name="NullInjectorError",r}return t}},iD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(iD||{}),rn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(rn||{}),mr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(mr||{});function PM(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function tp(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{let s=i,o=t[++r];OM(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function sD(n){return n===3||n===4||n===6}function OM(n){return n.charCodeAt(0)===64}function ta(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?fE(n,t,i,null,e[++r]):fE(n,t,i,null,null))}}return n}function fE(n,e,t,r,i){let s=0,o=n.length;if(e===-1)o=-1;else for(;s<n.length;){let a=n[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<n.length;){let a=n[s];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var oD="ng-template";function kM(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&PM(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(tg(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function tg(n){return n.type===4&&n.value!==oD}function FM(n,e,t){let r=n.type===4&&!t?oD:n.value;return e===r}function LM(n,e,t){let r=4,i=n.attrs,s=i!==null?jM(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!zt(r)&&!zt(u))return!1;if(o&&zt(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!FM(n,u,t)||u===""&&e.length===1){if(zt(r))return!1;o=!0}}else if(r&8){if(i===null||!kM(n,i,u,t)){if(zt(r))return!1;o=!0}}else{let l=e[++a],h=VM(u,i,tg(n),t);if(h===-1){if(zt(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(zt(r))return!1;o=!0}}}}return zt(r)||o}function zt(n){return(n&1)===0}function VM(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let o=e[i];if(o===n)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return BM(e,n)}function aD(n,e,t=!1){for(let r=0;r<e.length;r++)if(LM(n,e[r],t))return!0;return!1}function UM(n){let e=n.attrs;if(e!=null){let t=e.indexOf(5);if(!(t&1))return e[t+1]}return null}function jM(n){for(let e=0;e<n.length;e++){let t=n[e];if(sD(t))return e}return n.length}function BM(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function $M(n,e){e:for(let t=0;t<e.length;t++){let r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function pE(n,e){return n?":not("+e.trim()+")":e}function HM(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if(typeof o=="string")if(r&2){let a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!zt(o)&&(e+=pE(s,i),i=""),r=o,s=s||!zt(r);t++}return i!==""&&(e+=pE(s,i)),e}function zM(n){return n.map(HM).join(",")}function qM(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!zt(i))break;i=s}r++}return{attrs:e,classes:t}}function cD(n){return aa(()=>{let e=fD(n),t=ce(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===iD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||rn.Emulated,styles:n.styles||Mt,_:null,schemas:n.schemas||null,tView:null,id:""});pD(t);let r=n.dependencies;return t.directiveDefs=mE(r,!1),t.pipeDefs=mE(r,!0),t.id=KM(t),t})}function GM(n){return yr(n)||uD(n)}function WM(n){return n!==null}function un(n){return aa(()=>({type:n.type,bootstrap:n.bootstrap||Mt,declarations:n.declarations||Mt,imports:n.imports||Mt,exports:n.exports||Mt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function gE(n,e){if(n==null)return hs;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,o,a=mr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(t[s]=a!==mr.None?[r,a]:r,e[s]=o):t[s]=r}return t}function Ce(n){return aa(()=>{let e=fD(n);return pD(e),e})}function yr(n){return n[hM]||null}function uD(n){return n[fM]||null}function lD(n){return n[pM]||null}function dD(n){let e=yr(n)||uD(n)||lD(n);return e!==null?e.standalone:!1}function hD(n,e){let t=n[gM]||null;if(!t&&e===!0)throw new Error(`Type ${ft(n)} does not have '\u0275mod' property.`);return t}function fD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||hs,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Mt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:gE(n.inputs,e),outputs:gE(n.outputs),debugInfo:null}}function pD(n){n.features?.forEach(e=>e(n))}function mE(n,e){if(!n)return null;let t=e?lD:GM;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(WM)}function KM(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function kt(n){return{\u0275providers:n}}function QM(...n){return{\u0275providers:gD(!0,n),\u0275fromNgModule:!0}}function gD(n,...e){let t=[],r=new Set,i,s=o=>{t.push(o)};return eg(e,o=>{let a=o;np(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&mD(i,s),t}function mD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];ng(i,s=>{e(s,r)})}}function np(n,e,t,r){if(n=ht(n),!n)return!1;let i=null,s=uE(n),o=!s&&yr(n);if(!s&&!o){let u=n.ngModule;if(s=uE(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=n}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)np(l,e,t,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{eg(s.imports,h=>{np(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&mD(l,e)}if(!a){let l=ds(i)||(()=>new i);e({provide:i,useFactory:l,deps:Mt},i),e({provide:rD,useValue:i,multi:!0},i),e({provide:fs,useValue:()=>q(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=n;ng(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function ng(n,e){for(let t of n)JE(t)&&(t=t.\u0275providers),Array.isArray(t)?ng(t,e):e(t)}var YM=Te({provide:String,useValue:Te});function yD(n){return n!==null&&typeof n=="object"&&YM in n}function JM(n){return!!(n&&n.useExisting)}function ZM(n){return!!(n&&n.useFactory)}function ps(n){return typeof n=="function"}function XM(n){return!!n.useClass}var ml=new V(""),Lu={},ex={},Uf;function rg(){return Uf===void 0&&(Uf=new Gu),Uf}var pt=class{},na=class extends pt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ip(e,o=>this.processProvider(o)),this.records.set(nD,ss(void 0,this)),i.has("environment")&&this.records.set(pt,ss(void 0,this));let s=this.records.get(ml);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(rD,Mt,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=fr(this),r=Nt(void 0),i;try{return e()}finally{fr(t),Nt(r)}}get(e,t=ea,r=oe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(dE))return e[dE](this);r=pl(r);let i,s=fr(this),o=Nt(void 0);try{if(!(r&oe.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=sx(e)&&hl(e);l&&this.injectableDefInScope(l)?u=ss(rp(e),Lu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&oe.Self?rg():this.parent;return t=r&oe.Optional&&t===ea?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[zu]=a[zu]||[]).unshift(ft(e)),s)throw a;return bM(a,e,"R3InjectorError",this.source)}else throw a}finally{Nt(o),fr(s)}}resolveInjectorInitializers(){let e=pe(null),t=fr(this),r=Nt(void 0),i;try{let s=this.get(fs,Mt,oe.Self);for(let o of s)o()}finally{fr(t),Nt(r),pe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ft(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=ht(e);let t=ps(e)?e:ht(e&&e.provide),r=nx(e);if(!ps(e)&&e.multi===!0){let i=this.records.get(t);i||(i=ss(void 0,Lu,!0),i.factory=()=>ep(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=pe(null);try{return t.value===Lu&&(t.value=ex,t.value=t.factory()),typeof t.value=="object"&&t.value&&ix(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=ht(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function rp(n){let e=hl(n),t=e!==null?e.factory:ds(n);if(t!==null)return t;if(n instanceof V)throw new $(204,!1);if(n instanceof Function)return tx(n);throw new $(204,!1)}function tx(n){if(n.length>0)throw new $(204,!1);let t=lM(n);return t!==null?()=>t.factory(n):()=>new n}function nx(n){if(yD(n))return ss(void 0,n.useValue);{let e=vD(n);return ss(e,Lu)}}function vD(n,e,t){let r;if(ps(n)){let i=ht(n);return ds(i)||rp(i)}else if(yD(n))r=()=>ht(n.useValue);else if(ZM(n))r=()=>n.useFactory(...ep(n.deps||[]));else if(JM(n))r=()=>q(ht(n.useExisting));else{let i=ht(n&&(n.useClass||n.provide));if(rx(n))r=()=>new i(...ep(n.deps));else return ds(i)||rp(i)}return r}function ss(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function rx(n){return!!n.deps}function ix(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function sx(n){return typeof n=="function"||typeof n=="object"&&n instanceof V}function ip(n,e){for(let t of n)Array.isArray(t)?ip(t,e):t&&JE(t)?ip(t.\u0275providers,e):e(t)}function Ft(n,e){n instanceof na&&n.assertNotDestroyed();let t,r=fr(n),i=Nt(void 0);try{return e()}finally{fr(r),Nt(i)}}function _D(){return ZE()!==void 0||EM()!=null}function ox(n){if(!_D())throw new $(-203,!1)}function ax(n){return typeof n=="function"}var Pn=0,ie=1,Z=2,it=3,qt=4,vt=5,ra=6,Wu=7,Gt=8,gs=9,sn=10,xe=11,ia=12,yE=13,Ds=14,Pt=15,si=16,os=17,Nn=18,yl=19,ID=20,pr=21,jf=22,xt=23,Ot=25,wD=1;var oi=7,Ku=8,ms=9,Et=10,Qu=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Qu||{});function gr(n){return Array.isArray(n)&&typeof n[wD]=="object"}function On(n){return Array.isArray(n)&&n[wD]===!0}function ig(n){return(n.flags&4)!==0}function vl(n){return n.componentOffset>-1}function _l(n){return(n.flags&1)===1}function vr(n){return!!n.template}function sp(n){return(n[Z]&512)!==0}var op=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function ED(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Lt(){return DD}function DD(n){return n.type.prototype.ngOnChanges&&(n.setInput=ux),cx}Lt.ngInherit=!0;function cx(){let n=bD(this),e=n?.current;if(e){let t=n.previous;if(t===hs)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function ux(n,e,t,r,i){let s=this.declaredInputs[r],o=bD(n)||lx(n,{previous:hs,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new op(l&&l.currentValue,t,u===hs),ED(n,e,i,t)}var TD="__ngSimpleChanges__";function bD(n){return n[TD]||null}function lx(n,e){return n[TD]=e}var vE=null;var tn=function(n,e,t){vE?.(n,e,t)},dx="svg",hx="math";function on(n){for(;Array.isArray(n);)n=n[Pn];return n}function CD(n,e){return on(e[n])}function Vt(n,e){return on(e[n.index])}function AD(n,e){return n.data[e]}function fx(n,e){return n[e]}function wr(n,e){let t=e[n];return gr(t)?t:t[Pn]}function px(n){return(n[Z]&4)===4}function sg(n){return(n[Z]&128)===128}function gx(n){return On(n[it])}function ys(n,e){return e==null?null:n[e]}function SD(n){n[os]=0}function RD(n){n[Z]&1024||(n[Z]|=1024,sg(n)&&wl(n))}function mx(n,e){for(;n>0;)e=e[Ds],n--;return e}function Il(n){return!!(n[Z]&9216||n[xt]?.dirty)}function ap(n){n[sn].changeDetectionScheduler?.notify(8),n[Z]&64&&(n[Z]|=1024),Il(n)&&wl(n)}function wl(n){n[sn].changeDetectionScheduler?.notify(0);let e=ai(n);for(;e!==null&&!(e[Z]&8192||(e[Z]|=8192,!sg(e)));)e=ai(e)}function ND(n,e){if((n[Z]&256)===256)throw new $(911,!1);n[pr]===null&&(n[pr]=[]),n[pr].push(e)}function yx(n,e){if(n[pr]===null)return;let t=n[pr].indexOf(e);t!==-1&&n[pr].splice(t,1)}function ai(n){let e=n[it];return On(e)?e[it]:e}var ae={lFrame:UD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var MD=!1;function vx(){return ae.lFrame.elementDepthCount}function _x(){ae.lFrame.elementDepthCount++}function Ix(){ae.lFrame.elementDepthCount--}function xD(){return ae.bindingsEnabled}function PD(){return ae.skipHydrationRootTNode!==null}function wx(n){return ae.skipHydrationRootTNode===n}function Ex(){ae.skipHydrationRootTNode=null}function ge(){return ae.lFrame.lView}function Be(){return ae.lFrame.tView}function U3(n){return ae.lFrame.contextLView=n,n[Gt]}function j3(n){return ae.lFrame.contextLView=null,n}function Je(){let n=OD();for(;n!==null&&n.type===64;)n=n.parent;return n}function OD(){return ae.lFrame.currentTNode}function Dx(){let n=ae.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function pi(n,e){let t=ae.lFrame;t.currentTNode=n,t.isParent=e}function og(){return ae.lFrame.isParent}function ag(){ae.lFrame.isParent=!1}function Tx(){return ae.lFrame.contextLView}function kD(){return MD}function _E(n){MD=n}function bx(){let n=ae.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Cx(n){return ae.lFrame.bindingIndex=n}function El(){return ae.lFrame.bindingIndex++}function Ax(n){let e=ae.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Sx(){return ae.lFrame.inI18n}function Rx(n,e){let t=ae.lFrame;t.bindingIndex=t.bindingRootIndex=n,cp(e)}function Nx(){return ae.lFrame.currentDirectiveIndex}function cp(n){ae.lFrame.currentDirectiveIndex=n}function Mx(n){let e=ae.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function FD(){return ae.lFrame.currentQueryIndex}function cg(n){ae.lFrame.currentQueryIndex=n}function xx(n){let e=n[ie];return e.type===2?e.declTNode:e.type===1?n[vt]:null}function LD(n,e,t){if(t&oe.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&oe.Host);)if(i=xx(s),i===null||(s=s[Ds],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=ae.lFrame=VD();return r.currentTNode=e,r.lView=n,!0}function ug(n){let e=VD(),t=n[ie];ae.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function VD(){let n=ae.lFrame,e=n===null?null:n.child;return e===null?UD(n):e}function UD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function jD(){let n=ae.lFrame;return ae.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var BD=jD;function lg(){let n=jD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Px(n){return(ae.lFrame.contextLView=mx(n,ae.lFrame.contextLView))[Gt]}function Ts(){return ae.lFrame.selectedIndex}function ci(n){ae.lFrame.selectedIndex=n}function Dl(){let n=ae.lFrame;return AD(n.tView,n.selectedIndex)}function Ox(){return ae.lFrame.currentNamespace}var $D=!0;function Tl(){return $D}function bl(n){$D=n}function kx(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=DD(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function Cl(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function Vu(n,e,t){HD(n,e,3,t)}function Uu(n,e,t,r){(n[Z]&3)===t&&HD(n,e,t,r)}function Bf(n,e){let t=n[Z];(t&3)===e&&(t&=16383,t+=1,n[Z]=t)}function HD(n,e,t,r){let i=r!==void 0?n[os]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[os]+=65536),(a<s||s==-1)&&(Fx(n,t,e,u),n[os]=(n[os]&4294901760)+u+2),u++}function IE(n,e){tn(4,n,e);let t=pe(null);try{e.call(n)}finally{pe(t),tn(5,n,e)}}function Fx(n,e,t,r){let i=t[r]<0,s=t[r+1],o=i?-t[r]:t[r],a=n[o];i?n[Z]>>14<n[os]>>16&&(n[Z]&3)===e&&(n[Z]+=16384,IE(a,s)):IE(a,s)}var ls=-1,ui=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function Lx(n){return n instanceof ui}function Vx(n){return(n.flags&8)!==0}function Ux(n){return(n.flags&16)!==0}var $f={},up=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=pl(r);let i=this.injector.get(e,$f,r);return i!==$f||t===$f?i:this.parentInjector.get(e,t,r)}};function zD(n){return n!==ls}function Yu(n){return n&32767}function jx(n){return n>>16}function Ju(n,e){let t=jx(n),r=e;for(;t>0;)r=r[Ds],t--;return r}var lp=!0;function wE(n){let e=lp;return lp=n,e}var Bx=256,qD=Bx-1,GD=5,$x=0,nn={};function Hx(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Xo)&&(r=t[Xo]),r==null&&(r=t[Xo]=$x++);let i=r&qD,s=1<<i;e.data[n+(i>>GD)]|=s}function Zu(n,e){let t=WD(n,e);if(t!==-1)return t;let r=e[ie];r.firstCreatePass&&(n.injectorIndex=e.length,Hf(r.data,n),Hf(e,null),Hf(r.blueprint,null));let i=dg(n,e),s=n.injectorIndex;if(zD(i)){let o=Yu(i),a=Ju(i,e),u=a[ie].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Hf(n,e){n.push(0,0,0,0,0,0,0,0,e)}function WD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function dg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=ZD(i),r===null)return ls;if(t++,i=i[Ds],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return ls}function dp(n,e,t){Hx(n,e,t)}function zx(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let s=t[i];if(sD(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(s===e)return t[i+1];i=i+2}}}return null}function KD(n,e,t){if(t&oe.Optional||n!==void 0)return n;Xp(e,"NodeInjector")}function QD(n,e,t,r){if(t&oe.Optional&&r===void 0&&(r=null),!(t&(oe.Self|oe.Host))){let i=n[gs],s=Nt(void 0);try{return i?i.get(e,r,t&oe.Optional):XE(e,r,t&oe.Optional)}finally{Nt(s)}}return KD(r,e,t)}function YD(n,e,t,r=oe.Default,i){if(n!==null){if(e[Z]&2048&&!(r&oe.Self)){let o=Kx(n,e,t,r,nn);if(o!==nn)return o}let s=JD(n,e,t,r,nn);if(s!==nn)return s}return QD(e,t,r,i)}function JD(n,e,t,r,i){let s=Gx(t);if(typeof s=="function"){if(!LD(e,n,r))return r&oe.Host?KD(i,t,r):QD(e,t,r,i);try{let o;if(o=s(r),o==null&&!(r&oe.Optional))Xp(t);else return o}finally{BD()}}else if(typeof s=="number"){let o=null,a=WD(n,e),u=ls,l=r&oe.Host?e[Pt][vt]:null;for((a===-1||r&oe.SkipSelf)&&(u=a===-1?dg(n,e):e[a+8],u===ls||!DE(r,!1)?a=-1:(o=e[ie],a=Yu(u),e=Ju(u,e)));a!==-1;){let h=e[ie];if(EE(s,a,h.data)){let p=qx(a,e,t,o,r,l);if(p!==nn)return p}u=e[a+8],u!==ls&&DE(r,e[ie].data[a+8]===l)&&EE(s,a,e)?(o=h,a=Yu(u),e=Ju(u,e)):a=-1}}return i}function qx(n,e,t,r,i,s){let o=e[ie],a=o.data[n+8],u=r==null?vl(a)&&lp:r!=o&&(a.type&3)!==0,l=i&oe.Host&&s===a,h=ju(a,o,t,u,l);return h!==null?li(e,o,h,a):nn}function ju(n,e,t,r,i){let s=n.providerIndexes,o=e.data,a=s&1048575,u=n.directiveStart,l=n.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let A=o[y];if(y<u&&t===A||y>=u&&A.type===t)return y}if(i){let y=o[u];if(y&&vr(y)&&y.type===t)return u}return null}function li(n,e,t,r){let i=n[t],s=e.data;if(Lx(i)){let o=i;o.resolving&&yM(mM(s[t]));let a=wE(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Nt(o.injectImpl):null,h=LD(n,r,oe.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&kx(t,s[t],e)}finally{l!==null&&Nt(l),wE(a),o.resolving=!1,BD()}}return i}function Gx(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Xo)?n[Xo]:void 0;return typeof e=="number"?e>=0?e&qD:Wx:e}function EE(n,e,t){let r=1<<n;return!!(t[e+(n>>GD)]&r)}function DE(n,e){return!(n&oe.Self)&&!(n&oe.Host&&e)}var ii=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return YD(this._tNode,this._lView,e,pl(r),t)}};function Wx(){return new ii(Je(),ge())}function gi(n){return aa(()=>{let e=n.prototype.constructor,t=e[Hu]||hp(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Hu]||hp(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function hp(n){return WE(n)?()=>{let e=hp(ht(n));return e&&e()}:ds(n)}function Kx(n,e,t,r,i){let s=n,o=e;for(;s!==null&&o!==null&&o[Z]&2048&&!(o[Z]&512);){let a=JD(s,o,t,r|oe.Self,nn);if(a!==nn)return a;let u=s.parent;if(!u){let l=o[ID];if(l){let h=l.get(t,nn,r);if(h!==nn)return h}u=ZD(o),o=o[Ds]}s=u}return i}function ZD(n){let e=n[ie],t=e.type;return t===2?e.declTNode:t===1?n[vt]:null}function hg(n){return zx(Je(),n)}function TE(n,e=null,t=null,r){let i=XD(n,e,t,r);return i.resolveInjectorInitializers(),i}function XD(n,e=null,t=null,r,i=new Set){let s=[t||Mt,QM(n)];return r=r||(typeof n=="object"?void 0:ft(n)),new na(s,e||rg(),r||null,i)}var ze=class n{static{this.THROW_IF_NOT_FOUND=ea}static{this.NULL=new Gu}static create(e,t){if(Array.isArray(e))return TE({name:""},t,e,"");{let r=e.name??"";return TE({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=B({token:n,providedIn:"any",factory:()=>q(nD)})}static{this.__NG_ELEMENT_ID__=-1}};var Qx=new V("");Qx.__NG_ELEMENT_ID__=n=>{let e=Je();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(n&oe.Optional)return null;throw new $(204,!1)};var Yx="ngOriginalError";function zf(n){return n[Yx]}var eT=!0,fg=(()=>{class n{static{this.__NG_ELEMENT_ID__=Jx}static{this.__NG_ENV_ID__=t=>t}}return n})(),fp=class extends fg{constructor(e){super(),this._lView=e}onDestroy(e){return ND(this._lView,e),()=>yx(this._lView,e)}};function Jx(){return new fp(ge())}var Er=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Qe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}}return n})();var pp=class extends He{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,_D()&&(this.destroyRef=x(fg,{optional:!0})??void 0,this.pendingTasks=x(Er,{optional:!0})??void 0)}emit(e){let t=pe(null);try{super.next(e)}finally{pe(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof Me&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ae=pp;function Xu(...n){}function tT(n){let e,t;function r(){n=Xu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function bE(n){return queueMicrotask(()=>n()),()=>{n=Xu}}var pg="isAngularZone",el=pg+"_ID",Zx=0,ye=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ae(!1),this.onMicrotaskEmpty=new Ae(!1),this.onStable=new Ae(!1),this.onError=new Ae(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=eT}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,tP(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(pg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new $(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,Xx,Xu,Xu);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},Xx={};function gg(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function eP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){tT(()=>{n.callbackScheduled=!1,gp(n),n.isCheckStableRunning=!0,gg(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),gp(n)}function tP(n){let e=()=>{eP(n)},t=Zx++;n._inner=n._inner.fork({name:"angular",properties:{[pg]:!0,[el]:t,[el+t]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(nP(u))return r.invokeTask(s,o,a,u);try{return CE(n),r.invokeTask(s,o,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),AE(n)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return CE(n),r.invoke(s,o,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!rP(u)&&e(),AE(n)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(n._hasPendingMicrotasks=o.microTask,gp(n),gg(n)):o.change=="macroTask"&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}function gp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function CE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function AE(n){n._nesting--,gg(n)}var mp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ae,this.onMicrotaskEmpty=new Ae,this.onStable=new Ae,this.onError=new Ae}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function nP(n){return nT(n,"__ignore_ng_zone__")}function rP(n){return nT(n,"__scheduler_tick__")}function nT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Mn=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&zf(e);for(;t&&zf(t);)t=zf(t);return t||null}},iP=new V("",{providedIn:"root",factory:()=>{let n=x(ye),e=x(Mn);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function sP(){return bs(Je(),ge())}function bs(n,e){return new gt(Vt(n,e))}var gt=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=sP}}return n})();function oP(n){return n instanceof gt?n.nativeElement:n}function aP(){return this._results[Symbol.iterator]()}var yp=class n{get changes(){return this._changes??=new Ae}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=aP)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=SM(e);(this._changesDetected=!AM(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function rT(n){return(n.flags&128)===128}var iT=new Map,cP=0;function uP(){return cP++}function lP(n){iT.set(n[yl],n)}function vp(n){iT.delete(n[yl])}var SE="__ngContext__";function _r(n,e){gr(e)?(n[SE]=e[yl],lP(e)):n[SE]=e}function sT(n){return aT(n[ia])}function oT(n){return aT(n[qt])}function aT(n){for(;n!==null&&!On(n);)n=n[qt];return n}var _p;function cT(n){_p=n}function dP(){if(_p!==void 0)return _p;if(typeof document<"u")return document;throw new $(210,!1)}var mg=new V("",{providedIn:"root",factory:()=>hP}),hP="ng",yg=new V(""),Ut=new V("",{providedIn:"platform",factory:()=>"unknown"});var vg=new V("",{providedIn:"root",factory:()=>dP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var fP="h",pP="b";var gP=()=>null;function _g(n,e,t=!1){return gP(n,e,t)}var uT=!1,mP=new V("",{providedIn:"root",factory:()=>uT});var Pu;function yP(){if(Pu===void 0&&(Pu=null,Jf.trustedTypes))try{Pu=Jf.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Pu}function RE(n){return yP()?.createScriptURL(n)||n}var tl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${qE})`}};function ua(n){return n instanceof tl?n.changingThisBreaksApplicationSecurity:n}function Ig(n,e){let t=vP(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${qE})`)}return t===e}function vP(n){return n instanceof tl&&n.getTypeName()||null}var _P=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function lT(n){return n=String(n),n.match(_P)?n:"unsafe:"+n}var Al=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Al||{});function IP(n){let e=hT();return e?e.sanitize(Al.URL,n)||"":Ig(n,"URL")?ua(n):lT(fl(n))}function wP(n){let e=hT();if(e)return RE(e.sanitize(Al.RESOURCE_URL,n)||"");if(Ig(n,"ResourceURL"))return RE(ua(n));throw new $(904,!1)}function EP(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?wP:IP}function dT(n,e,t){return EP(e,t)(n)}function hT(){let n=ge();return n&&n[sn].sanitizer}var DP=/^>|^->|<!--|-->|--!>|<!-$/g,TP=/(<|>)/g,bP="\u200B$1\u200B";function CP(n){return n.replace(DP,e=>e.replace(TP,bP))}function fT(n){return n instanceof Function?n():n}function AP(n){return(n??x(ze)).get(Ut)==="browser"}var an=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(an||{}),SP;function wg(n,e){return SP(n,e)}function as(n,e,t,r,i){if(r!=null){let s,o=!1;On(r)?s=r:gr(r)&&(o=!0,r=r[Pn]);let a=on(r);n===0&&t!==null?i==null?_T(e,t,a):nl(e,t,a,i||null,!0):n===1&&t!==null?nl(e,t,a,i||null,!0):n===2?$P(e,a,o):n===3&&e.destroyNode(a),s!=null&&zP(e,n,s,t,i)}}function RP(n,e){return n.createText(e)}function NP(n,e,t){n.setValue(e,t)}function MP(n,e){return n.createComment(CP(e))}function pT(n,e,t){return n.createElement(e,t)}function xP(n,e){gT(n,e),e[Pn]=null,e[vt]=null}function PP(n,e,t,r,i,s){r[Pn]=i,r[vt]=e,Rl(n,r,t,1,i,s)}function gT(n,e){e[sn].changeDetectionScheduler?.notify(9),Rl(n,e,e[xe],2,null,null)}function OP(n){let e=n[ia];if(!e)return qf(n[ie],n);for(;e;){let t=null;if(gr(e))t=e[ia];else{let r=e[Et];r&&(t=r)}if(!t){for(;e&&!e[qt]&&e!==n;)gr(e)&&qf(e[ie],e),e=e[it];e===null&&(e=n),gr(e)&&qf(e[ie],e),t=e&&e[qt]}e=t}}function kP(n,e,t,r){let i=Et+r,s=t.length;r>0&&(t[i-1][qt]=e),r<s-Et?(e[qt]=t[i],tD(t,Et+r,e)):(t.push(e),e[qt]=null),e[it]=t;let o=e[si];o!==null&&t!==o&&mT(o,e);let a=e[Nn];a!==null&&a.insertView(n),ap(e),e[Z]|=128}function mT(n,e){let t=n[ms],r=e[it];if(gr(r))n[Z]|=Qu.HasTransplantedViews;else{let i=r[it][Pt];e[Pt]!==i&&(n[Z]|=Qu.HasTransplantedViews)}t===null?n[ms]=[e]:t.push(e)}function Eg(n,e){let t=n[ms],r=t.indexOf(e);t.splice(r,1)}function Ip(n,e){if(n.length<=Et)return;let t=Et+e,r=n[t];if(r){let i=r[si];i!==null&&i!==n&&Eg(i,r),e>0&&(n[t-1][qt]=r[qt]);let s=qu(n,Et+e);xP(r[ie],r);let o=s[Nn];o!==null&&o.detachView(s[ie]),r[it]=null,r[qt]=null,r[Z]&=-129}return r}function yT(n,e){if(!(e[Z]&256)){let t=e[xe];t.destroyNode&&Rl(n,e,t,3,null,null),OP(e)}}function qf(n,e){if(e[Z]&256)return;let t=pe(null);try{e[Z]&=-129,e[Z]|=256,e[xt]&&_f(e[xt]),LP(n,e),FP(n,e),e[ie].type===1&&e[xe].destroy();let r=e[si];if(r!==null&&On(e[it])){r!==e[it]&&Eg(r,e);let i=e[Nn];i!==null&&i.detachView(n)}vp(e)}finally{pe(t)}}function FP(n,e){let t=n.cleanup,r=e[Wu];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[t[s+1]];t[s].call(o)}r!==null&&(e[Wu]=null);let i=e[pr];if(i!==null){e[pr]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function LP(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof ui)){let s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];tn(4,a,u);try{u.call(a)}finally{tn(5,a,u)}}else{tn(4,i,s);try{s.call(i)}finally{tn(5,i,s)}}}}}function vT(n,e,t){return VP(n,e.parent,t)}function VP(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Pn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===rn.None||s===rn.Emulated)return null}return Vt(r,t)}}function nl(n,e,t,r,i){n.insertBefore(e,t,r,i)}function _T(n,e,t){n.appendChild(e,t)}function NE(n,e,t,r,i){r!==null?nl(n,e,t,r,i):_T(n,e,t)}function IT(n,e){return n.parentNode(e)}function UP(n,e){return n.nextSibling(e)}function wT(n,e,t){return BP(n,e,t)}function jP(n,e,t){return n.type&40?Vt(n,t):null}var BP=jP,ME;function Sl(n,e,t,r){let i=vT(n,r,e),s=e[xe],o=r.parent||e[vt],a=wT(o,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)NE(s,i,t[u],a,!1);else NE(s,i,t,a,!1);ME!==void 0&&ME(s,r,e,t,i)}function Zo(n,e){if(e!==null){let t=e.type;if(t&3)return Vt(e,n);if(t&4)return wp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Zo(n,r);{let i=n[e.index];return On(i)?wp(-1,i):on(i)}}else{if(t&128)return Zo(n,e.next);if(t&32)return wg(e,n)()||on(n[e.index]);{let r=ET(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ai(n[Pt]);return Zo(i,r)}else return Zo(n,e.next)}}}return null}function ET(n,e){if(e!==null){let r=n[Pt][vt],i=e.projection;return r.projection[i]}return null}function wp(n,e){let t=Et+n+1;if(t<e.length){let r=e[t],i=r[ie].firstChild;if(i!==null)return Zo(r,i)}return e[oi]}function $P(n,e,t){n.removeChild(null,e,t)}function Dg(n,e,t,r,i,s,o){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(o&&e===0&&(a&&_r(on(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)Dg(n,e,t.child,r,i,s,!1),as(e,n,i,a,s);else if(u&32){let l=wg(t,r),h;for(;h=l();)as(e,n,i,h,s);as(e,n,i,a,s)}else u&16?DT(n,e,r,t,i,s):as(e,n,i,a,s);t=o?t.projectionNext:t.next}}function Rl(n,e,t,r,i,s){Dg(t,r,n.firstChild,e,i,s,!1)}function HP(n,e,t){let r=e[xe],i=vT(n,t,e),s=t.parent||e[vt],o=wT(s,t,e);DT(r,0,e,t,i,o)}function DT(n,e,t,r,i,s){let o=t[Pt],u=o[vt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];as(e,n,i,h,s)}else{let l=u,h=o[it];rT(r)&&(l.flags|=128),Dg(n,e,l,h,i,s,!0)}}function zP(n,e,t,r,i){let s=t[oi],o=on(t);s!==o&&as(e,n,r,s,i);for(let a=Et;a<t.length;a++){let u=t[a];Rl(u[ie],u,n,e,r,s)}}function qP(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:an.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=an.Important),n.setStyle(t,r,i,s))}}function GP(n,e,t){n.setAttribute(e,"style",t)}function TT(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function bT(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&tp(n,e,r),i!==null&&TT(n,e,i),s!==null&&GP(n,e,s)}var Dr={};function B3(n=1){CT(Be(),ge(),Ts()+n,!1)}function CT(n,e,t,r){if(!r)if((e[Z]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Vu(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Uu(e,s,0,t)}ci(t)}function z(n,e=oe.Default){let t=ge();if(t===null)return q(n,e);let r=Je();return YD(r,t,ht(n),e)}function AT(){let n="invalid";throw new Error(n)}function ST(n,e,t,r,i,s){let o=pe(null);try{let a=null;i&mr.SignalBased&&(a=e[r][Cn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&mr.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,a,s,t,r):ED(e,a,r,s)}finally{pe(o)}}function WP(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)ci(~i);else{let s=i,o=t[++r],a=t[++r];Rx(o,s);let u=e[s];a(2,u)}}}finally{ci(-1)}}function Nl(n,e,t,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[Pn]=i,p[Z]=r|4|128|8|64,(l!==null||n&&n[Z]&2048)&&(p[Z]|=2048),SD(p),p[it]=p[Ds]=n,p[Gt]=t,p[sn]=o||n&&n[sn],p[xe]=a||n&&n[xe],p[gs]=u||n&&n[gs]||null,p[vt]=s,p[yl]=uP(),p[ra]=h,p[ID]=l,p[Pt]=e.type==2?n[Pt]:p,p}function Cs(n,e,t,r,i){let s=n.data[e];if(s===null)s=KP(n,e,t,r,i),Sx()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let o=Dx();s.injectorIndex=o===null?-1:o.injectorIndex}return pi(s,!0),s}function KP(n,e,t,r,i){let s=OD(),o=og(),a=o?s:s&&s.parent,u=n.data[e]=eO(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function RT(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function NT(n,e,t,r,i){let s=Ts(),o=r&2;try{ci(-1),o&&e.length>Ot&&CT(n,e,Ot,!1),tn(o?2:0,i),t(r,i)}finally{ci(s),tn(o?3:1,i)}}function Tg(n,e,t){if(ig(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=n.data[o];if(a.contentQueries){let u=t[o];a.contentQueries(1,u,o)}}}finally{pe(r)}}}function bg(n,e,t){xD()&&(oO(n,e,t,Vt(t,e)),(t.flags&64)===64&&PT(n,e,t))}function Cg(n,e,t=Vt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?t(e,n):n[o];n[i++]=a}}}function MT(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Ag(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Ag(n,e,t,r,i,s,o,a,u,l,h){let p=Ot+r,m=p+i,y=QP(p,m),A=typeof l=="function"?l():l;return y[ie]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:h}}function QP(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:Dr);return t}function YP(n,e,t,r){let s=r.get(mP,uT)||t===rn.ShadowDom,o=n.selectRootElement(e,s);return JP(o),o}function JP(n){ZP(n)}var ZP=()=>null;function XP(n,e,t,r){let i=FT(e);i.push(t),n.firstCreatePass&&LT(n).push(r,i.length-1)}function eO(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return PD()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xE(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=mr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}n===0?PE(r,t,l,a,u):PE(r,t,l,a)}return r}function PE(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function tO(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=t?t.get(p):null,y=m?m.inputs:null,A=m?m.outputs:null;u=xE(0,p.inputs,h,u,y),l=xE(1,p.outputs,h,l,A);let N=u!==null&&o!==null&&!tg(e)?yO(u,h,o):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function nO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Sg(n,e,t,r,i,s,o,a){let u=Vt(e,t),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Ng(n,t,h,r,i),vl(e)&&rO(t,e.index)):e.type&3?(r=nO(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function rO(n,e){let t=wr(e,n);t[Z]&16||(t[Z]|=64)}function Rg(n,e,t,r){if(xD()){let i=r===null?null:{"":-1},s=cO(n,t),o,a;s===null?o=a=null:[o,a]=s,o!==null&&xT(n,e,t,o,i,a),i&&uO(t,r,i)}t.mergedAttrs=ta(t.mergedAttrs,t.attrs)}function xT(n,e,t,r,i,s){for(let l=0;l<r.length;l++)dp(Zu(t,e),n,r[l].type);dO(t,n.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=RT(n,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];t.mergedAttrs=ta(t.mergedAttrs,h.hostAttrs),hO(n,t,e,u,h),lO(u,h,i),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}tO(n,t,s)}function iO(n,e,t,r,i){let s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;o===null&&(o=n.hostBindingOpCodes=[]);let a=~e.index;sO(o)!=a&&o.push(a),o.push(t,r,s)}}function sO(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function oO(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;vl(t)&&fO(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||Zu(t,e),_r(r,e);let o=t.initialInputs;for(let a=i;a<s;a++){let u=n.data[a],l=li(e,n,a,t);if(_r(l,e),o!==null&&mO(e,a-i,l,u,t,o),vr(u)){let h=wr(t.index,e);h[Gt]=li(e,n,a,t)}}}function PT(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,o=Nx();try{ci(s);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];cp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&aO(u,l)}}finally{ci(-1),cp(o)}}function aO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function cO(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let o=t[s];if(aD(e,o.selectors,!1))if(r||(r=[]),vr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Ep(n,e,u)}else r.unshift(o),Ep(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Ep(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function uO(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new $(-301,!1);r.push(e[i],s)}}}function lO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;vr(e)&&(t[""]=n)}}function dO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function hO(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=ds(i.type,!0)),o=new ui(s,vr(i),z);n.blueprint[r]=o,t[r]=o,iO(n,e,r,RT(n,t,i.hostVars,Dr),i)}function fO(n,e,t){let r=Vt(e,n),i=MT(t),s=n[sn].rendererFactory,o=16;t.signals?o=4096:t.onPush&&(o=64);let a=Ml(n,Nl(n,i,null,o,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=a}function pO(n,e,t,r,i,s){let o=Vt(n,e);gO(e[xe],o,s,n.value,t,r,i)}function gO(n,e,t,r,i,s,o){if(s==null)n.removeAttribute(e,i,t);else{let a=o==null?fl(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}function mO(n,e,t,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];ST(r,t,u,l,h,p)}}function yO(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let o=n[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],t[i+1]);break}}i+=2}return r}function OT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function kT(n,e){let t=n.contentQueries;if(t!==null){let r=pe(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],o=t[i+1];if(o!==-1){let a=n.data[o];cg(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function Ml(n,e){return n[ia]?n[yE][qt]=e:n[ia]=e,n[yE]=e,e}function Dp(n,e,t){cg(0);let r=pe(null);try{e(n,t)}finally{pe(r)}}function FT(n){return n[Wu]??=[]}function LT(n){return n.cleanup??=[]}function VT(n,e){let t=n[gs],r=t?t.get(Mn,null):null;r&&r.handleError(e)}function Ng(n,e,t,r,i){for(let s=0;s<t.length;){let o=t[s++],a=t[s++],u=t[s++],l=e[o],h=n.data[o];ST(h,l,r,a,u,i)}}function vO(n,e,t){let r=CD(e,n);NP(n[xe],r,t)}function _O(n,e){let t=wr(e,n),r=t[ie];IO(r,t);let i=t[Pn];i!==null&&t[ra]===null&&(t[ra]=_g(i,t[gs])),Mg(r,t,t[Gt])}function IO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Mg(n,e,t){ug(e);try{let r=n.viewQuery;r!==null&&Dp(1,r,t);let i=n.template;i!==null&&NT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[Nn]?.finishViewCreation(n),n.staticContentQueries&&kT(n,e),n.staticViewQueries&&Dp(2,n.viewQuery,t);let s=n.components;s!==null&&wO(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Z]&=-5,lg()}}function wO(n,e){for(let t=0;t<e.length;t++)_O(n,e[t])}function UT(n,e,t,r){let i=pe(null);try{let s=e.tView,a=n[Z]&4096?4096:16,u=Nl(n,s,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[si]=l;let h=n[Nn];return h!==null&&(u[Nn]=h.createEmbeddedView(s)),Mg(s,u,t),u}finally{pe(i)}}function Tp(n,e){return!e||e.firstChild===null||rT(n)}function jT(n,e,t,r=!0){let i=e[ie];if(kP(i,e,n,t),r){let o=wp(t,n),a=e[xe],u=IT(a,n[oi]);u!==null&&PP(i,n[vt],a,e,u,o)}let s=e[ra];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function rl(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(on(s)),On(s)&&EO(s,r);let o=t.type;if(o&8)rl(n,e,t.child,r);else if(o&32){let a=wg(t,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=ET(e,t);if(Array.isArray(a))r.push(...a);else{let u=ai(e[Pt]);rl(u[ie],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function EO(n,e){for(let t=Et;t<n.length;t++){let r=n[t],i=r[ie].firstChild;i!==null&&rl(r[ie],r,i,e)}n[oi]!==n[Pn]&&e.push(n[oi])}var BT=[];function DO(n){return n[xt]??TO(n)}function TO(n){let e=BT.pop()??Object.create(CO);return e.lView=n,e}function bO(n){n.lView[xt]!==n&&(n.lView=null,BT.push(n))}var CO=ce(k({},Ko),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{wl(n.lView)},consumerOnSignalRead(){this.lView[xt]=this}});function AO(n){let e=n[xt]??Object.create(SO);return e.lView=n,e}var SO=ce(k({},Ko),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=ai(n.lView);for(;e&&!$T(e[ie]);)e=ai(e);e&&RD(e)},consumerOnSignalRead(){this.lView[xt]=this}});function $T(n){return n.type!==2}var RO=100;function HT(n,e=!0,t=0){let r=n[sn],i=r.rendererFactory,s=!1;s||i.begin?.();try{NO(n,t)}catch(o){throw e&&VT(n,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function NO(n,e){let t=kD();try{_E(!0),bp(n,e);let r=0;for(;Il(n);){if(r===RO)throw new $(103,!1);r++,bp(n,1)}}finally{_E(t)}}function MO(n,e,t,r){let i=e[Z];if((i&256)===256)return;let s=!1,o=!1;!s&&e[sn].inlineEffectRunner?.flush(),ug(e);let a=!0,u=null,l=null;s||($T(n)?(l=DO(e),u=nu(l)):Dw()===null?(a=!1,l=AO(e),u=nu(l)):e[xt]&&(_f(e[xt]),e[xt]=null));try{SD(e),Cx(n.bindingStartIndex),t!==null&&NT(n,e,t,2,r);let h=(i&3)===3;if(!s)if(h){let y=n.preOrderCheckHooks;y!==null&&Vu(e,y,null)}else{let y=n.preOrderHooks;y!==null&&Uu(e,y,0,null),Bf(e,0)}if(o||xO(e),zT(e,0),n.contentQueries!==null&&kT(n,e),!s)if(h){let y=n.contentCheckHooks;y!==null&&Vu(e,y)}else{let y=n.contentHooks;y!==null&&Uu(e,y,1),Bf(e,1)}WP(n,e);let p=n.components;p!==null&&GT(e,p,0);let m=n.viewQuery;if(m!==null&&Dp(2,m,r),!s)if(h){let y=n.viewCheckHooks;y!==null&&Vu(e,y)}else{let y=n.viewHooks;y!==null&&Uu(e,y,2),Bf(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[jf]){for(let y of e[jf])y();e[jf]=null}s||(e[Z]&=-73)}catch(h){throw s||wl(e),h}finally{l!==null&&(yf(l,u),a&&bO(l)),lg()}}function zT(n,e){for(let t=sT(n);t!==null;t=oT(t))for(let r=Et;r<t.length;r++){let i=t[r];qT(i,e)}}function xO(n){for(let e=sT(n);e!==null;e=oT(e)){if(!(e[Z]&Qu.HasTransplantedViews))continue;let t=e[ms];for(let r=0;r<t.length;r++){let i=t[r];RD(i)}}}function PO(n,e,t){let r=wr(e,n);qT(r,t)}function qT(n,e){sg(n)&&bp(n,e)}function bp(n,e){let r=n[ie],i=n[Z],s=n[xt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&vf(s)),o||=!1,s&&(s.dirty=!1),n[Z]&=-9217,o)MO(r,n,r.template,n[Gt]);else if(i&8192){zT(n,1);let a=r.components;a!==null&&GT(n,a,1)}}function GT(n,e,t){for(let r=0;r<e.length;r++)PO(n,e[r],t)}function xg(n,e){let t=kD()?64:1088;for(n[sn].changeDetectionScheduler?.notify(e);n;){n[Z]|=t;let r=ai(n);if(sp(n)&&!r)return n;n=r}return null}var di=class{get rootNodes(){let e=this._lView,t=e[ie];return rl(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Gt]}set context(e){this._lView[Gt]=e}get destroyed(){return(this._lView[Z]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[it];if(On(e)){let t=e[Ku],r=t?t.indexOf(this):-1;r>-1&&(Ip(e,r),qu(t,r))}this._attachedToViewContainer=!1}yT(this._lView[ie],this._lView)}onDestroy(e){ND(this._lView,e)}markForCheck(){xg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Z]&=-129}reattach(){ap(this._lView),this._lView[Z]|=128}detectChanges(){this._lView[Z]|=1024,HT(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=sp(this._lView),t=this._lView[si];t!==null&&!e&&Eg(t,this._lView),gT(this._lView[ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let t=sp(this._lView),r=this._lView[si];r!==null&&!t&&mT(r,this._lView),ap(this._lView)}},hi=(()=>{class n{static{this.__NG_ELEMENT_ID__=FO}}return n})(),OO=hi,kO=class extends OO{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=UT(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new di(i)}};function FO(){return xl(Je(),ge())}function xl(n,e){return n.type&4?new kO(e,n,bs(n,e)):null}var H3=new RegExp(`^(\\d+)*(${pP}|${fP})*(.*)`);var LO=()=>null;function Cp(n,e){return LO(n,e)}var vs=class{},Pl=new V("",{providedIn:"root",factory:()=>!1});var WT=new V(""),KT=new V(""),Ap=class{},il=class{};function VO(n){let e=Error(`No component factory found for ${ft(n)}.`);return e[UO]=n,e}var UO="ngComponent";var Sp=class{resolveComponentFactory(e){throw VO(e)}},_s=class{static{this.NULL=new Sp}},Is=class{},Kt=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>jO()}}return n})();function jO(){let n=ge(),e=Je(),t=wr(e.index,n);return(gr(t)?t:n)[xe]}var BO=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>null})}}return n})();function sl(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=aE(i,a);else if(s==2){let u=a,l=e[++o];r=aE(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var ol=class extends _s{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=yr(e);return new ws(t,this.ngModule)}};function OE(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:mr.None;e?t.push({propName:o,templateName:r,isSignal:(a&mr.SignalBased)!==0}):t.push({propName:o,templateName:r})}return t}function $O(n){let e=n.toLowerCase();return e==="svg"?dx:e==="math"?hx:null}var ws=class extends il{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=OE(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return OE(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=zM(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof pt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new up(e,o):e,u=a.get(Is,null);if(u===null)throw new $(407,!1);let l=a.get(BO,null),h=a.get(vs,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",A=r?YP(m,r,this.componentDef.encapsulation,a):pT(m,y,$O(y)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let R=null;A!==null&&(R=_g(A,a,!0));let F=Ag(0,null,null,1,0,null,null,null,null,null,null),H=Nl(null,F,null,N,null,null,p,m,a,null,R);ug(H);let L,ee,_e=null;try{let K=this.componentDef,E,v=null;K.findHostDirectiveDefs?(E=[],v=new Map,K.findHostDirectiveDefs(K,E,v),E.push(K)):E=[K];let _=HO(H,A);_e=zO(_,A,K,E,H,p,m),ee=AD(F,Ot),A&&WO(m,K,A,r),t!==void 0&&KO(ee,this.ngContentSelectors,t),L=GO(_e,K,E,v,H,[QO]),Mg(F,H,null)}catch(K){throw _e!==null&&vp(_e),vp(H),K}finally{lg()}return new Rp(this.componentType,L,bs(ee,H),H,ee)}finally{pe(s)}}},Rp=class extends Ap{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new di(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;Ng(s[ie],s,i,e,t),this.previousInputValues.set(e,t);let o=wr(this._tNode.index,s);xg(o,1)}}get injector(){return new ii(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function HO(n,e){let t=n[ie],r=Ot;return n[r]=e,Cs(t,r,2,"#host",null)}function zO(n,e,t,r,i,s,o){let a=i[ie];qO(r,n,e,o);let u=null;e!==null&&(u=_g(e,i[gs]));let l=s.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=Nl(i,MT(t),null,h,i[n.index],n,s,l,null,null,u);return a.firstCreatePass&&Ep(a,n,r.length-1),Ml(i,p),i[n.index]=p}function qO(n,e,t,r){for(let i of n)e.mergedAttrs=ta(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(sl(e,e.mergedAttrs,!0),t!==null&&bT(r,t,e))}function GO(n,e,t,r,i,s){let o=Je(),a=i[ie],u=Vt(o,i);xT(a,i,o,t,null,r);for(let h=0;h<t.length;h++){let p=o.directiveStart+h,m=li(i,a,p,o);_r(m,i)}PT(a,i,o),u&&_r(u,i);let l=li(i,a,o.directiveStart+o.componentOffset,o);if(n[Gt]=i[Gt]=l,s!==null)for(let h of s)h(l,e);return Tg(a,o,i),l}function WO(n,e,t,r){if(r)tp(n,t,["ng-version","18.2.8"]);else{let{attrs:i,classes:s}=qM(e.selectors[0]);i&&tp(n,t,i),s&&s.length>0&&TT(n,t,s.join(" "))}}function KO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function QO(){let n=Je();Cl(ge()[ie],n)}var kn=(()=>{class n{static{this.__NG_ELEMENT_ID__=YO}}return n})();function YO(){let n=Je();return YT(n,ge())}var JO=kn,QT=class extends JO{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return bs(this._hostTNode,this._hostLView)}get injector(){return new ii(this._hostTNode,this._hostLView)}get parentInjector(){let e=dg(this._hostTNode,this._hostLView);if(zD(e)){let t=Ju(e,this._hostLView),r=Yu(e),i=t[ie].data[r+8];return new ii(i,t)}else return new ii(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=kE(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Et}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Cp(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},s,o);return this.insertImpl(a,i,Tp(this._hostTNode,o)),a}createComponent(e,t,r,i,s){let o=e&&!ax(e),a;if(o)a=t;else{let A=t||{};a=A.index,r=A.injector,i=A.projectableNodes,s=A.environmentInjector||A.ngModuleRef}let u=o?e:new ws(yr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let N=(o?l:this.parentInjector).get(pt,null);N&&(s=N)}let h=yr(u.componentType??{}),p=Cp(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,s);return this.insertImpl(y.hostView,a,Tp(this._hostTNode,p)),y}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(gx(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[it],l=new QT(u,u[vt],u[it]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(t),o=this._lContainer;return jT(o,i,s,r),e.attachToViewContainerRef(),tD(Gf(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=kE(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Ip(this._lContainer,t);r&&(qu(Gf(this._lContainer),t),yT(r[ie],r))}detach(e){let t=this._adjustIndex(e,-1),r=Ip(this._lContainer,t);return r&&qu(Gf(this._lContainer),t)!=null?new di(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function kE(n){return n[Ku]}function Gf(n){return n[Ku]||(n[Ku]=[])}function YT(n,e){let t,r=e[n.index];return On(r)?t=r:(t=OT(r,e,null,n),e[n.index]=t,Ml(e,t)),XO(t,e,n,r),new QT(t,n,e)}function ZO(n,e){let t=n[xe],r=t.createComment(""),i=Vt(e,n),s=IT(t,i);return nl(t,s,r,UP(t,i),!1),r}var XO=nk,ek=()=>!1;function tk(n,e,t){return ek(n,e,t)}function nk(n,e,t,r){if(n[oi])return;let i;t.type&8?i=on(r):i=ZO(e,t),n[oi]=i}var Np=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Mp=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let o=t.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Pg(e,t).matches!==null&&this.queries[t].setDirty()}},xp=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=lk(e):this.predicate=e}},Pp=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Op=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,rk(t,s)),this.matchTNodeWithReadOption(e,t,ju(t,e,s,!1,!1))}else r===hi?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ju(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===gt||i===kn||i===hi&&t.type&4)this.addMatch(t.index,-2);else{let s=ju(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function rk(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function ik(n,e){return n.type&11?bs(n,e):n.type&4?xl(n,e):null}function sk(n,e,t,r){return t===-1?ik(e,n):t===-2?ok(n,e,r):li(n,n[ie],t,e)}function ok(n,e,t){if(t===gt)return bs(e,n);if(t===hi)return xl(e,n);if(t===kn)return YT(e,n)}function JT(n,e,t,r){let i=e[Nn].queries[r];if(i.matches===null){let s=n.data,o=t.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(sk(e,h,o[u+1],t.metadata.read))}}i.matches=a}return i.matches}function kp(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let o=JT(n,e,i,t);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=Et;p<h.length;p++){let m=h[p];m[si]===m[it]&&kp(m[ie],m,l,r)}if(h[ms]!==null){let p=h[ms];for(let m=0;m<p.length;m++){let y=p[m];kp(y[ie],y,l,r)}}}}}return r}function ak(n,e){return n[Nn].queries[e].queryList}function ck(n,e,t){let r=new yp((t&4)===4);return XP(n,e,r,r.destroy),(e[Nn]??=new Mp).queries.push(new Np(r))-1}function uk(n,e,t,r){let i=Be();if(i.firstCreatePass){let s=Je();dk(i,new xp(e,t,r),s.index),hk(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return ck(i,ge(),t)}function lk(n){return n.split(",").map(e=>e.trim())}function dk(n,e,t){n.queries===null&&(n.queries=new Pp),n.queries.track(new Op(e,t))}function hk(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function Pg(n,e){return n.queries.getByIndex(e)}function fk(n,e){let t=n[ie],r=Pg(t,e);return r.crossesNgTemplate?kp(t,n,e,[]):JT(t,n,r,e)}var FE=new Set;function mi(n){FE.has(n)||(FE.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function pk(n){return typeof n=="function"&&n[Cn]!==void 0}function As(n,e){mi("NgSignals");let t=Ow(n),r=t[Cn];return e?.equal&&(r.equal=e.equal),t.set=i=>If(r,i),t.update=i=>kw(r,i),t.asReadonly=gk.bind(t),t}function gk(){let n=this[Cn];if(n.readonlyFn===void 0){let e=()=>this();e[Cn]=n,n.readonlyFn=e}return n.readonlyFn}function ZT(n){return pk(n)&&typeof n.set=="function"}function mk(n){return Object.getPrototypeOf(n.prototype).constructor}function Dt(n){let e=mk(n.type),t=!0,r=[n];for(;e;){let i;if(vr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let o=n;o.inputs=Ou(n.inputs),o.inputTransforms=Ou(n.inputTransforms),o.declaredInputs=Ou(n.declaredInputs),o.outputs=Ou(n.outputs);let a=i.hostBindings;a&&wk(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&_k(n,u),l&&Ik(n,l),yk(n,i),cM(n.outputs,i.outputs),vr(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(n),a===Dt&&(t=!1)}}e=Object.getPrototypeOf(e)}vk(r)}function yk(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function vk(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ta(i.hostAttrs,t=ta(t,i.hostAttrs))}}function Ou(n){return n===hs?{}:n===Mt?[]:n}function _k(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function Ik(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,s)=>{e(r,i,s),t(r,i,s)}:n.contentQueries=e}function wk(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function Og(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Ir=class{},sa=class{};var Fp=class extends Ir{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ol(this);let s=hD(e);this._bootstrapComponents=fT(s.bootstrap),this._r3Injector=XD(e,t,[{provide:Ir,useValue:this},{provide:_s,useValue:this.componentFactoryResolver},...r],ft(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Lp=class extends sa{constructor(e){super(),this.moduleType=e}create(e){return new Fp(this.moduleType,e,[])}};var al=class extends Ir{constructor(e){super(),this.componentFactoryResolver=new ol(this),this.instance=null;let t=new na([...e.providers,{provide:Ir,useValue:this},{provide:_s,useValue:this.componentFactoryResolver}],e.parent||rg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ol(n,e,t=null){return new al({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function XT(n){return kg(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function Ek(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function kg(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function Dk(n,e,t){return n[e]=t}function Ss(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Tk(n){return(n.flags&32)===32}function bk(n,e,t,r,i,s,o,a,u){let l=e.consts,h=Cs(e,n,4,o||null,a||null);Rg(e,t,h,ys(l,u)),Cl(e,h);let p=h.tView=Ag(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function eb(n,e,t,r,i,s,o,a,u,l){let h=t+Ot,p=e.firstCreatePass?bk(h,e,n,r,i,s,o,a,u):e.data[h];pi(p,!1);let m=Ak(e,n,p,t);Tl()&&Sl(e,n,m,p),_r(m,n);let y=OT(m,n,m,p);return n[h]=y,Ml(n,y),tk(y,p,n),_l(p)&&bg(e,n,p),u!=null&&Cg(n,p,l),p}function Ck(n,e,t,r,i,s,o,a){let u=ge(),l=Be(),h=ys(l.consts,s);return eb(u,l,n,e,t,r,i,h,o,a),Ck}var Ak=Sk;function Sk(n,e,t,r){return bl(!0),e[xe].createComment("")}var cs=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(cs||{}),tb=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Vp=class n{constructor(){this.ngZone=x(ye),this.scheduler=x(vs),this.errorHandler=x(Mn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[cs.EarlyRead,cs.Write,cs.MixedReadWrite,cs.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>new n})}},Up=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Fg(n,e){!e?.injector&&ox(Fg);let t=e?.injector??x(ze);return AP(t)?(mi("NgAfterNextRender"),Nk(n,t,e,!0)):Mk}function Rk(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Nk(n,e,t,r){let i=e.get(tb);i.impl??=e.get(Vp);let s=t?.phase??cs.MixedReadWrite,o=t?.manualCleanup!==!0?e.get(fg):null,a=new Up(i.impl,Rk(n,s),r,o);return i.impl.register(a),a}var Mk={destroy(){}};function la(n,e,t,r){let i=ge(),s=El();if(Ss(i,s,e)){let o=Be(),a=Dl();pO(a,i,n,e,t,r)}return la}function nb(n,e,t,r){return Ss(n,El(),t)?e+fl(t)+r:Dr}function ku(n,e){return n<<17|e<<2}function fi(n){return n>>17&32767}function xk(n){return(n&2)==2}function Pk(n,e){return n&131071|e<<17}function jp(n){return n|2}function Es(n){return(n&131068)>>2}function Wf(n,e){return n&-131069|e<<2}function Ok(n){return(n&1)===1}function Bp(n){return n|1}function kk(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=fi(o),u=Es(o);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||ca(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=fi(n[a+1]);n[r+1]=ku(m,a),m!==0&&(n[m+1]=Wf(n[m+1],r)),n[a+1]=Pk(n[a+1],r)}else n[r+1]=ku(a,0),a!==0&&(n[a+1]=Wf(n[a+1],r)),a=r;else n[r+1]=ku(u,0),a===0?a=r:n[u+1]=Wf(n[u+1],r),u=r;l&&(n[r+1]=jp(n[r+1])),LE(n,h,r,!0),LE(n,h,r,!1),Fk(e,h,n,r,s),o=ku(a,u),s?e.classBindings=o:e.styleBindings=o}function Fk(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&ca(s,e)>=0&&(t[r+1]=Bp(t[r+1]))}function LE(n,e,t,r){let i=n[t+1],s=e===null,o=r?fi(i):Es(i),a=!1;for(;o!==0&&(a===!1||s);){let u=n[o],l=n[o+1];Lk(u,e)&&(a=!0,n[o+1]=r?Bp(l):jp(l)),o=r?fi(l):Es(l)}a&&(n[t+1]=r?jp(i):Bp(i))}function Lk(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?ca(n,e)>=0:!1}function Vk(n,e,t){let r=ge(),i=El();if(Ss(r,i,e)){let s=Be(),o=Dl();Sg(s,o,r,n,e,r[xe],t,!1)}return Vk}function VE(n,e,t,r,i){let s=e.inputs,o=i?"class":"style";Ng(n,t,s[o],o,r)}function rb(n,e,t){return ib(n,e,t,!1),rb}function kl(n,e){return ib(n,e,null,!0),kl}function ib(n,e,t,r){let i=ge(),s=Be(),o=Ax(2);if(s.firstUpdatePass&&jk(s,n,o,r),e!==Dr&&Ss(i,o,e)){let a=s.data[Ts()];qk(s,a,i,i[xe],n,i[o+1]=Gk(e,t),r,o)}}function Uk(n,e){return e>=n.expandoStartIndex}function jk(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[Ts()],o=Uk(n,t);Wk(s,r)&&e===null&&!o&&(e=!1),e=Bk(i,s,e,r),kk(i,s,e,t,o,r)}}function Bk(n,e,t,r){let i=Mx(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Kf(null,n,e,t,r),t=oa(t,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||n[o]!==i)if(t=Kf(i,n,e,t,r),s===null){let u=$k(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Kf(null,n,e,u[1],r),u=oa(u,e.attrs,r),Hk(n,e,r,u))}else s=zk(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function $k(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Es(r)!==0)return n[fi(r)]}function Hk(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[fi(i)]=r}function zk(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=n[s].hostAttrs;r=oa(r,o,t)}return oa(r,e.attrs,t)}function Kf(n,e,t,r,i){let s=null,o=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<o&&(s=e[a],r=oa(r,s.hostAttrs,i),s!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function oa(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),MM(n,o,t?!0:e[++s]))}return n===void 0?null:n}function qk(n,e,t,r,i,s,o,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=Ok(l)?UE(u,e,t,i,Es(l),o):void 0;if(!cl(h)){cl(s)||xk(l)&&(s=UE(u,null,t,i,a,o));let p=CD(Ts(),t);qP(r,o,p,i,s)}}function UE(n,e,t,r,i,s){let o=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===Dr&&(m=p?Mt:void 0);let y=p?Vf(m,r):h===r?m:void 0;if(l&&!cl(y)&&(y=Vf(u,r)),cl(y)&&(a=y,o))return a;let A=n[i+1];i=o?fi(A):Es(A)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Vf(u,r))}return a}function cl(n){return n!==void 0}function Gk(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=ft(ua(n)))),n}function Wk(n,e){return(n.flags&(e?8:16))!==0}function Kk(n,e,t,r,i,s){let o=e.consts,a=ys(o,i),u=Cs(e,n,2,r,a);return Rg(e,t,u,ys(o,s)),u.attrs!==null&&sl(u,u.attrs,!1),u.mergedAttrs!==null&&sl(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function sb(n,e,t,r){let i=ge(),s=Be(),o=Ot+n,a=i[xe],u=s.firstCreatePass?Kk(o,s,i,e,t,r):s.data[o],l=Qk(s,i,u,a,e,n);i[o]=l;let h=_l(u);return pi(u,!0),bT(a,l,u),!Tk(u)&&Tl()&&Sl(s,i,l,u),vx()===0&&_r(l,i),_x(),h&&(bg(s,i,u),Tg(s,u,i)),r!==null&&Cg(i,u),sb}function ob(){let n=Je();og()?ag():(n=n.parent,pi(n,!1));let e=n;wx(e)&&Ex(),Ix();let t=Be();return t.firstCreatePass&&(Cl(t,n),ig(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&Vx(e)&&VE(t,e,ge(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Ux(e)&&VE(t,e,ge(),e.stylesWithoutHost,!1),ob}function Lg(n,e,t,r){return sb(n,e,t,r),ob(),Lg}var Qk=(n,e,t,r,i,s)=>(bl(!0),pT(r,i,Ox()));function Yk(n,e,t,r,i){let s=e.consts,o=ys(s,r),a=Cs(e,n,8,"ng-container",o);o!==null&&sl(a,o,!0);let u=ys(s,i);return Rg(e,t,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function ab(n,e,t){let r=ge(),i=Be(),s=n+Ot,o=i.firstCreatePass?Yk(s,i,r,e,t):i.data[s];pi(o,!0);let a=Zk(i,r,o,n);return r[s]=a,Tl()&&Sl(i,r,a,o),_r(a,r),_l(o)&&(bg(i,r,o),Tg(i,o,r)),t!=null&&Cg(r,o),ab}function cb(){let n=Je(),e=Be();return og()?ag():(n=n.parent,pi(n,!1)),e.firstCreatePass&&(Cl(e,n),ig(n)&&e.queries.elementEnd(n)),cb}function Jk(n,e,t){return ab(n,e,t),cb(),Jk}var Zk=(n,e,t,r)=>(bl(!0),MP(e[xe],""));function q3(){return ge()}var ul="en-US";var Xk=ul;function e1(n){typeof n=="string"&&(Xk=n.toLowerCase().replace(/_/g,"-"))}var t1=(n,e,t)=>{};function Fn(n,e,t,r){let i=ge(),s=Be(),o=Je();return ub(s,i,i[xe],o,n,e,r),Fn}function n1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===t&&i[s+1]===r){let a=e[Wu],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function ub(n,e,t,r,i,s,o){let a=_l(r),l=n.firstCreatePass&&LT(n),h=e[Gt],p=FT(e),m=!0;if(r.type&3||o){let N=Vt(r,e),R=o?o(N):N,F=p.length,H=o?ee=>o(on(ee[r.index])):r.index,L=null;if(!o&&a&&(L=n1(n,e,i,r.index)),L!==null){let ee=L.__ngLastListenerFn__||L;ee.__ngNextListenerFn__=s,L.__ngLastListenerFn__=s,m=!1}else{s=BE(r,e,h,s),t1(N,i,s);let ee=t.listen(R,i,s);p.push(s,ee),l&&l.push(i,H,F,F+1)}}else s=BE(r,e,h,s);let y=r.outputs,A;if(m&&y!==null&&(A=y[i])){let N=A.length;if(N)for(let R=0;R<N;R+=2){let F=A[R],H=A[R+1],_e=e[F][H].subscribe(s),K=p.length;p.push(s,_e),l&&l.push(i,r.index,K,-(K+1))}}}function jE(n,e,t,r){let i=pe(null);try{return tn(6,e,t),t(r)!==!1}catch(s){return VT(n,s),!1}finally{tn(7,e,t),pe(i)}}function BE(n,e,t,r){return function i(s){if(s===Function)return r;let o=n.componentOffset>-1?wr(n.index,e):e;xg(o,5);let a=jE(e,t,r,s),u=i.__ngNextListenerFn__;for(;u;)a=jE(e,t,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function G3(n=1){return Px(n)}function r1(n,e){let t=null,r=UM(n);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){t=i;continue}if(r===null?aD(n,s,!0):$M(r,s))return i}return t}function W3(n){let e=ge()[Pt][vt];if(!e.projection){let t=n?n.length:1,r=e.projection=RM(t,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=n?r1(s,n):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function K3(n,e=0,t,r,i,s){let o=ge(),a=Be(),u=r?n+1:null;u!==null&&eb(o,a,u,r,i,s,null,t);let l=Cs(a,Ot+n,16,null,t||null);l.projection===null&&(l.projection=e),ag();let p=!o[ra]||PD();o[Pt][vt].projection[l.projection]===null&&u!==null?i1(o,a,u):p&&(l.flags&32)!==32&&HP(a,o,l)}function i1(n,e,t){let r=Ot+t,i=e.data[r],s=n[r],o=Cp(s,i.tView.ssrId),a=UT(n,i,void 0,{dehydratedView:o});jT(s,a,0,Tp(i,o))}function s1(n,e,t){return lb(n,"",e,"",t),s1}function lb(n,e,t,r,i){let s=ge(),o=nb(s,e,t,r);if(o!==Dr){let a=Be(),u=Dl();Sg(a,u,s,n,o,s[xe],i,!1)}return lb}function db(n,e,t,r){uk(n,e,t,r)}function hb(n){let e=ge(),t=Be(),r=FD();cg(r+1);let i=Pg(t,r);if(n.dirty&&px(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=fk(e,r);n.reset(s,oP),n.notifyOnChanges()}return!0}return!1}function fb(){return ak(ge(),FD())}function Q3(n){let e=Tx();return fx(e,Ot+n)}function Y3(n,e=""){let t=ge(),r=Be(),i=n+Ot,s=r.firstCreatePass?Cs(r,i,1,e,null):r.data[i],o=o1(r,t,s,e,n);t[i]=o,Tl()&&Sl(r,t,o,s),pi(s,!1)}var o1=(n,e,t,r,i)=>(bl(!0),RP(e[xe],r));function a1(n){return pb("",n,""),a1}function pb(n,e,t){let r=ge(),i=nb(r,n,e,t);return i!==Dr&&vO(r,Ts(),i),pb}function c1(n,e,t){ZT(e)&&(e=e());let r=ge(),i=El();if(Ss(r,i,e)){let s=Be(),o=Dl();Sg(s,o,r,n,e,r[xe],t,!1)}return c1}function J3(n,e){let t=ZT(n);return t&&n.set(e),t}function u1(n,e){let t=ge(),r=Be(),i=Je();return ub(r,t,t[xe],i,n,e),u1}function l1(n,e,t){let r=Be();if(r.firstCreatePass){let i=vr(n);$p(t,r.data,r.blueprint,i,!0),$p(e,r.data,r.blueprint,i,!1)}}function $p(n,e,t,r,i){if(n=ht(n),Array.isArray(n))for(let s=0;s<n.length;s++)$p(n[s],e,t,r,i);else{let s=Be(),o=ge(),a=Je(),u=ps(n)?n:ht(n.provide),l=vD(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ps(n)||!n.multi){let y=new ui(l,i,z),A=Yf(u,e,i?h:h+m,p);A===-1?(dp(Zu(a,o),s,u),Qf(s,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),o.push(y)):(t[A]=y,o[A]=y)}else{let y=Yf(u,e,h+m,p),A=Yf(u,e,h,h+m),N=y>=0&&t[y],R=A>=0&&t[A];if(i&&!R||!i&&!N){dp(Zu(a,o),s,u);let F=f1(i?h1:d1,t.length,i,r,l);!i&&R&&(t[A].providerFactory=F),Qf(s,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),o.push(F)}else{let F=gb(t[i?A:y],l,!i&&r);Qf(s,n,y>-1?y:A,F)}!i&&r&&R&&t[A].componentProviders++}}}function Qf(n,e,t,r){let i=ps(e),s=XM(e);if(i||s){let u=(s?ht(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function gb(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Yf(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function d1(n,e,t,r){return Hp(this.multi,[])}function h1(n,e,t,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=li(t,t[ie],this.providerFactory.index,r);s=a.slice(0,o),Hp(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Hp(i,s);return s}function Hp(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function f1(n,e,t,r,i){let s=new ui(n,t,z);return s.multi=[],s.index=e,s.componentProviders=0,gb(s,i,r&&!t),s}function Ln(n,e=[]){return t=>{t.providersResolver=(r,i)=>l1(r,i?i(n):n,e)}}var p1=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=gD(!1,t.type),i=r.length>0?Ol([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=B({token:n,providedIn:"environment",factory:()=>new n(q(pt))})}}return n})();function mb(n){mi("NgStandalone"),n.getStandaloneInjector=e=>e.get(p1).getOrCreateStandaloneInjector(n)}function Z3(n,e,t,r){return m1(ge(),bx(),n,e,t,r)}function g1(n,e){let t=n[e];return t===Dr?void 0:t}function m1(n,e,t,r,i,s){let o=e+t;return Ss(n,o,i)?Dk(n,o+1,s?r.call(s,i):r(i)):g1(n,o+1)}function X3(n,e){return xl(n,e)}var xn=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},yb=new xn("18.2.8");var Fl=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var vb=new V("");function yi(n){return!!n&&typeof n.then=="function"}function _b(n){return!!n&&typeof n.subscribe=="function"}var Ll=new V(""),Ib=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=x(Ll,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(yi(s))t.push(s);else if(_b(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),da=new V("");function y1(){Pw(()=>{throw new $(600,!1)})}function v1(n){return n.isBoundToModule}var _1=10;function I1(n,e,t){try{let r=t();return yi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var Tr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=x(iP),this.afterRenderManager=x(tb),this.zonelessEnabled=x(Pl),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new He,this.afterTick=new He,this.componentTypes=[],this.components=[],this.isStable=x(Er).hasPendingTasks.pipe(J(t=>!t)),this._injector=x(pt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof il;if(!this._injector.get(Ib).done){let m=!i&&dD(t),y=!1;throw new $(405,y)}let o;i?o=t:o=this._injector.get(_s).resolveComponentFactory(t),this.componentTypes.push(o.componentType);let a=v1(o)?void 0:this._injector.get(Ir),u=r||o.selector,l=o.create(ze.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(vb,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Bu(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let t=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,pe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Is,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<_1;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)w1(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Il(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Bu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(da,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Bu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new $(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Bu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function w1(n,e,t,r){if(!t&&!Il(n))return;HT(n,e,t&&!r?0:1)}var zp=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Vl=(()=>{class n{compileModuleSync(t){return new Lp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=hD(t),s=fT(i.declarations).reduce((o,a)=>{let u=yr(a);return u&&o.push(new ws(u)),o},[]);return new zp(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var E1=(()=>{class n{constructor(){this.zone=x(ye),this.changeDetectionScheduler=x(vs),this.applicationRef=x(Tr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),D1=new V("",{factory:()=>!1});function wb({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ye(ce(k({},Eb()),{scheduleInRootZone:t})),[{provide:ye,useFactory:n},{provide:fs,multi:!0,useFactory:()=>{let r=x(E1,{optional:!0});return()=>r.initialize()}},{provide:fs,multi:!0,useFactory:()=>{let r=x(T1);return()=>{r.initialize()}}},e===!0?{provide:WT,useValue:!0}:[],{provide:KT,useValue:t??eT}]}function e6(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=wb({ngZoneFactory:()=>{let i=Eb(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&mi("NgZone_CoalesceEvent"),new ye(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return kt([{provide:D1,useValue:!0},{provide:Pl,useValue:!1},r])}function Eb(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var T1=(()=>{class n{constructor(){this.subscription=new Me,this.initialized=!1,this.zone=x(ye),this.pendingTasks=x(Er)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var b1=(()=>{class n{constructor(){this.appRef=x(Tr),this.taskService=x(Er),this.ngZone=x(ye),this.zonelessEnabled=x(Pl),this.disableScheduling=x(WT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Me,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(el):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(x(KT,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof mp||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?bE:tT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(el+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function C1(){return typeof $localize<"u"&&$localize.locale||ul}var Vg=new V("",{providedIn:"root",factory:()=>x(Vg,oe.Optional|oe.SkipSelf)||C1()});var qp=new V("");function Fu(n){return!n.moduleRef}function A1(n){let e=Fu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ye);return t.run(()=>{Fu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Mn,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),Fu(n)){let s=()=>e.destroy(),o=n.platformInjector.get(qp);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>n.moduleRef.destroy(),o=n.platformInjector.get(qp);o.add(s),n.moduleRef.onDestroy(()=>{Bu(n.allPlatformModules,n.moduleRef),i.unsubscribe(),o.delete(s)})}return I1(r,t,()=>{let s=e.get(Ib);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Vg,ul);if(e1(o||ul),Fu(n)){let a=e.get(Tr);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return S1(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function S1(n,e){let t=n.injector.get(Tr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new $(-403,!1);e.push(n)}var $u=null;function R1(n=[],e){return ze.create({name:e,providers:[{provide:ml,useValue:"platform"},{provide:qp,useValue:new Set([()=>$u=null])},...n]})}function N1(n=[]){if($u)return $u;let e=R1(n);return $u=e,y1(),M1(e),e}function M1(n){n.get(yg,null)?.forEach(t=>t())}var br=(()=>{class n{static{this.__NG_ELEMENT_ID__=x1}}return n})();function x1(n){return P1(Je(),ge(),(n&16)===16)}function P1(n,e,t){if(vl(n)&&!t){let r=wr(n.index,e);return new di(r,r)}else if(n.type&175){let r=e[Pt];return new di(r,e)}return null}var Gp=class{constructor(){}supports(e){return XT(e)}create(e){return new Wp(e)}},O1=(n,e)=>e,Wp=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||O1}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){let o=!r||t&&t.currentIndex<$E(r,i,s)?t:r,a=$E(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,o.previousIndex==null)i++;else{s||(s=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<s.length?s[m]:s[m]=0,A=y+m;h<=A&&A<l&&(s[m]=y+1)}let p=o.previousIndex;s[p]=h-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!XT(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,s,o,a),r=!0):(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)),t=t._next}else i=0,Ek(e,a=>{o=this._trackByFn(i,a),t===null||!Object.is(t.trackById,o)?(t=this._mismatch(t,a,o,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new Kp(t,r),s,i)),e}_verifyReinsertion(e,t,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new ll),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ll),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Kp=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Qp=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},ll=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Qp,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function $E(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}var Yp=class{constructor(){}supports(e){return e instanceof Map||kg(e)}create(){return new Jp}},Jp=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||kg(e)))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new Zp(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},Zp=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function HE(){return new Ug([new Gp])}var Ug=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:HE})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||HE()),deps:[[n,new gl,new Ye]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new $(901,!1)}}return n})();function zE(){return new jg([new Yp])}var jg=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:zE})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||zE()),deps:[[n,new gl,new Ye]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new $(901,!1)}}return n})();function Db(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=N1(r),s=[wb({}),{provide:vs,useExisting:b1},...t||[]],o=new al({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return A1({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Cr(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Rs(n,e){mi("NgSignals");let t=Nw(n);return e?.equal&&(t[Cn].equal=e.equal),t}function ln(n){let e=pe(null);try{return n()}finally{pe(e)}}function Tb(n){let e=yr(n);if(!e)return null;let t=new ws(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Nb=null;function Un(){return Nb}function Mb(n){Nb??=n}var Ul=class{};var st=new V(""),Gg=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>x(F1),providedIn:"platform"})}}return n})(),xb=new V(""),F1=(()=>{class n extends Gg{constructor(){super(),this._doc=x(st),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Un().getBaseHref(this._doc)}onPopState(t){let r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Wg(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function bb(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Vn(n){return n&&n[0]!=="?"?"?"+n:n}var jn=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>x(Kg),providedIn:"root"})}}return n})(),Pb=new V(""),Kg=(()=>{class n extends jn{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??x(st).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Wg(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Vn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Vn(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Vn(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(q(Gg),q(Pb,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ob=(()=>{class n extends jn{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Wg(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+Vn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+Vn(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(q(Gg),q(Pb,8))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),xs=(()=>{class n{constructor(t){this._subject=new Ae,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=U1(bb(Cb(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Vn(r))}normalize(t){return n.stripTrailingSlash(V1(this._basePath,Cb(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Vn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=Vn}static{this.joinWithSlash=Wg}static{this.stripTrailingSlash=bb}static{this.\u0275fac=function(r){return new(r||n)(q(jn))}}static{this.\u0275prov=B({token:n,factory:()=>L1(),providedIn:"root"})}}return n})();function L1(){return new xs(q(jn))}function V1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function Cb(n){return n.replace(/\/index.html$/,"")}function U1(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function jl(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Bg=/\s+/,Ab=[],T6=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=Ab,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Bg):Ab}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Bg):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Bg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(z(gt),z(Kt))}}static{this.\u0275dir=Ce({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var $g=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},b6=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new $g(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),Sb(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);Sb(s,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(z(kn),z(hi),z(Ug))}}static{this.\u0275dir=Ce({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function Sb(n,e){n.context.$implicit=e.item}var C6=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Hg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Rb("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Rb("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(z(kn),z(hi))}}static{this.\u0275dir=Ce({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Hg=class{constructor(){this.$implicit=null,this.ngIf=null}};function Rb(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${ft(e)}'.`)}var A6=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,s]=t.split("."),o=i.indexOf("-")===-1?void 0:an.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(z(gt),z(jg),z(Kt))}}static{this.\u0275dir=Ce({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),S6=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(this._shouldRecreateView(t)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(t){return!!t.ngTemplateOutlet||!!t.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(t,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(t,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static{this.\u0275fac=function(r){return new(r||n)(z(kn))}}static{this.\u0275dir=Ce({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Lt]})}}return n})();var j1=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=un({type:n})}static{this.\u0275inj=cn({})}}return n})(),Qg="browser",B1="server";function $1(n){return n===Qg}function Bl(n){return n===B1}var kb=(()=>{class n{static{this.\u0275prov=B({token:n,providedIn:"root",factory:()=>$1(x(Ut))?new zg(x(st),window):new qg})}}return n})(),zg=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=H1(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function H1(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var qg=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Ms=class{};var fa=class{},Hl=class{},Bn=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Jg=class{encodeKey(e){return Lb(e)}encodeValue(e){return Lb(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function z1(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=t.get(o)||[];u.push(a),t.set(o,u)}),t}var q1=/%(\d[a-f0-9])/gi,G1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Lb(n){return encodeURIComponent(n).replace(q1,(e,t)=>G1[t]??e)}function $l(n){return`${n}`}var Sr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Jg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=z1(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map($l):[$l(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push($l(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf($l(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Zg=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function W1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Vb(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Ub(n){return typeof Blob<"u"&&n instanceof Blob}function jb(n){return typeof FormData<"u"&&n instanceof FormData}function K1(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var ha=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(W1(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Bn,this.context??=new Zg,!this.params)this.params=new Sr,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Vb(this.body)||Ub(this.body)||jb(this.body)||K1(this.body)?this.body:this.body instanceof Sr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||jb(this.body)?null:Ub(this.body)?this.body.type||null:Vb(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Sr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new n(t,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},Rr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Rr||{}),pa=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Bn,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},zl=class n extends pa{constructor(e={}){super(e),this.type=Rr.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ga=class n extends pa{constructor(e={}){super(e),this.type=Rr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ar=class extends pa{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},zb=200,Q1=204;function Yg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Y1=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof ha)s=t;else{let u;i.headers instanceof Bn?u=i.headers:u=new Bn(i.headers);let l;i.params&&(i.params instanceof Sr?l=i.params:l=new Sr({fromObject:i.params})),s=new ha(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=W(s).pipe(Sn(u=>this.handler.handle(u)));if(t instanceof ha||i.observe==="events")return o;let a=o.pipe(dt(u=>u instanceof ga));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(J(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(J(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(J(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Sr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Yg(i,r))}post(t,r,i={}){return this.request("POST",t,Yg(i,r))}put(t,r,i={}){return this.request("PUT",t,Yg(i,r))}static{this.\u0275fac=function(r){return new(r||n)(q(fa))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),J1=/^\)\]\}',?\n/,Z1="X-Request-URL";function Bb(n){if(n.url)return n.url;let e=Z1.toLocaleLowerCase();return n.headers.get(e)}var X1=(()=>{class n{constructor(){this.fetchImpl=x(Xg,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=x(ye)}handle(t){return new se(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(em,s=>r.error(new Ar({error:s}))),()=>i.abort()})}doRequest(t,r,i){return w(this,null,function*(){let s=this.createRequestInit(t),o;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,k({signal:r},s)));eF(y),i.next({type:Rr.Sent}),o=yield y}catch(y){i.error(new Ar({error:y,status:y.status??0,statusText:y.statusText,url:t.urlWithParams,headers:y.headers}));return}let a=new Bn(o.headers),u=o.statusText,l=Bb(o)??t.urlWithParams,h=o.status,p=null;if(t.reportProgress&&i.next(new zl({headers:a,status:h,statusText:u,url:l})),o.body){let y=o.headers.get("content-length"),A=[],N=o.body.getReader(),R=0,F,H,L=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:_e,value:K}=yield N.read();if(_e)break;if(A.push(K),R+=K.length,t.reportProgress){H=t.responseType==="text"?(H??"")+(F??=new TextDecoder).decode(K,{stream:!0}):void 0;let E=()=>i.next({type:Rr.DownloadProgress,total:y?+y:void 0,loaded:R,partialText:H});L?L.run(E):E()}}}));let ee=this.concatChunks(A,R);try{let _e=o.headers.get("Content-Type")??"";p=this.parseBody(t,ee,_e)}catch(_e){i.error(new Ar({error:_e,headers:new Bn(o.headers),status:o.status,statusText:o.statusText,url:Bb(o)??t.urlWithParams}));return}}h===0&&(h=p?zb:0),h>=200&&h<300?(i.next(new ga({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new Ar({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(t,r,i){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(J1,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>r[s]=o.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let o of t)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Xg=class{};function em(){}function eF(n){n.then(em,em)}function tF(n,e){return e(n)}function nF(n,e,t){return(r,i)=>Ft(t,()=>e(r,s=>n(s,i)))}var qb=new V(""),rF=new V(""),iF=new V("",{providedIn:"root",factory:()=>!0});var $b=(()=>{class n extends fa{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=x(Er),this.contributeToStability=x(iF)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(qb),...this.injector.get(rF,[])]));this.chain=r.reduceRight((i,s)=>nF(i,s,this.injector),tF)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ri(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(q(Hl),q(pt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();var sF=/^\)\]\}',?\n/;function oF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var Hb=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new $(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?De(r.\u0275loadImpl()):W(null)).pipe(yt(()=>new se(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((N,R)=>o.setRequestHeader(N,R.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let N=t.detectContentTypeHeader();N!==null&&o.setRequestHeader("Content-Type",N)}if(t.responseType){let N=t.responseType.toLowerCase();o.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=o.statusText||"OK",R=new Bn(o.getAllResponseHeaders()),F=oF(o)||t.url;return u=new zl({headers:R,status:o.status,statusText:N,url:F}),u},h=()=>{let{headers:N,status:R,statusText:F,url:H}=l(),L=null;R!==Q1&&(L=typeof o.response>"u"?o.responseText:o.response),R===0&&(R=L?zb:0);let ee=R>=200&&R<300;if(t.responseType==="json"&&typeof L=="string"){let _e=L;L=L.replace(sF,"");try{L=L!==""?JSON.parse(L):null}catch(K){L=_e,ee&&(ee=!1,L={error:K,text:L})}}ee?(s.next(new ga({body:L,headers:N,status:R,statusText:F,url:H||void 0})),s.complete()):s.error(new Ar({error:L,headers:N,status:R,statusText:F,url:H||void 0}))},p=N=>{let{url:R}=l(),F=new Ar({error:N,status:o.status||0,statusText:o.statusText||"Unknown Error",url:R||void 0});s.error(F)},m=!1,y=N=>{m||(s.next(l()),m=!0);let R={type:Rr.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),t.responseType==="text"&&o.responseText&&(R.partialText=o.responseText),s.next(R)},A=N=>{let R={type:Rr.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),s.next(R)};return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),t.reportProgress&&(o.addEventListener("progress",y),a!==null&&o.upload&&o.upload.addEventListener("progress",A)),o.send(a),s.next({type:Rr.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",p),t.reportProgress&&(o.removeEventListener("progress",y),a!==null&&o.upload&&o.upload.removeEventListener("progress",A)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(q(Ms))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Gb=new V(""),aF="XSRF-TOKEN",cF=new V("",{providedIn:"root",factory:()=>aF}),uF="X-XSRF-TOKEN",lF=new V("",{providedIn:"root",factory:()=>uF}),ql=class{},dF=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=jl(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(q(st),q(Ut),q(cF))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function hF(n,e){let t=n.url.toLowerCase();if(!x(Gb)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=x(ql).getToken(),i=x(lF);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function $6(...n){let e=[Y1,Hb,$b,{provide:fa,useExisting:$b},{provide:Hl,useFactory:()=>x(X1,{optional:!0})??x(Hb)},{provide:qb,useValue:hF,multi:!0},{provide:Gb,useValue:!0},{provide:ql,useClass:dF}];for(let t of n)e.push(...t.\u0275providers);return kt(e)}var rm=class extends Ul{constructor(){super(...arguments),this.supportsDOMEvents=!0}},im=class n extends rm{static makeCurrent(){Mb(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=fF();return t==null?null:pF(t)}resetBaseElement(){ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return jl(document.cookie,e)}},ma=null;function fF(){return ma=ma||document.querySelector("base"),ma?ma.getAttribute("href"):null}function pF(n){return new URL(n,document.baseURI).pathname}var gF=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),sm=new V(""),Yb=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new $(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(q(sm),q(ye))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Gl=class{constructor(e){this._doc=e}},tm="ng-app-id",Jb=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bl(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${tm}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(tm),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(tm,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(q(st),q(mg),q(vg,8),q(Ut))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),nm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},am=/%COMP%/g,Zb="%COMP%",mF=`_nghost-${Zb}`,yF=`_ngcontent-${Zb}`,vF=!0,_F=new V("",{providedIn:"root",factory:()=>vF});function IF(n){return yF.replace(am,n)}function wF(n){return mF.replace(am,n)}function Xb(n,e){return e.map(t=>t.replace(am,n))}var Wb=(()=>{class n{constructor(t,r,i,s,o,a,u,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Bl(a),this.defaultRenderer=new ya(t,o,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===rn.ShadowDom&&(r=ce(k({},r),{encapsulation:rn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Wl?i.applyToHost(t):i instanceof va&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case rn.Emulated:s=new Wl(u,l,r,this.appId,h,o,a,p);break;case rn.ShadowDom:return new om(u,l,t,r,o,a,this.nonce,p);default:s=new va(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(q(Yb),q(Jb),q(mg),q(_F),q(st),q(Ut),q(ye),q(vg))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),ya=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(nm[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(Kb(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Kb(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=nm[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=nm[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(an.DashCase|an.Important)?e.style.setProperty(t,r,i&an.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&an.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Un().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function Kb(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var om=class extends ya{constructor(e,t,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Xb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},va=class extends ya{constructor(e,t,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?Xb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Wl=class extends va{constructor(e,t,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,t,r,s,o,a,u,l),this.contentAttr=IF(l),this.hostAttr=wF(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},EF=(()=>{class n extends Gl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(q(st))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})(),Qb=["alt","control","meta","shift"],DF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},TF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},bF=(()=>{class n extends Gl{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Un().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),Qb.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(t,r){let i=DF[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Qb.forEach(o=>{if(o!==i){let a=TF[o];a(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(q(st))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function p8(n,e){return Db(k({rootComponent:n},CF(e)))}function CF(n){return{appProviders:[...MF,...n?.providers??[]],platformProviders:NF}}function AF(){im.makeCurrent()}function SF(){return new Mn}function RF(){return cT(document),document}var NF=[{provide:Ut,useValue:Qg},{provide:yg,useValue:AF,multi:!0},{provide:st,useFactory:RF,deps:[]}];var MF=[{provide:ml,useValue:"root"},{provide:Mn,useFactory:SF,deps:[]},{provide:sm,useClass:EF,multi:!0,deps:[st,ye,Ut]},{provide:sm,useClass:bF,multi:!0,deps:[st]},Wb,Jb,Yb,{provide:Is,useExisting:Wb},{provide:Ms,useClass:gF,deps:[]},[]];var eC=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(q(st))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var lC=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(z(Kt),z(gt))}}static{this.\u0275dir=Ce({type:n})}}return n})(),fm=(()=>{class n extends lC{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=gi(n)))(i||n)}})()}static{this.\u0275dir=Ce({type:n,features:[Dt]})}}return n})(),ba=new V("");var PF={provide:ba,useExisting:Wt(()=>dC),multi:!0};function OF(){let n=Un()?Un().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var kF=new V(""),dC=(()=>{class n extends lC{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!OF())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(z(Kt),z(gt),z(kF,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Fn("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ln([PF]),Dt]})}}return n})();function Nr(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function hC(n){return n!=null&&typeof n.length=="number"}var Ca=new V(""),rd=new V(""),FF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,tC=class{static min(e){return LF(e)}static max(e){return VF(e)}static required(e){return fC(e)}static requiredTrue(e){return UF(e)}static email(e){return jF(e)}static minLength(e){return BF(e)}static maxLength(e){return $F(e)}static pattern(e){return HF(e)}static nullValidator(e){return Ql(e)}static compose(e){return _C(e)}static composeAsync(e){return IC(e)}};function LF(n){return e=>{if(Nr(e.value)||Nr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function VF(n){return e=>{if(Nr(e.value)||Nr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function fC(n){return Nr(n.value)?{required:!0}:null}function UF(n){return n.value===!0?null:{required:!0}}function jF(n){return Nr(n.value)||FF.test(n.value)?null:{email:!0}}function BF(n){return e=>Nr(e.value)||!hC(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function $F(n){return e=>hC(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function HF(n){if(!n)return Ql;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Nr(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Ql(n){return null}function pC(n){return n!=null}function gC(n){return yi(n)?De(n):n}function mC(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function yC(n,e){return e.map(t=>t(n))}function zF(n){return!n.validate}function vC(n){return n.map(e=>zF(e)?e:t=>e.validate(t))}function _C(n){if(!n)return null;let e=n.filter(pC);return e.length==0?null:function(t){return mC(yC(t,e))}}function pm(n){return n!=null?_C(vC(n)):null}function IC(n){if(!n)return null;let e=n.filter(pC);return e.length==0?null:function(t){let r=yC(t,e).map(gC);return Of(r).pipe(J(mC))}}function gm(n){return n!=null?IC(vC(n)):null}function nC(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function wC(n){return n._rawValidators}function EC(n){return n._rawAsyncValidators}function cm(n){return n?Array.isArray(n)?n:[n]:[]}function Yl(n,e){return Array.isArray(n)?n.includes(e):n===e}function rC(n,e){let t=cm(e);return cm(n).forEach(i=>{Yl(t,i)||t.push(i)}),t}function iC(n,e){return cm(e).filter(t=>!Yl(n,t))}var Jl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=pm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=gm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},$n=class extends Jl{get formDirective(){return null}get path(){return null}},Mr=class extends Jl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Zl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},qF={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},M8=ce(k({},qF),{"[class.ng-submitted]":"isSubmitted"}),x8=(()=>{class n extends Zl{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(z(Mr,2))}}static{this.\u0275dir=Ce({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&kl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Dt]})}}return n})(),P8=(()=>{class n extends Zl{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(z($n,10))}}static{this.\u0275dir=Ce({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&kl("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Dt]})}}return n})();var _a="VALID",Kl="INVALID",Ps="PENDING",Ia="DISABLED",xr=class{},Xl=class extends xr{constructor(e,t){super(),this.value=e,this.source=t}},Ea=class extends xr{constructor(e,t){super(),this.pristine=e,this.source=t}},Da=class extends xr{constructor(e,t){super(),this.touched=e,this.source=t}},Os=class extends xr{constructor(e,t){super(),this.status=e,this.source=t}},um=class extends xr{constructor(e){super(),this.source=e}},lm=class extends xr{constructor(e){super(),this.source=e}};function mm(n){return(id(n)?n.validators:n)||null}function GF(n){return Array.isArray(n)?pm(n):n||null}function ym(n,e){return(id(e)?e.asyncValidators:n)||null}function WF(n){return Array.isArray(n)?gm(n):n||null}function id(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function DC(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[t])throw new $(1001,"")}function TC(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new $(1002,"")})}var ks=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Rs(()=>this.statusReactive()),this.statusReactive=As(void 0),this._pristine=Rs(()=>this.pristineReactive()),this.pristineReactive=As(!0),this._touched=Rs(()=>this.touchedReactive()),this.touchedReactive=As(!1),this._events=new He,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ln(this.statusReactive)}set status(e){ln(()=>this.statusReactive.set(e))}get valid(){return this.status===_a}get invalid(){return this.status===Kl}get pending(){return this.status==Ps}get disabled(){return this.status===Ia}get enabled(){return this.status!==Ia}get pristine(){return ln(this.pristineReactive)}set pristine(e){ln(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return ln(this.touchedReactive)}set touched(e){ln(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(rC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(rC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(iC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(iC(e,this._rawAsyncValidators))}hasValidator(e){return Yl(this._rawValidators,e)}hasAsyncValidator(e){return Yl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ce(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Da(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Da(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ce(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Ea(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Ea(!0,r))}markAsPending(e={}){this.status=Ps;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Os(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ce(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Ia,this.errors=null,this._forEachChild(i=>{i.disable(ce(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xl(this.value,r)),this._events.next(new Os(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ce(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=_a,this._forEachChild(r=>{r.enable(ce(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ce(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===_a||this.status===Ps)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xl(this.value,t)),this._events.next(new Os(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ce(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ia:_a}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Ps,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=gC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Os(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?Ia:this.errors?Kl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ps)?Ps:this._anyControlsHaveStatus(Kl)?Kl:_a}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Ea(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Da(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){id(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=GF(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=WF(this._rawAsyncValidators)}},Fs=class extends ks{constructor(e,t,r){super(mm(t),ym(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){TC(this,!0,e),Object.keys(e).forEach(r=>{DC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var dm=class extends Fs{};var Ls=new V("CallSetDisabledState",{providedIn:"root",factory:()=>Aa}),Aa="always";function bC(n,e){return[...e.path,n]}function ed(n,e,t=Aa){vm(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),QF(n,e),JF(n,e),YF(n,e),KF(n,e)}function sC(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),nd(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function td(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function KF(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function vm(n,e){let t=wC(n);e.validator!==null?n.setValidators(nC(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=EC(n);e.asyncValidator!==null?n.setAsyncValidators(nC(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();td(e._rawValidators,i),td(e._rawAsyncValidators,i)}function nd(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=wC(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(e.asyncValidator!==null){let i=EC(n);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}let r=()=>{};return td(e._rawValidators,r),td(e._rawAsyncValidators,r),t}function QF(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&CC(n,e)})}function YF(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&CC(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function CC(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function JF(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function AC(n,e){n==null,vm(n,e)}function ZF(n,e){return nd(n,e)}function SC(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function XF(n){return Object.getPrototypeOf(n.constructor)===fm}function RC(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function NC(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(s=>{s.constructor===dC?t=s:XF(s)?r=s:i=s}),i||r||t||null}function eL(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var tL={provide:$n,useExisting:Wt(()=>nL)},wa=Promise.resolve(),nL=(()=>{class n extends $n{get submitted(){return ln(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Rs(()=>this.submittedReactive()),this.submittedReactive=As(!1),this._directives=new Set,this.ngSubmit=new Ae,this.form=new Fs({},pm(t),gm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){wa.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),ed(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){wa.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){wa.then(()=>{let r=this._findContainer(t.path),i=new Fs({});AC(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){wa.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){wa.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),RC(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(z(Ca,10),z(rd,10),z(Ls,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Fn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ln([tL]),Dt]})}}return n})();function oC(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function aC(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Ta=class extends ks{constructor(e=null,t,r){super(mm(t),ym(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),id(t)&&(t.nonNullable||t.initialValueIsDefault)&&(aC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){aC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var rL=n=>n instanceof Ta;var iL={provide:Mr,useExisting:Wt(()=>sL)},cC=Promise.resolve(),sL=(()=>{class n extends Mr{constructor(t,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Ta,this._registered=!1,this.name="",this.update=new Ae,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=NC(this,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),SC(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){ed(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){cC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Cr(r);cC.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?bC(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(z($n,9),z(Ca,10),z(rd,10),z(ba,10),z(br,8),z(Ls,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ln([iL]),Dt,Lt]})}}return n})(),k8=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ce({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),oL={provide:ba,useExisting:Wt(()=>aL),multi:!0},aL=(()=>{class n extends fm{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=gi(n)))(i||n)}})()}static{this.\u0275dir=Ce({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Fn("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Ln([oL]),Dt]})}}return n})(),cL={provide:ba,useExisting:Wt(()=>lL),multi:!0};var uL=(()=>{class n{constructor(){this._accessors=[]}add(t,r){this._accessors.push([t,r])}remove(t){for(let r=this._accessors.length-1;r>=0;--r)if(this._accessors[r][1]===t){this._accessors.splice(r,1);return}}select(t){this._accessors.forEach(r=>{this._isSameGroup(r,t)&&r[1]!==t&&r[1].fireUncheck(t.value)})}_isSameGroup(t,r){return t[0].control?t[0]._parent===r._control._parent&&t[1].name===r.name:!1}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),lL=(()=>{class n extends fm{constructor(t,r,i,s){super(t,r),this._registry=i,this._injector=s,this.setDisabledStateFired=!1,this.onChange=()=>{},this.callSetDisabledState=x(Ls,{optional:!0})??Aa}ngOnInit(){this._control=this._injector.get(Mr),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this.setProperty("checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}setDisabledState(t){(this.setDisabledStateFired||t||this.callSetDisabledState==="whenDisabledForLegacyCode")&&this.setProperty("disabled",t),this.setDisabledStateFired=!0}fireUncheck(t){this.writeValue(t)}_checkName(){this.name&&this.formControlName&&(this.name,this.formControlName),!this.name&&this.formControlName&&(this.name=this.formControlName)}static{this.\u0275fac=function(r){return new(r||n)(z(Kt),z(gt),z(uL),z(ze))}}static{this.\u0275dir=Ce({type:n,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(r,i){r&1&&Fn("change",function(){return i.onChange()})("blur",function(){return i.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ln([cL]),Dt]})}}return n})();var MC=new V("");var dL={provide:$n,useExisting:Wt(()=>hL)},hL=(()=>{class n extends $n{get submitted(){return ln(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=Rs(()=>this._submittedReactive()),this._submittedReactive=As(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ae,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(nd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return ed(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){sC(t.control||null,t,!1),eL(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),RC(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new um(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new lm(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(sC(r||null,t),rL(i)&&(ed(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);AC(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&ZF(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vm(this.form,this),this._oldForm&&nd(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(z(Ca,10),z(rd,10),z(Ls,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Fn("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ln([dL]),Dt,Lt]})}}return n})();var fL={provide:Mr,useExisting:Wt(()=>pL)},pL=(()=>{class n extends Mr{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Ae,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=NC(this,s)}ngOnChanges(t){this._added||this._setUpControl(),SC(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return bC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(z($n,13),z(Ca,10),z(rd,10),z(ba,10),z(MC,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ln([fL]),Dt,Lt]})}}return n})();var gL=(()=>{class n{constructor(){this._validator=Ql}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ql,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ce({type:n,features:[Lt]})}}return n})();var mL={provide:Ca,useExisting:Wt(()=>yL),multi:!0};var yL=(()=>{class n extends gL{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Cr,this.createValidator=t=>fC}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=gi(n)))(i||n)}})()}static{this.\u0275dir=Ce({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&la("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ln([mL]),Dt]})}}return n})();var xC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=un({type:n})}static{this.\u0275inj=cn({})}}return n})(),hm=class extends ks{constructor(e,t,r){super(mm(t),ym(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){TC(this,!1,e),e.forEach((r,i)=>{DC(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function uC(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var F8=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),s={};return uC(r)?s=r:r!==null&&(s.validators=r.validator,s.asyncValidators=r.asyncValidator),new Fs(i,s)}record(t,r=null){let i=this._reduceControls(t);return new dm(i,r)}control(t,r,i){let s={};return this.useNonNullable?(uC(r)?s=r:(s.validators=r,s.asyncValidators=i),new Ta(t,ce(k({},s),{nonNullable:!0}))):new Ta(t,r,i)}array(t,r,i){let s=t.map(o=>this._createControl(o));return new hm(s,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Ta)return t;if(t instanceof ks)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,s=t.length>2?t[2]:null;return this.control(r,i,s)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var L8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Ls,useValue:t.callSetDisabledState??Aa}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=un({type:n})}static{this.\u0275inj=cn({imports:[xC]})}}return n})(),V8=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:MC,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Ls,useValue:t.callSetDisabledState??Aa}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=un({type:n})}static{this.\u0275inj=cn({imports:[xC]})}}return n})();var re="primary",$a=Symbol("RouteTitle"),Dm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Hs(n){return new Dm(n)}function vL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=n[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function _L(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!dn(n[t],e[t]))return!1;return!0}function dn(n,e){let t=n?Tm(n):void 0,r=e?Tm(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!zC(n[i],e[i]))return!1;return!0}function Tm(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function zC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function qC(n){return n.length>0?n[n.length-1]:null}function kr(n){return Pf(n)?n:yi(n)?De(Promise.resolve(n)):W(n)}var IL={exact:WC,subset:KC},GC={exact:wL,subset:EL,ignored:()=>!0};function PC(n,e,t){return IL[t.paths](n.root,e.root,t.matrixParams)&&GC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function wL(n,e){return dn(n,e)}function WC(n,e,t){if(!_i(n.segments,e.segments)||!ad(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!WC(n.children[r],e.children[r],t))return!1;return!0}function EL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>zC(n[t],e[t]))}function KC(n,e,t){return QC(n,e,e.segments,t)}function QC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!_i(i,t)||e.hasChildren()||!ad(i,t,r))}else if(n.segments.length===t.length){if(!_i(n.segments,t)||!ad(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!KC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!_i(n.segments,i)||!ad(n.segments,i,r)||!n.children[re]?!1:QC(n.children[re],e,s,r)}}function ad(n,e,t){return e.every((r,i)=>GC[t](n[i].parameters,r.parameters))}var zn=class{constructor(e=new Ie([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Hs(this.queryParams),this._queryParamMap}toString(){return bL.serialize(this)}},Ie=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cd(this)}},vi=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Hs(this.parameters),this._parameterMap}toString(){return JC(this)}};function DL(n,e){return _i(n,e)&&n.every((t,r)=>dn(t.parameters,e[r].parameters))}function _i(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function TL(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===re&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==re&&(t=t.concat(e(i,r)))}),t}var Ha=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>new zs,providedIn:"root"})}}return n})(),zs=class{parse(e){let t=new Cm(e);return new zn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Sa(e.root,!0)}`,r=SL(e.queryParams),i=typeof e.fragment=="string"?`#${CL(e.fragment)}`:"";return`${t}${r}${i}`}},bL=new zs;function cd(n){return n.segments.map(e=>JC(e)).join("/")}function Sa(n,e){if(!n.hasChildren())return cd(n);if(e){let t=n.children[re]?Sa(n.children[re],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==re&&r.push(`${i}:${Sa(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=TL(n,(r,i)=>i===re?[Sa(n.children[re],!1)]:[`${i}:${Sa(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[re]!=null?`${cd(n)}/${t[0]}`:`${cd(n)}/(${t.join("//")})`}}function YC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sd(n){return YC(n).replace(/%3B/gi,";")}function CL(n){return encodeURI(n)}function bm(n){return YC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ud(n){return decodeURIComponent(n)}function OC(n){return ud(n.replace(/\+/g,"%20"))}function JC(n){return`${bm(n.path)}${AL(n.parameters)}`}function AL(n){return Object.entries(n).map(([e,t])=>`;${bm(e)}=${bm(t)}`).join("")}function SL(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${sd(t)}=${sd(i)}`).join("&"):`${sd(t)}=${sd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var RL=/^[^\/()?;#]+/;function _m(n){let e=n.match(RL);return e?e[0]:""}var NL=/^[^\/()?;=#]+/;function ML(n){let e=n.match(NL);return e?e[0]:""}var xL=/^[^=?&#]+/;function PL(n){let e=n.match(xL);return e?e[0]:""}var OL=/^[^&#]+/;function kL(n){let e=n.match(OL);return e?e[0]:""}var Cm=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ie([],{}):new Ie([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[re]=new Ie(e,t)),r}parseSegment(){let e=_m(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new vi(ud(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=ML(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=_m(this.remaining);i&&(r=i,this.capture(r))}e[ud(t)]=ud(r)}parseQueryParam(e){let t=PL(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=kL(this.remaining);o&&(r=o,this.capture(r))}let i=OC(t),s=OC(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=_m(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=re);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[re]:new Ie([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function ZC(n){return n.segments.length>0?new Ie([],{[re]:n}):n}function XC(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=XC(i);if(r===re&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new Ie(n.segments,e);return FL(t)}function FL(n){if(n.numberOfChildren===1&&n.children[re]){let e=n.children[re];return new Ie(n.segments.concat(e.segments),e.children)}return n}function Ii(n){return n instanceof zn}function LL(n,e,t=null,r=null){let i=e0(n);return t0(i,e,t,r)}function e0(n){let e;function t(s){let o={};for(let u of s.children){let l=t(u);o[u.outlet]=l}let a=new Ie(s.url,o);return s===n&&(e=a),a}let r=t(n.root),i=ZC(r);return e??i}function t0(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Im(i,i,i,t,r);let s=VL(e);if(s.toRoot())return Im(i,i,new Ie([],{}),t,r);let o=UL(s,i,n),a=o.processChildren?Ma(o.segmentGroup,o.index,s.commands):r0(o.segmentGroup,o.index,s.commands);return Im(i,o.segmentGroup,a,t,r)}function ld(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Oa(n){return typeof n=="object"&&n!=null&&n.outlets}function Im(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;n===e?o=t:o=n0(n,e,t);let a=ZC(XC(o));return new zn(a,s,i)}function n0(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=n0(s,e,t)}),new Ie(n.segments,r)}var dd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ld(r[0]))throw new $(4003,!1);let i=r.find(Oa);if(i&&i!==qC(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function VL(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new dd(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new dd(t,e,r)}var js=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function UL(n,e,t){if(n.isAbsolute)return new js(e,!0,0);if(!t)return new js(e,!1,NaN);if(t.parent===null)return new js(t,!0,0);let r=ld(n.commands[0])?0:1,i=t.segments.length-1+r;return jL(t,i,n.numberOfDoubleDots)}function jL(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new js(r,!1,i-s)}function BL(n){return Oa(n[0])?n[0].outlets:{[re]:n}}function r0(n,e,t){if(n??=new Ie([],{}),n.segments.length===0&&n.hasChildren())return Ma(n,e,t);let r=$L(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new Ie(n.segments.slice(0,r.pathIndex),{});return s.children[re]=new Ie(n.segments.slice(r.pathIndex),n.children),Ma(s,0,i)}else return r.match&&i.length===0?new Ie(n.segments,{}):r.match&&!n.hasChildren()?Am(n,e,t):r.match?Ma(n,0,i):Am(n,e,t)}function Ma(n,e,t){if(t.length===0)return new Ie(n.segments,{});{let r=BL(t),i={};if(Object.keys(r).some(s=>s!==re)&&n.children[re]&&n.numberOfChildren===1&&n.children[re].segments.length===0){let s=Ma(n.children[re],e,t);return new Ie(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=r0(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Ie(n.segments,i)}}function $L(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],a=t[r];if(Oa(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!FC(u,l,o))return s;r+=2}else{if(!FC(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Am(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Oa(s)){let u=HL(s.outlets);return new Ie(r,u)}if(i===0&&ld(t[0])){let u=n.segments[e];r.push(new vi(u.path,kC(t[0]))),i++;continue}let o=Oa(s)?s.outlets[re]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&ld(a)?(r.push(new vi(o,kC(a))),i+=2):(r.push(new vi(o,{})),i++)}return new Ie(r,{})}function HL(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Am(new Ie([],{}),0,r))}),e}function kC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function FC(n,e,t){return n==t.path&&dn(e,t.parameters)}var xa="imperative",qe=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(qe||{}),jt=class{constructor(e,t){this.id=e,this.url=t}},qs=class extends jt{constructor(e,t,r="imperative",i=null){super(e,t),this.type=qe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Yt=class extends jt{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=qe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},bt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(bt||{}),hd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(hd||{}),Hn=class extends jt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=qe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pr=class extends jt{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=qe.NavigationSkipped}},ka=class extends jt{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=qe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fd=class extends jt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=qe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sm=class extends jt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=qe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rm=class extends jt{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=qe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nm=class extends jt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=qe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mm=class extends jt{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=qe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},xm=class{constructor(e){this.route=e,this.type=qe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Pm=class{constructor(e){this.route=e,this.type=qe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Om=class{constructor(e){this.snapshot=e,this.type=qe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},km=class{constructor(e){this.snapshot=e,this.type=qe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Fm=class{constructor(e){this.snapshot=e,this.type=qe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lm=class{constructor(e){this.snapshot=e,this.type=qe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pd=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=qe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Fa=class{},Gs=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function zL(n,e){return n.providers&&!n._injector&&(n._injector=Ol(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Qt(n){return n.outlet||re}function qL(n,e){let t=n.filter(r=>Qt(r)===e);return t.push(...n.filter(r=>Qt(r)!==e)),t}function za(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Vm=class{get injector(){return za(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new qa(this.rootInjector),this.attachRef=null}},qa=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Vm(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(q(pt))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Um(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Um(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=jm(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return jm(e,this._root).map(t=>t.value)}};function Um(n,e){if(n===e.value)return e;for(let t of e.children){let r=Um(n,t);if(r)return r}return null}function jm(n,e){if(n===e.value)return[e];for(let t of e.children){let r=jm(n,t);if(r.length)return r.unshift(e),r}return[]}var Tt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Us(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var md=class extends gd{constructor(e,t){super(e),this.snapshot=t,Qm(this,e)}toString(){return this.snapshot.toString()}};function i0(n){let e=GL(n),t=new Qe([new vi("",{})]),r=new Qe({}),i=new Qe({}),s=new Qe({}),o=new Qe(""),a=new Or(t,r,s,o,i,re,n,e.root);return a.snapshot=e.root,new md(new Tt(a,[]),e)}function GL(n){let e={},t={},r={},i="",s=new Bs([],e,r,i,t,re,n,null,{});return new vd("",new Tt(s,[]))}var Or=class{constructor(e,t,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(J(l=>l[$a]))??W(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>Hs(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>Hs(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yd(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&o0(i)&&(r.resolve[$a]=i.title),r}var Bs=class{get title(){return this.data?.[$a]}constructor(e,t,r,i,s,o,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hs(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hs(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},vd=class extends gd{constructor(e,t){super(t),this.url=e,Qm(this,t)}toString(){return s0(this._root)}};function Qm(n,e){e.value._routerState=n,e.children.forEach(t=>Qm(n,t))}function s0(n){let e=n.children.length>0?` { ${n.children.map(s0).join(", ")} } `:"";return`${n.value}${e}`}function wm(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,dn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),dn(e.params,t.params)||n.paramsSubject.next(t.params),_L(e.url,t.url)||n.urlSubject.next(t.url),dn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Bm(n,e){let t=dn(n.params,e.params)&&DL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Bm(n.parent,e.parent))}function o0(n){return typeof n.title=="string"||n.title===null}var WL=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=re,this.activateEvents=new Ae,this.deactivateEvents=new Ae,this.attachEvents=new Ae,this.detachEvents=new Ae,this.parentContexts=x(qa),this.location=x(kn),this.changeDetector=x(br),this.inputBinder=x(Ed,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new $m(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ce({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Lt]})}}return n})(),$m=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Or?this.route:e===qa?this.childContexts:this.parent.get(e,t)}},Ed=new V(""),LC=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Jo([r.queryParams,r.params,r.data]).pipe(yt(([s,o,a],u)=>(a=k(k(k({},s),o),a),u===0?W(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=Tb(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function KL(n,e,t){let r=La(n,e._root,t?t._root:void 0);return new md(r,e)}function La(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=QL(n,e,t);return new Tt(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>La(n,a)),o}}let r=YL(e.value),i=e.children.map(s=>La(n,s));return new Tt(r,i)}}function QL(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return La(n,r,i);return La(n,r)})}function YL(n){return new Or(new Qe(n.url),new Qe(n.params),new Qe(n.queryParams),new Qe(n.fragment),new Qe(n.data),n.outlet,n.component,n)}var Va=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},a0="ngNavigationCancelingError";function _d(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Ii(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=c0(!1,bt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function c0(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[a0]=!0,t.cancellationCode=e,t}function JL(n){return u0(n)&&Ii(n.url)}function u0(n){return!!n&&n[a0]}var ZL=(n,e,t,r)=>J(i=>(new Hm(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Hm=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wm(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=Us(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Us(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=Us(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=Us(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Lm(s.value.snapshot))}),e.children.length&&this.forwardEvent(new km(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(wm(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),wm(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Id=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},$s=class{constructor(e,t){this.component=e,this.route=t}};function XL(n,e,t){let r=n._root,i=e?e._root:null;return Ra(r,i,t,[r.value])}function eV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ks(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!KE(n)?n:e.get(n):r}function Ra(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Us(e);return n.children.forEach(o=>{tV(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Pa(a,t.getContext(o),i)),i}function tV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=nV(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Id(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ra(n,e,a?a.children:null,r,i):Ra(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new $s(a.outlet.component,o))}else o&&Pa(e,a,i),i.canActivateChecks.push(new Id(r)),s.component?Ra(n,null,a?a.children:null,r,i):Ra(n,null,t,r,i);return i}function nV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!_i(n.url,e.url);case"pathParamsOrQueryParamsChange":return!_i(n.url,e.url)||!dn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bm(n,e)||!dn(n.queryParams,e.queryParams);case"paramsChange":default:return!Bm(n,e)}}function Pa(n,e,t){let r=Us(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Pa(o,e.children.getContext(s),t):Pa(o,null,t):Pa(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new $s(e.outlet.component,i)):t.canDeactivateChecks.push(new $s(null,i)):t.canDeactivateChecks.push(new $s(null,i))}function Ga(n){return typeof n=="function"}function rV(n){return typeof n=="boolean"}function iV(n){return n&&Ga(n.canLoad)}function sV(n){return n&&Ga(n.canActivate)}function oV(n){return n&&Ga(n.canActivateChild)}function aV(n){return n&&Ga(n.canDeactivate)}function cV(n){return n&&Ga(n.canMatch)}function l0(n){return n instanceof An||n?.name==="EmptyError"}var od=Symbol("INITIAL_VALUE");function Ws(){return yt(n=>Jo(n.map(e=>e.pipe(Rn(1),Mu(od)))).pipe(J(e=>{for(let t of e)if(t!==!0){if(t===od)return od;if(t===!1||uV(t))return t}return!0}),dt(e=>e!==od),Rn(1)))}function uV(n){return Ii(n)||n instanceof Va}function lV(n,e){return ke(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?W(ce(k({},t),{guardsResult:!0})):dV(o,r,i,n).pipe(ke(a=>a&&rV(a)?hV(r,s,n,e):W(a)),J(a=>ce(k({},t),{guardsResult:a})))})}function dV(n,e,t,r){return De(n).pipe(ke(i=>yV(i.component,i.route,t,e,r)),en(i=>i!==!0,!0))}function hV(n,e,t,r){return De(e).pipe(Sn(i=>rs(pV(i.route.parent,r),fV(i.route,r),mV(n,i.path,t),gV(n,i.route,t))),en(i=>i!==!0,!0))}function fV(n,e){return n!==null&&e&&e(new Fm(n)),W(!0)}function pV(n,e){return n!==null&&e&&e(new Om(n)),W(!0)}function gV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return W(!0);let i=r.map(s=>Su(()=>{let o=za(e)??t,a=Ks(s,o),u=sV(a)?a.canActivate(e,n):Ft(o,()=>a(e,n));return kr(u).pipe(en())}));return W(i).pipe(Ws())}function mV(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>eV(o)).filter(o=>o!==null).map(o=>Su(()=>{let a=o.guards.map(u=>{let l=za(o.node)??t,h=Ks(u,l),p=oV(h)?h.canActivateChild(r,n):Ft(l,()=>h(r,n));return kr(p).pipe(en())});return W(a).pipe(Ws())}));return W(s).pipe(Ws())}function yV(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return W(!0);let o=s.map(a=>{let u=za(e)??i,l=Ks(a,u),h=aV(l)?l.canDeactivate(n,e,t,r):Ft(u,()=>l(n,e,t,r));return kr(h).pipe(en())});return W(o).pipe(Ws())}function vV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return W(!0);let s=i.map(o=>{let a=Ks(o,n),u=iV(a)?a.canLoad(e,t):Ft(n,()=>a(e,t));return kr(u)});return W(s).pipe(Ws(),d0(r))}function d0(n){return uu(Fe(e=>{if(typeof e!="boolean")throw _d(n,e)}),J(e=>e===!0))}function _V(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return W(!0);let s=i.map(o=>{let a=Ks(o,n),u=cV(a)?a.canMatch(e,t):Ft(n,()=>a(e,t));return kr(u)});return W(s).pipe(Ws(),d0(r))}var Ua=class{constructor(e){this.segmentGroup=e||null}},ja=class extends Error{constructor(e){super(),this.urlTree=e}};function Vs(n){return ns(new Ua(n))}function IV(n){return ns(new $(4e3,!1))}function wV(n){return ns(c0(!1,bt.GuardRejected))}var zm=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return W(r);if(i.numberOfChildren>1||!i.children[re])return IV(`${e.redirectTo}`);i=i.children[re]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let a=t,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:A,title:N}=i,R=Ft(s,()=>a({params:y,data:A,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(R instanceof zn)throw new ja(R);t=R}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ja(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new zn(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new Ie(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},qm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function EV(n,e,t,r,i){let s=h0(n,e,t);return s.matched?(r=zL(e,r),_V(r,e,t,i).pipe(J(o=>o===!0?s:k({},qm)))):W(s)}function h0(n,e,t){if(e.path==="**")return DV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},qm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||vL)(t,n,e);if(!i)return k({},qm);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function DV(n){return{matched:!0,parameters:n.length>0?qC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function VC(n,e,t,r){return t.length>0&&CV(n,t,r)?{segmentGroup:new Ie(e,bV(r,new Ie(t,n.children))),slicedSegments:[]}:t.length===0&&AV(n,t,r)?{segmentGroup:new Ie(n.segments,TV(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Ie(n.segments,n.children),slicedSegments:t}}function TV(n,e,t,r){let i={};for(let s of t)if(Dd(n,e,s)&&!r[Qt(s)]){let o=new Ie([],{});i[Qt(s)]=o}return k(k({},r),i)}function bV(n,e){let t={};t[re]=e;for(let r of n)if(r.path===""&&Qt(r)!==re){let i=new Ie([],{});t[Qt(r)]=i}return t}function CV(n,e,t){return t.some(r=>Dd(n,e,r)&&Qt(r)!==re)}function AV(n,e,t){return t.some(r=>Dd(n,e,r))}function Dd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function SV(n,e,t){return e.length===0&&!n.children[t]}var Gm=class{};function RV(n,e,t,r,i,s,o="emptyOnly"){return new Wm(n,e,t,r,i,o,s).recognize()}var NV=31,Wm=class{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new zm(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=VC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:t,rootSnapshot:r})=>{let i=new Tt(r,t),s=new vd("",i),o=LL(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new Bs([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,re,t).pipe(J(r=>({children:r,rootSnapshot:t})),dr(r=>{if(r instanceof ja)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ua?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(J(o=>o instanceof Tt?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return De(s).pipe(Sn(o=>{let a=r.children[o],u=qL(t,o);return this.processSegmentGroup(e,u,a,o,i)}),Nu((o,a)=>(o.push(...a),o)),hr(null),Ff(),ke(o=>{if(o===null)return Vs(r);let a=f0(o);return MV(a),W(a)}))}processSegment(e,t,r,i,s,o,a){return De(t).pipe(Sn(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,s,o,a).pipe(dr(l=>{if(l instanceof Ua)return W(null);throw l}))),en(u=>!!u),dr(u=>{if(l0(u))return SV(r,i,s)?W(new Gm):Vs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,s,o,a,u){return Qt(r)!==o&&(o===re||!Dd(i,s,r))?Vs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,u):Vs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=h0(t,i,s);if(!u)return Vs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>NV&&(this.allowRedirects=!1));let y=new Bs(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,UC(i),Qt(i),i.component??i._loadedComponent??null,i,jC(i)),A=yd(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(A.params),y.data=Object.freeze(A.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(ke(R=>this.processSegment(e,r,t,R.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a=EV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(yt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(yt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,A=new Bs(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,UC(r),Qt(r),r.component??r._loadedComponent??null,r,jC(r)),N=yd(A,o,this.paramsInheritanceStrategy);A.params=Object.freeze(N.params),A.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:F}=VC(t,m,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,A).pipe(J(L=>new Tt(A,L)));if(l.length===0&&F.length===0)return W(new Tt(A,[]));let H=Qt(r)===s;return this.processSegment(h,l,R,F,H?re:s,!0,A).pipe(J(L=>new Tt(A,L instanceof Tt?[L]:[])))}))):Vs(t)))}getChildConfig(e,t,r){return t.children?W({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):vV(e,t,r,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(e,t).pipe(Fe(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):wV(t))):W({routes:[],injector:e})}};function MV(n){n.sort((e,t)=>e.value.outlet===re?-1:t.value.outlet===re?1:e.value.outlet.localeCompare(t.value.outlet))}function xV(n){let e=n.value.routeConfig;return e&&e.path===""}function f0(n){let e=[],t=new Set;for(let r of n){if(!xV(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=f0(r.children);e.push(new Tt(r.value,i))}return e.filter(r=>!t.has(r))}function UC(n){return n.data||{}}function jC(n){return n.resolve||{}}function PV(n,e,t,r,i,s){return ke(o=>RV(n,e,t,r,o.extractedUrl,i,s).pipe(J(({state:a,tree:u})=>ce(k({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function OV(n,e){return ke(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return W(t);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of p0(u))o.add(l);let a=0;return De(o).pipe(Sn(u=>s.has(u)?kV(u,r,n,e):(u.data=yd(u,u.parent,n).resolve,W(void 0))),Fe(()=>a++),is(1),ke(u=>a===o.size?W(t):wt))})}function p0(n){let e=n.children.map(t=>p0(t)).flat();return[n,...e]}function kV(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!o0(i)&&(s[$a]=i.title),FV(s,n,e,r).pipe(J(o=>(n._resolvedData=o,n.data=yd(n,n.parent,t).resolve,null)))}function FV(n,e,t,r){let i=Tm(n);if(i.length===0)return W({});let s={};return De(i).pipe(ke(o=>LV(n[o],e,t,r).pipe(en(),Fe(a=>{if(a instanceof Va)throw _d(new zs,a);s[o]=a}))),is(1),kf(s),dr(o=>l0(o)?wt:ns(o)))}function LV(n,e,t,r){let i=za(e)??r,s=Ks(n,i),o=s.resolve?s.resolve(e,t):Ft(i,()=>s(e,t));return kr(o)}function Em(n){return yt(e=>{let t=n(e);return t?De(t).pipe(J(()=>e)):W(e)})}var g0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===re);return r}getResolvedTitleForRoute(t){return t.data[$a]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>x(VV),providedIn:"root"})}}return n})(),VV=(()=>{class n extends g0{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(q(eC))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Wa=new V("",{providedIn:"root",factory:()=>({})}),UV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=cD({type:n,selectors:[["ng-component"]],standalone:!0,features:[mb],decls:1,vars:0,template:function(r,i){r&1&&Lg(0,"router-outlet")},dependencies:[WL],encapsulation:2})}}return n})();function Ym(n){let e=n.children&&n.children.map(Ym),t=e?ce(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==re&&(t.component=UV),t}var Ba=new V(""),Jm=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=x(Vl)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return W(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=kr(t.loadComponent()).pipe(J(m0),Fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ri(()=>{this.componentLoaders.delete(t)})),i=new Zi(r,()=>new He).pipe(Ji());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return W({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=jV(r,this.compiler,t,this.onLoadEndListener).pipe(ri(()=>{this.childrenLoaders.delete(r)})),o=new Zi(s,()=>new He).pipe(Ji());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function jV(n,e,t,r){return kr(n.loadChildren()).pipe(J(m0),ke(i=>i instanceof sa||Array.isArray(i)?W(i):De(e.compileModuleAsync(i))),J(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(t).injector,o=s.get(Ba,[],{optional:!0,self:!0}).flat()),{routes:o.map(Ym),injector:s}}))}function BV(n){return n&&typeof n=="object"&&"default"in n}function m0(n){return BV(n)?n.default:n}var Zm=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>x($V),providedIn:"root"})}}return n})(),$V=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),y0=new V(""),v0=new V("");function HV(n,e,t){let r=n.get(v0),i=n.get(st);return n.get(ye).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),zV(n))),{onViewTransitionCreated:u}=r;return u&&Ft(n,()=>u({transition:a,from:e,to:t})),o})}function zV(n){return new Promise(e=>{Fg({read:()=>setTimeout(e)},{injector:n})})}var qV=new V(""),Xm=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new He,this.transitionAbortSubject=new He,this.configLoader=x(Jm),this.environmentInjector=x(pt),this.urlSerializer=x(Ha),this.rootContexts=x(qa),this.location=x(xs),this.inputBindingEnabled=x(Ed,{optional:!0})!==null,this.titleStrategy=x(g0),this.options=x(Wa,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=x(Zm),this.createViewTransition=x(y0,{optional:!0}),this.navigationErrorHandler=x(qV,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>W(void 0),this.rootComponentType=null;let t=i=>this.events.next(new xm(i)),r=i=>this.events.next(new Pm(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ce(k(k({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Qe({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:xa,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(dt(s=>s.id!==0),J(s=>ce(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),yt(s=>{let o=!1,a=!1;return W(s).pipe(yt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",bt.SupersededByNewNavigation),wt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ce(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new Pr(u.id,this.urlSerializer.serialize(u.rawUrl),p,hd.IgnoredSameUrlNavigation)),u.resolve(!1),wt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return W(u).pipe(yt(p=>{let m=this.transitions?.getValue();return this.events.next(new qs(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?wt:Promise.resolve(p)}),PV(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Fe(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=ce(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new fd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:A,extras:N}=u,R=new qs(p,this.urlSerializer.serialize(m),y,A);this.events.next(R);let F=i0(this.rootComponentType).snapshot;return this.currentTransition=s=ce(k({},u),{targetSnapshot:F,urlAfterRedirects:m,extras:ce(k({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,W(s)}else{let p="";return this.events.next(new Pr(u.id,this.urlSerializer.serialize(u.extractedUrl),p,hd.IgnoredByUrlHandlingStrategy)),u.resolve(!1),wt}}),Fe(u=>{let l=new Sm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),J(u=>(this.currentTransition=s=ce(k({},u),{guards:XL(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),lV(this.environmentInjector,u=>this.events.next(u)),Fe(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw _d(this.urlSerializer,u.guardsResult);let l=new Rm(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),dt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",bt.GuardRejected),!1)),Em(u=>{if(u.guards.canActivateChecks.length)return W(u).pipe(Fe(l=>{let h=new Nm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),yt(l=>{let h=!1;return W(l).pipe(OV(this.paramsInheritanceStrategy,this.environmentInjector),Fe({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",bt.NoDataFromResolver)}}))}),Fe(l=>{let h=new Mm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),Em(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Fe(m=>{h.component=m}),J(()=>{})));for(let m of h.children)p.push(...l(m));return p};return Jo(l(u.targetSnapshot.root)).pipe(hr(null),Rn(1))}),Em(()=>this.afterPreactivation()),yt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?De(h).pipe(J(()=>s)):W(s)}),J(u=>{let l=KL(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=ce(k({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Fe(()=>{this.events.next(new Fa)}),ZL(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Rn(1),Fe({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yt(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Lf(this.transitionAbortSubject.pipe(Fe(u=>{throw u}))),ri(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",bt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),dr(u=>{if(a=!0,u0(u))this.events.next(new Hn(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),JL(u)?this.events.next(new Gs(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new ka(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=Ft(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Va){let{message:p,cancellationCode:m}=_d(this.urlSerializer,h);this.events.next(new Hn(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new Gs(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=t.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return wt}))}))}cancelNavigationTransition(t,r,i){let s=new Hn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function GV(n){return n!==xa}var WV=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>x(KV),providedIn:"root"})}}return n})(),Km=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},KV=(()=>{class n extends Km{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=gi(n)))(i||n)}})()}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_0=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:()=>x(QV),providedIn:"root"})}}return n})(),QV=(()=>{class n extends _0{constructor(){super(...arguments),this.location=x(xs),this.urlSerializer=x(Ha),this.options=x(Wa,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=x(Zm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new zn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=i0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof qs)this.stateMemento=this.createStateMemento();else if(t instanceof Pr)this.rawUrlTree=r.initialUrl;else if(t instanceof fd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Fa?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Hn&&(t.code===bt.GuardRejected||t.code===bt.NoDataFromResolver)?this.restoreHistory(r):t instanceof ka?this.restoreHistory(r,!0):t instanceof Yt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof zn?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=k(k({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=gi(n)))(i||n)}})()}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Na=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Na||{});function I0(n,e){n.events.pipe(dt(t=>t instanceof Yt||t instanceof Hn||t instanceof ka||t instanceof Pr),J(t=>t instanceof Yt||t instanceof Pr?Na.COMPLETE:(t instanceof Hn?t.code===bt.Redirect||t.code===bt.SupersededByNewNavigation:!1)?Na.REDIRECTING:Na.FAILED),dt(t=>t!==Na.REDIRECTING),Rn(1)).subscribe(()=>{e()})}function YV(n){throw n}var JV={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZV={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},hn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=x(Fl),this.stateManager=x(_0),this.options=x(Wa,{optional:!0})||{},this.pendingTasks=x(Er),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=x(Xm),this.urlSerializer=x(Ha),this.location=x(xs),this.urlHandlingStrategy=x(Zm),this._events=new He,this.errorHandler=this.options.errorHandler||YV,this.navigated=!1,this.routeReuseStrategy=x(WV),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=x(Ba,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!x(Ed,{optional:!0}),this.eventsSubscription=new Me,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Hn&&r.code!==bt.Redirect&&r.code!==bt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Yt)this.navigated=!0;else if(r instanceof Gs){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||GV(i.source)},o);this.scheduleNavigation(a,xa,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}eU(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),xa,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ym),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=e0(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return t0(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Ii(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,xa,null,r)}navigate(t,r={skipLocationChange:!1}){return XV(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},JV):r===!1?i=k({},ZV):i=r,Ii(t))return PC(this.currentUrlTree,t,i);let s=this.parseUrl(t);return PC(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return I0(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function XV(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new $(4008,!1)}function eU(n){return!(n instanceof Fa)&&!(n instanceof Gs)}var BC=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new He,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(l=>{l instanceof Yt&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Ii(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:dT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:Ii(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(z(hn),z(Or),hg("tabindex"),z(Kt),z(gt),z(jn))}}static{this.\u0275dir=Ce({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Fn("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&la("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Cr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Cr],replaceUrl:[2,"replaceUrl","replaceUrl",Cr],routerLink:"routerLink"},standalone:!0,features:[Og,Lt]})}}return n})(),r5=(()=>{class n{get isActive(){return this._isActive}constructor(t,r,i,s,o){this.router=t,this.element=r,this.renderer=i,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Ae,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Yt&&this.update()})}ngAfterContentInit(){W(this.links.changes,W(null)).pipe(lr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=De(t).pipe(lr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=tU(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?t.isActive(s,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static{this.\u0275fac=function(r){return new(r||n)(z(hn),z(gt),z(Kt),z(br),z(BC,8))}}static{this.\u0275dir=Ce({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,s){if(r&1&&db(s,BC,5),r&2){let o;hb(o=fb())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Lt]})}}return n})();function tU(n){return!!n.paths}var wd=class{};var nU=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(dt(t=>t instanceof Yt),Sn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Ol(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return De(i).pipe(lr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=W(null);let s=i.pipe(ke(o=>o===null?W(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return De([s,o]).pipe(lr())}else return s})}static{this.\u0275fac=function(r){return new(r||n)(q(hn),q(Vl),q(pt),q(wd),q(Jm))}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),w0=new V(""),rU=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof qs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Yt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Pr&&t.code===hd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){AT()}}static{this.\u0275prov=B({token:n,factory:n.\u0275fac})}}return n})();function i5(n,...e){return kt([{provide:Ba,multi:!0,useValue:n},[],{provide:Or,useFactory:E0,deps:[hn]},{provide:da,multi:!0,useFactory:D0},e.map(t=>t.\u0275providers)])}function E0(n){return n.routerState.root}function Ka(n,e){return{\u0275kind:n,\u0275providers:e}}function D0(){let n=x(ze);return e=>{let t=n.get(Tr);if(e!==t.components[0])return;let r=n.get(hn),i=n.get(T0);n.get(ey)===1&&r.initialNavigation(),n.get(b0,null,oe.Optional)?.setUpPreloading(),n.get(w0,null,oe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var T0=new V("",{factory:()=>new He}),ey=new V("",{providedIn:"root",factory:()=>1});function iU(){return Ka(2,[{provide:ey,useValue:0},{provide:Ll,multi:!0,deps:[ze],useFactory:e=>{let t=e.get(xb,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(hn),s=e.get(T0);I0(i,()=>{r(!0)}),e.get(Xm).afterPreactivation=()=>(r(!0),s.closed?W(void 0):s),i.initialNavigation()}))}}])}function sU(){return Ka(3,[{provide:Ll,multi:!0,useFactory:()=>{let e=x(hn);return()=>{e.setUpLocationChangeListener()}}},{provide:ey,useValue:2}])}var b0=new V("");function oU(n){return Ka(0,[{provide:b0,useExisting:nU},{provide:wd,useExisting:n}])}function aU(){return Ka(8,[LC,{provide:Ed,useExisting:LC}])}function cU(n){let e=[{provide:y0,useValue:HV},{provide:v0,useValue:k({skipNextTransition:!!n?.skipInitialTransition},n)}];return Ka(9,e)}var $C=new V("ROUTER_FORROOT_GUARD"),uU=[xs,{provide:Ha,useClass:zs},hn,qa,{provide:Or,useFactory:E0,deps:[hn]},Jm,[]],s5=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[uU,[],{provide:Ba,multi:!0,useValue:t},{provide:$C,useFactory:fU,deps:[[hn,new Ye,new gl]]},{provide:Wa,useValue:r||{}},r?.useHash?dU():hU(),lU(),r?.preloadingStrategy?oU(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?pU(r):[],r?.bindToComponentInputs?aU().\u0275providers:[],r?.enableViewTransitions?cU().\u0275providers:[],gU()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ba,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(q($C,8))}}static{this.\u0275mod=un({type:n})}static{this.\u0275inj=cn({})}}return n})();function lU(){return{provide:w0,useFactory:()=>{let n=x(kb),e=x(ye),t=x(Wa),r=x(Xm),i=x(Ha);return t.scrollOffset&&n.setOffset(t.scrollOffset),new rU(i,r,n,e,t)}}}function dU(){return{provide:jn,useClass:Ob}}function hU(){return{provide:jn,useClass:Kg}}function fU(n){return"guarded"}function pU(n){return[n.initialNavigation==="disabled"?sU().\u0275providers:[],n.initialNavigation==="enabledBlocking"?iU().\u0275providers:[]]}var HC=new V("");function gU(){return[{provide:HC,useFactory:D0},{provide:da,multi:!0,useExisting:HC}]}var A0=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},mU=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},S0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(A0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mU(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new ny;let m=s<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let A=l<<6&192|p;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},ny=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},yU=function(n){let e=A0(n);return S0.encodeByteArray(e,!0)},Qa=function(n){return yU(n).replace(/\./g,"")},iy=function(n){try{return S0.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function vU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var _U=()=>vU().__FIREBASE_DEFAULTS__,IU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wU=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&iy(n[1]);return e&&JSON.parse(e)},bd=()=>{try{return _U()||IU()||wU()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},sy=n=>{var e,t;return(t=(e=bd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},R0=n=>{let e=sy(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},oy=()=>{var n;return(n=bd())===null||n===void 0?void 0:n.config},ay=n=>{var e;return(e=bd())===null||e===void 0?void 0:e[`_${n}`]};var Td=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function N0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Qa(JSON.stringify(t)),Qa(JSON.stringify(o)),""].join(".")}function Ge(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function EU(){var n;let e=(n=bd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function x0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function P0(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function O0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function k0(){let n=Ge();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function F0(){return!EU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function cy(){try{return typeof indexedDB=="object"}catch{return!1}}function L0(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var DU="FirebaseError",Ct=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=DU,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qn.prototype.create)}},qn=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?TU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ct(i,a,r)}};function TU(n,e){return n.replace(bU,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var bU=/\{\$([^}]+)}/g;function V0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function wi(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(C0(s)&&C0(o)){if(!wi(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function C0(n){return n!==null&&typeof n=="object"}function Ya(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qs(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ys(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function U0(n,e){let t=new ry(n,e);return t.subscribe.bind(t)}var ry=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");CU(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ty),i.error===void 0&&(i.error=ty),i.complete===void 0&&(i.complete=ty);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function CU(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ty(){}var c5=4*60*60*1e3;function Ze(n){return n&&n._delegate?n._delegate:n}var Bt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ei="[DEFAULT]";var uy=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Td;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SU(e))try{this.getOrInitializeService({instanceIdentifier:Ei})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ei){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ei){return this.instances.has(e)}getOptions(e=Ei){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AU(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ei){return this.component?this.component.multipleInstances?e:Ei:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function AU(n){return n===Ei?void 0:n}function SU(n){return n.instantiationMode==="EAGER"}var Cd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new uy(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var RU=[],le=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(le||{}),NU={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},MU=le.INFO,xU={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},PU=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=xU[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Fr=class{constructor(e){this.name=e,this._logLevel=MU,this._logHandler=PU,this._userLogHandler=null,RU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}};var OU=(n,e)=>e.some(t=>n instanceof t),j0,B0;function kU(){return j0||(j0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FU(){return B0||(B0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var $0=new WeakMap,dy=new WeakMap,H0=new WeakMap,ly=new WeakMap,fy=new WeakMap;function LU(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(fn(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&$0.set(t,n)}).catch(()=>{}),fy.set(e,n),e}function VU(n){if(dy.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});dy.set(n,e)}var hy={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return dy.get(n);if(e==="objectStoreNames")return n.objectStoreNames||H0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return fn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function z0(n){hy=n(hy)}function UU(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Ad(this),e,...t);return H0.set(r,e.sort?e.sort():[e]),fn(r)}:FU().includes(n)?function(...e){return n.apply(Ad(this),e),fn($0.get(this))}:function(...e){return fn(n.apply(Ad(this),e))}}function jU(n){return typeof n=="function"?UU(n):(n instanceof IDBTransaction&&VU(n),OU(n,kU())?new Proxy(n,hy):n)}function fn(n){if(n instanceof IDBRequest)return LU(n);if(ly.has(n))return ly.get(n);let e=jU(n);return e!==n&&(ly.set(n,e),fy.set(e,n)),e}var Ad=n=>fy.get(n);function G0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=fn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(fn(o.result),u.oldVersion,u.newVersion,fn(o.transaction),u)}),t&&o.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var BU=["get","getKey","getAll","getAllKeys","count"],$U=["put","add","delete","clear"],py=new Map;function q0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(py.get(e))return py.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=$U.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BU.includes(t)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return py.set(e,s),s}z0(n=>ce(k({},n),{get:(e,t,r)=>q0(e,t)||n.get(e,t,r),has:(e,t)=>!!q0(e,t)||n.has(e,t)}));var my=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(HU(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function HU(n){let e=n.getComponent();return e?.type==="VERSION"}var yy="@firebase/app",W0="0.10.13";var Gn=new Fr("@firebase/app"),zU="@firebase/app-compat",qU="@firebase/analytics-compat",GU="@firebase/analytics",WU="@firebase/app-check-compat",KU="@firebase/app-check",QU="@firebase/auth",YU="@firebase/auth-compat",JU="@firebase/database",ZU="@firebase/data-connect",XU="@firebase/database-compat",ej="@firebase/functions",tj="@firebase/functions-compat",nj="@firebase/installations",rj="@firebase/installations-compat",ij="@firebase/messaging",sj="@firebase/messaging-compat",oj="@firebase/performance",aj="@firebase/performance-compat",cj="@firebase/remote-config",uj="@firebase/remote-config-compat",lj="@firebase/storage",dj="@firebase/storage-compat",hj="@firebase/firestore",fj="@firebase/vertexai-preview",pj="@firebase/firestore-compat",gj="firebase",mj="10.14.1";var vy="[DEFAULT]",yj={[yy]:"fire-core",[zU]:"fire-core-compat",[GU]:"fire-analytics",[qU]:"fire-analytics-compat",[KU]:"fire-app-check",[WU]:"fire-app-check-compat",[QU]:"fire-auth",[YU]:"fire-auth-compat",[JU]:"fire-rtdb",[ZU]:"fire-data-connect",[XU]:"fire-rtdb-compat",[ej]:"fire-fn",[tj]:"fire-fn-compat",[nj]:"fire-iid",[rj]:"fire-iid-compat",[ij]:"fire-fcm",[sj]:"fire-fcm-compat",[oj]:"fire-perf",[aj]:"fire-perf-compat",[cj]:"fire-rc",[uj]:"fire-rc-compat",[lj]:"fire-gcs",[dj]:"fire-gcs-compat",[hj]:"fire-fst",[pj]:"fire-fst-compat",[fj]:"fire-vertex","fire-js":"fire-js",[gj]:"fire-js-all"};var Ja=new Map,vj=new Map,_y=new Map;function K0(n,e){try{n.container.addComponent(e)}catch(t){Gn.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vr(n){let e=n.name;if(_y.has(e))return Gn.debug(`There were multiple attempts to register component ${e}.`),!1;_y.set(e,n);for(let t of Ja.values())K0(t,n);for(let t of vj.values())K0(t,n);return!0}function Xa(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function pn(n){return n.settings!==void 0}var _j={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Lr=new qn("app","Firebase",_j);var Iy=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}};var Ur=mj;function Dy(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:vy,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Lr.create("bad-app-name",{appName:String(i)});if(t||(t=oy()),!t)throw Lr.create("no-options");let s=Ja.get(i);if(s){if(wi(t,s.options)&&wi(r,s.config))return s;throw Lr.create("duplicate-app",{appName:i})}let o=new Cd(i);for(let u of _y.values())o.addComponent(u);let a=new Iy(t,r,o);return Ja.set(i,a),a}function Js(n=vy){let e=Ja.get(n);if(!e&&n===vy&&oy())return Dy();if(!e)throw Lr.create("no-app",{appName:n});return e}function Sd(){return Array.from(Ja.values())}function $e(n,e,t){var r;let i=(r=yj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gn.warn(a.join(" "));return}Vr(new Bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Ij="firebase-heartbeat-database",wj=1,Za="firebase-heartbeat-store",gy=null;function Z0(){return gy||(gy=G0(Ij,wj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Za)}catch(t){console.warn(t)}}}}).catch(n=>{throw Lr.create("idb-open",{originalErrorMessage:n.message})})),gy}function Ej(n){return w(this,null,function*(){try{let t=(yield Z0()).transaction(Za),r=yield t.objectStore(Za).get(X0(n));return yield t.done,r}catch(e){if(e instanceof Ct)Gn.warn(e.message);else{let t=Lr.create("idb-get",{originalErrorMessage:e?.message});Gn.warn(t.message)}}})}function Q0(n,e){return w(this,null,function*(){try{let r=(yield Z0()).transaction(Za,"readwrite");yield r.objectStore(Za).put(e,X0(n)),yield r.done}catch(t){if(t instanceof Ct)Gn.warn(t.message);else{let r=Lr.create("idb-set",{originalErrorMessage:t?.message});Gn.warn(r.message)}}})}function X0(n){return`${n.name}!${n.options.appId}`}var Dj=1024,Tj=30*24*60*60*1e3,wy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Ey(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Y0();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=Tj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gn.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Y0(),{heartbeatsToSend:r,unsentEntries:i}=bj(this._heartbeatsCache.heartbeats),s=Qa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return Gn.warn(t),""}})}};function Y0(){return new Date().toISOString().substring(0,10)}function bj(n,e=Dj){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),J0(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),J0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Ey=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return cy()?L0().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Ej(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Q0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Q0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function J0(n){return Qa(JSON.stringify({version:2,heartbeats:n})).length}function Cj(n){Vr(new Bt("platform-logger",e=>new my(e),"PRIVATE")),Vr(new Bt("heartbeat",e=>new wy(e),"PRIVATE")),$e(yy,W0,n),$e(yy,W0,"esm2017"),$e("fire-js","")}Cj("");var Aj="firebase",Sj="10.14.1";$e(Aj,Sj,"app");var Ti=new xn("ANGULARFIRE2_VERSION");function Nd(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var ec=(n,e)=>{let t=e?[e]:Sd(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},Xs=class{constructor(){return ec(Rj)}},Rj="app-check";function Zs(){}var Rd=class{zone;delegate;constructor(e,t=Mf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},Ty=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zs,{},Zs,Zs)),t.pipe(Fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},eo=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Rd(Zone.current)),this.insideAngular=t.run(()=>new Rd(Zone.current,Nf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(q(ye))};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Md(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function Nj(n){return Md().ngZone.runOutsideAngular(()=>n())}function Di(n){return Md().ngZone.run(()=>n())}function Mj(n){return xj(Md())(n)}function xj(n){return function(t){return t=t.lift(new Ty(n.ngZone)),t.pipe(ur(n.outsideAngular),cr(n.insideAngular))}}var Pj=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Di(()=>n.apply(void 0,r))},At=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=Di(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zs,{},Zs,Zs))),r[s]=Pj(r[s],t));let i=Nj(()=>n.apply(this,r));if(!e)if(i instanceof se){let s=Md();return i.pipe(ur(s.outsideAngular),cr(s.insideAngular))}else return Di(()=>i);return i instanceof se?i.pipe(Mj):i instanceof Promise?Di(()=>new Promise((s,o)=>i.then(a=>Di(()=>s(a)),a=>Di(()=>o(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:Di(()=>i)};var Wn=class{constructor(e){return e}},bi=class{constructor(){return Sd()}};function Oj(n){return n&&n.length===1?n[0]:new Wn(Js())}var by=new V("angularfire2._apps"),kj={provide:Wn,useFactory:Oj,deps:[[new Ye,by]]},Fj={provide:bi,deps:[[new Ye,by]]};function Lj(n){return(e,t)=>{let r=t.get(Ut);$e("angularfire",Ti.full,"core"),$e("angularfire",Ti.full,"app"),$e("angular",yb.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Wn(i)}}function K5(n,...e){return kt([kj,Fj,{provide:by,useFactory:Lj(n),multi:!0,deps:[ye,ze,eo,...e]}])}var Q5=At(Dy,!0);function yA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var vA=yA,_A=new qn("auth","Firebase",yA());var Ld=new Fr("@firebase/auth");function Vj(n,...e){Ld.logLevel<=le.WARN&&Ld.warn(`Auth (${Ur}): ${n}`,...e)}function Pd(n,...e){Ld.logLevel<=le.ERROR&&Ld.error(`Auth (${Ur}): ${n}`,...e)}function mn(n,...e){throw Wy(n,...e)}function Ci(n,...e){return Wy(n,...e)}function IA(n,e,t){let r=Object.assign(Object.assign({},vA()),{[e]:t});return new qn("auth","Firebase",r).create(e,{appName:n.name})}function Br(n){return IA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wy(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return _A.create(n,...e)}function Q(n,e,...t){if(!n)throw Wy(e,...t)}function Kn(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Pd(e),new Error(e)}function $r(n,e){n||Kn(e)}function Ry(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function Uj(){return eA()==="http:"||eA()==="https:"}function eA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function jj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Uj()||P0()||"connection"in navigator)?navigator.onLine:!0}function Bj(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ai=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,$r(t>e,"Short delay should be less than long delay!"),this.isMobile=M0()||O0()}get(){return jj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ky(n,e){$r(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Vd=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Kn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Kn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Kn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var $j={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Hj=new Ai(3e4,6e4);function Ri(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Hr(s,o,a,u){return w(this,arguments,function*(n,e,t,r,i={}){return wA(n,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Ya(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return x0()||(y.referrerPolicy="no-referrer"),Vd.fetch()(EA(n,n.config.apiHost,t,p),y)}))})}function wA(n,e,t){return w(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},$j),e);try{let i=new Ny(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw xd(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw xd(n,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw xd(n,"email-already-in-use",o);if(u==="USER_DISABLED")throw xd(n,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw IA(n,h,l);mn(n,h)}}catch(i){if(i instanceof Ct)throw i;mn(n,"network-request-failed",{message:String(i)})}})}function Kd(s,o,a,u){return w(this,arguments,function*(n,e,t,r,i={}){let l=yield Hr(n,e,t,r,i);return"mfaPendingCredential"in l&&mn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function EA(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Ky(n.config,i):`${n.config.apiScheme}://${i}`}function zj(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ny=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),Hj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function xd(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ci(n,e,r);return i.customData._tokenResponse=t,i}function tA(n){return n!==void 0&&n.enterprise!==void 0}var My=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return zj(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function qj(n,e){return w(this,null,function*(){return Hr(n,"GET","/v2/recaptchaConfig",Ri(n,e))})}function Gj(n,e){return w(this,null,function*(){return Hr(n,"POST","/v1/accounts:delete",e)})}function DA(n,e){return w(this,null,function*(){return Hr(n,"POST","/v1/accounts:lookup",e)})}function tc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Qy(n,e=!1){return w(this,null,function*(){let t=Ze(n),r=yield t.getIdToken(e),i=Yy(r);Q(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:tc(Cy(i.auth_time)),issuedAtTime:tc(Cy(i.iat)),expirationTime:tc(Cy(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Cy(n){return Number(n)*1e3}function Yy(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Pd("JWT malformed, contained fewer than 3 sections"),null;try{let i=iy(t);return i?JSON.parse(i):(Pd("Failed to decode base64 JWT payload"),null)}catch(i){return Pd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function nA(n){let e=Yy(n);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function rc(n,e,t=!1){return w(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Ct&&Wj(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function Wj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var xy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),t)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var ic=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=tc(this.lastLoginAt),this.creationTime=tc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ud(n){return w(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield rc(n,DA(t,{idToken:r}));Q(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?TA(s.providerUserInfo):[],a=Kj(n.providerData,o),u=n.isAnonymous,l=!(n.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ic(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Jy(n){return w(this,null,function*(){let e=Ze(n);yield Ud(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Kj(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TA(n){return n.map(e=>{var{providerId:t}=e,r=xf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Qj(n,e){return w(this,null,function*(){let t=yield wA(n,{},()=>w(this,null,function*(){let r=Ya({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=EA(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Vd.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function Yj(n,e){return w(this,null,function*(){return Hr(n,"POST","/v2/accounts:revokeToken",Ri(n,e))})}var nc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Q(e.length!==0,"internal-error");let t=nA(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return w(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Qj(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Q(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Q(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Kn("not implemented")}};function jr(n,e){Q(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var to=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=xf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ic(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let t=yield rc(this,this.stsTokenManager.getToken(this.auth,e));return Q(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Qy(this,e)}reload(){return Jy(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Ud(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(pn(this.auth.app))return Promise.reject(Br(this.auth));let e=yield this.getIdToken();return yield rc(this,Gj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,A=(o=t.photoURL)!==null&&o!==void 0?o:void 0,N=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,H=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:L,emailVerified:ee,isAnonymous:_e,providerData:K,stsTokenManager:E}=t;Q(L&&E,e,"internal-error");let v=nc.fromJSON(this.name,E);Q(typeof L=="string",e,"internal-error"),jr(p,e.name),jr(m,e.name),Q(typeof ee=="boolean",e,"internal-error"),Q(typeof _e=="boolean",e,"internal-error"),jr(y,e.name),jr(A,e.name),jr(N,e.name),jr(R,e.name),jr(F,e.name),jr(H,e.name);let _=new n({uid:L,auth:e,email:m,emailVerified:ee,displayName:p,isAnonymous:_e,photoURL:A,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:F,lastLoginAt:H});return K&&Array.isArray(K)&&(_.providerData=K.map(D=>Object.assign({},D))),R&&(_._redirectEventId=R),_}static _fromIdTokenResponse(e,t,r=!1){return w(this,null,function*(){let i=new nc;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ud(s),s})}static _fromGetAccountInfoResponse(e,t,r){return w(this,null,function*(){let i=t.users[0];Q(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?TA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new nc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new ic(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var rA=new Map;function Qn(n){$r(n instanceof Function,"Expected a class definition");let e=rA.get(n);return e?($r(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,rA.set(n,e),e)}var Jj=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(t,r){return w(this,null,function*(){this.storage[t]=r})}_get(t){return w(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return w(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Py=Jj;function Od(n,e,t){return`firebase:${n}:${e}:${t}`}var jd=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Od(this.userKey,i.apiKey,s),this.fullPersistenceKey=Od("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?to._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return w(this,null,function*(){if(!t.length)return new n(Qn(Py),e,r);let i=(yield Promise.all(t.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||Qn(Py),o=Od(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(o);if(h){let p=to._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new n(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new n(s,e,r))})}};function iA(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(NA(e))return"Blackberry";if(MA(e))return"Webos";if(CA(e))return"Safari";if((e.includes("chrome/")||AA(e))&&!e.includes("edge/"))return"Chrome";if(RA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function bA(n=Ge()){return/firefox\//i.test(n)}function CA(n=Ge()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AA(n=Ge()){return/crios\//i.test(n)}function SA(n=Ge()){return/iemobile/i.test(n)}function RA(n=Ge()){return/android/i.test(n)}function NA(n=Ge()){return/blackberry/i.test(n)}function MA(n=Ge()){return/webos/i.test(n)}function Zy(n=Ge()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Zj(n=Ge()){var e;return Zy(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Xj(){return k0()&&document.documentMode===10}function xA(n=Ge()){return Zy(n)||RA(n)||MA(n)||NA(n)||/windows phone/i.test(n)||SA(n)}function PA(n,e=[]){let t;switch(n){case"Browser":t=iA(Ge());break;case"Worker":t=`${iA(Ge())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ur}/${r}`}var Oy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function e2(t){return w(this,arguments,function*(n,e={}){return Hr(n,"GET","/v2/passwordPolicy",Ri(n,e))})}var t2=6,ky=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:t2,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Fy=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Bd(this),this.idTokenSubscription=new Bd(this),this.beforeStateQueue=new Oy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_A,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Qn(t)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield jd.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let t=yield DA(this,{idToken:e}),r=yield to._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var t;if(pn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Ud(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Bj()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(pn(this.app))return Promise.reject(Br(this));let t=e?Ze(e):null;return t&&Q(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return w(this,null,function*(){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return pn(this.app)?Promise.reject(Br(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return pn(this.app)?Promise.reject(Br(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(Qn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield e2(this),t=new ky(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qn("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Yj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Qn(e)||this._popupRedirectResolver;Q(t,this,"argument-error"),this.redirectPersistenceManager=yield jd.create(this,[Qn(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(t);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=PA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return w(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Vj(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function no(n){return Ze(n)}var Bd=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=U0(t=>this.observer=t)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Qd={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function n2(n){Qd=n}function OA(n){return Qd.loadJS(n)}function r2(){return Qd.recaptchaEnterpriseScript}function i2(){return Qd.gapiScript}function kA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var s2="recaptcha-enterprise",o2="NO_RECAPTCHA",Ly=class{constructor(e){this.type=s2,this.auth=no(e)}verify(e="verify",t=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){qj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new My(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;tA(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(o2)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!t&&tA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=r2();u.length!==0&&(u+=a),OA(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function sA(n,e,t,r=!1){return w(this,null,function*(){let i=new Ly(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function oA(n,e,t,r){return w(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield sA(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield sA(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)}))})}function Xy(n,e){let t=Xa(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(wi(s,e??{}))return i;mn(i,"already-initialized")}return t.initialize({options:e})}function a2(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Qn);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function ev(n,e,t){let r=no(n);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=FA(e),{host:o,port:a}=c2(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||u2()}function FA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function c2(n){let e=FA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:aA(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:aA(o)}}}function aA(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function u2(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var sc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Kn("not implemented")}_getIdTokenResponse(e){return Kn("not implemented")}_linkToIdToken(e,t){return Kn("not implemented")}_getReauthenticationResolver(e){return Kn("not implemented")}};function l2(n,e){return w(this,null,function*(){return Hr(n,"POST","/v1/accounts:signUp",e)})}function d2(n,e){return w(this,null,function*(){return Kd(n,"POST","/v1/accounts:signInWithPassword",Ri(n,e))})}function h2(n,e){return w(this,null,function*(){return Kd(n,"POST","/v1/accounts:signInWithEmailLink",Ri(n,e))})}function f2(n,e){return w(this,null,function*(){return Kd(n,"POST","/v1/accounts:signInWithEmailLink",Ri(n,e))})}var oc=class n extends sc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oA(e,t,"signInWithPassword",d2);case"emailLink":return h2(e,{email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_linkToIdToken(e,t){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return oA(e,r,"signUpPassword",l2);case"emailLink":return f2(e,{idToken:t,email:this._email,oobCode:this._password});default:mn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ay(n,e){return w(this,null,function*(){return Kd(n,"POST","/v1/accounts:signInWithIdp",Ri(n,e))})}function p2(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function g2(n){let e=Qs(Ys(n)).link,t=e?Qs(Ys(e)).deep_link_id:null,r=Qs(Ys(n)).deep_link_id;return(r?Qs(Ys(r)).link:null)||r||t||e||n}var $d=class n{constructor(e){var t,r,i,s,o,a;let u=Qs(Ys(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=p2((i=u.mode)!==null&&i!==void 0?i:null);Q(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=g2(e);try{return new n(t)}catch{return null}}};var LA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return oc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=$d.parseLink(r);return Q(i,"argument-error"),oc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Hd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Vy=class extends Hd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ac=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return w(this,null,function*(){let s=yield to._fromIdTokenResponse(e,r,i),o=cA(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=cA(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function cA(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Uy=class n extends Ct{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function VA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Uy._fromErrorAndOperation(n,s,e,r):s})}function m2(n,e,t=!1){return w(this,null,function*(){let r=yield rc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ac._forOperation(n,"link",r)})}function y2(n,e,t=!1){return w(this,null,function*(){let{auth:r}=n;if(pn(r.app))return Promise.reject(Br(r));let i="reauthenticate";try{let s=yield rc(n,VA(r,i,e,n),t);Q(s.idToken,r,"internal-error");let o=Yy(s.idToken);Q(o,r,"internal-error");let{sub:a}=o;return Q(n.uid===a,r,"user-mismatch"),ac._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&mn(r,"user-mismatch"),s}})}function UA(n,e,t=!1){return w(this,null,function*(){if(pn(n.app))return Promise.reject(Br(n));let r="signIn",i=yield VA(n,r,e),s=yield ac._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function tv(n,e){return w(this,null,function*(){return UA(no(n),e)})}function v2(n){return w(this,null,function*(){let e=no(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function nv(n,e,t){return pn(n.app)?Promise.reject(Br(n)):tv(Ze(n),LA.credential(e,t)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&v2(n),r}))}function rv(n,e,t,r){return Ze(n).onIdTokenChanged(e,t,r)}function iv(n,e,t){return Ze(n).beforeAuthStateChanged(e,t)}function sv(n){return Ze(n).signOut()}var zd="__sak";var qd=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zd,"1"),this.storage.removeItem(zd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var _2=1e3,I2=10,w2=(()=>{class n extends qd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=xA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);Xj()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,I2):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},_2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return w(this,null,function*(){yield or(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return w(this,null,function*(){let r=yield or(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return w(this,null,function*(){yield or(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),jA=w2;var E2=(()=>{class n extends qd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),ov=E2;function D2(n){return Promise.all(n.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var T2=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return w(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield D2(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function BA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var jy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=BA("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function gn(){return window}function b2(n){gn().location.href=n}function $A(){return typeof gn().WorkerGlobalScope<"u"&&typeof gn().importScripts=="function"}function C2(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function A2(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function S2(){return $A()?self:null}var HA="firebaseLocalStorageDb",R2=1,Gd="firebaseLocalStorage",zA="fbase_key",Si=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Yd(n,e){return n.transaction([Gd],e?"readwrite":"readonly").objectStore(Gd)}function N2(){let n=indexedDB.deleteDatabase(HA);return new Si(n).toPromise()}function By(){let n=indexedDB.open(HA,R2);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Gd,{keyPath:zA})}catch(i){t(i)}}),n.addEventListener("success",()=>w(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Gd)?e(r):(r.close(),yield N2(),e(yield By()))}))})}function uA(n,e,t){return w(this,null,function*(){let r=Yd(n,!0).put({[zA]:e,value:t});return new Si(r).toPromise()})}function M2(n,e){return w(this,null,function*(){let t=Yd(n,!1).get(e),r=yield new Si(t).toPromise();return r===void 0?null:r.value})}function lA(n,e){let t=Yd(n,!0).delete(e);return new Si(t).toPromise()}var x2=800,P2=3,O2=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield By(),this.db)})}_withRetries(t){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>P2)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return $A()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=T2._getInstance(S2()),this.receiver._subscribe("keyChanged",(t,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var t,r;if(this.activeServiceWorker=yield C2(),!this.activeServiceWorker)return;this.sender=new jy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||A2()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let t=yield By();return yield uA(t,zd,"1"),yield lA(t,zd),!0}catch{}return!1})}_withPendingWrite(t){return w(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>uA(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return w(this,null,function*(){let r=yield this._withRetries(i=>M2(i,t));return this.localCache[t]=r,r})}_remove(t){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>lA(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return w(this,null,function*(){let t=yield this._withRetries(s=>{let o=Yd(s,!1).getAll();return new Si(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),x2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),qA=O2;var rK=kA("rcb"),iK=new Ai(3e4,6e4);function k2(n,e){return e?Qn(e):(Q(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var cc=class extends sc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ay(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ay(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ay(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function F2(n){return UA(n.auth,new cc(n),n.bypassAuthState)}function L2(n){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),y2(t,new cc(n),n.bypassAuthState)}function V2(n){return w(this,null,function*(){let{auth:e,user:t}=n;return Q(t,e,"internal-error"),m2(t,new cc(n),n.bypassAuthState)})}var $y=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return F2;case"linkViaPopup":case"linkViaRedirect":return V2;case"reauthViaPopup":case"reauthViaRedirect":return L2;default:mn(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var sK=new Ai(2e3,1e4);var U2="pendingRedirect",kd=new Map,Hy=class n extends $y{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=kd.get(this.auth._key());if(!e){try{let r=(yield j2(this.resolver,this.auth))?yield or(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}kd.set(this.auth._key(),e)}return this.bypassAuthState||kd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return or(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,or(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function j2(n,e){return w(this,null,function*(){let t=H2(e),r=$2(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function B2(n,e){kd.set(n._key(),e)}function $2(n){return Qn(n._redirectPersistence)}function H2(n){return Od(U2,n.config.apiKey,n.name)}function z2(n,e,t=!1){return w(this,null,function*(){if(pn(n.app))return Promise.reject(Br(n));let r=no(n),i=k2(r,e),o=yield new Hy(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var q2=10*60*1e3,zy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!G2(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!GA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ci(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q2&&this.cachedEventUids.clear(),this.cachedEventUids.has(dA(e))}saveEventToCache(e){this.cachedEventUids.add(dA(e)),this.lastProcessedEventTime=Date.now()}};function dA(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function GA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function G2(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GA(n);default:return!1}}function W2(t){return w(this,arguments,function*(n,e={}){return Hr(n,"GET","/v1/projects",e)})}var K2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Q2=/^https?/;function Y2(n){return w(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield W2(n);for(let t of e)try{if(J2(t))return}catch{}mn(n,"unauthorized-domain")})}function J2(n){let e=Ry(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!Q2.test(t))return!1;if(K2.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var Z2=new Ai(3e4,6e4);function hA(){let n=gn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function X2(n){return new Promise((e,t)=>{var r,i,s;function o(){hA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hA(),t(Ci(n,"network-request-failed"))},timeout:Z2.get()})}if(!((i=(r=gn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=gn().gapi)===null||s===void 0)&&s.load)o();else{let a=kA("iframefcb");return gn()[a]=()=>{gapi.load?o():t(Ci(n,"network-request-failed"))},OA(`${i2()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Fd=null,e})}var Fd=null;function eB(n){return Fd=Fd||X2(n),Fd}var tB=new Ai(5e3,15e3),nB="__/auth/iframe",rB="emulator/auth/iframe",iB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oB(n){let e=n.config;Q(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Ky(e,rB):`https://${n.config.authDomain}/${nB}`,r={apiKey:e.apiKey,appName:n.name,v:Ur},i=sB.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${Ya(r).slice(1)}`}function aB(n){return w(this,null,function*(){let e=yield eB(n),t=gn().gapi;return Q(t,n,"internal-error"),e.open({where:document.body,url:oB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iB,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Ci(n,"network-request-failed"),a=gn().setTimeout(()=>{s(o)},tB.get());function u(){gn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var cB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},uB=500,lB=600,dB="_blank",hB="http://localhost",Wd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function fB(n,e,t,r=uB,i=lB){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},cB),{width:r.toString(),height:i.toString(),top:s,left:o}),l=Ge().toLowerCase();t&&(a=AA(l)?dB:t),bA(l)&&(e=e||hB,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,A])=>`${m}${y}=${A},`,"");if(Zj(l)&&a!=="_self")return pB(e||"",a),new Wd(null);let p=window.open(e||"",a,h);Q(p,n,"popup-blocked");try{p.focus()}catch{}return new Wd(p)}function pB(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var gB="__/auth/handler",mB="emulator/auth/handler",yB=encodeURIComponent("fac");function fA(n,e,t,r,i,s){return w(this,null,function*(){Q(n.config.authDomain,n,"auth-domain-config-required"),Q(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ur,eventId:i};if(e instanceof Hd){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",V0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof Vy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${yB}=${encodeURIComponent(u)}`:"";return`${vB(n)}?${Ya(a).slice(1)}${l}`})}function vB({config:n}){return n.emulator?Ky(n,mB):`https://${n.authDomain}/${gB}`}var Sy="webStorageSupport",qy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ov,this._completeRedirectFn=z2,this._overrideRedirectResult=B2}_openPopup(e,t,r,i){return w(this,null,function*(){var s;$r((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield fA(e,t,r,Ry(),i);return fB(e,o,BA())})}_openRedirect(e,t,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield fA(e,t,r,Ry(),i);return b2(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):($r(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return w(this,null,function*(){let t=yield aB(e),r=new zy(e);return t.register("authEvent",i=>(Q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Sy,{type:Sy},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Sy];o!==void 0&&t(!!o),mn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Y2(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return xA()||CA()||Zy()}},WA=qy;var pA="@firebase/auth",gA="1.7.9";var Gy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function _B(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function IB(n){Vr(new Bt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PA(n)},l=new Fy(r,i,s,u);return a2(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Vr(new Bt("auth-internal",e=>{let t=no(e.getProvider("auth").getImmediate());return(r=>new Gy(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(pA,gA,_B(n)),$e(pA,gA,"esm2017")}var wB=5*60,EB=ay("authIdTokenMaxAge")||wB,mA=null,DB=n=>e=>w(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>EB)return;let i=t?.token;mA!==i&&(mA=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function av(n=Js()){let e=Xa(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Xy(n,{popupRedirectResolver:WA,persistence:[qA,jA,ov]}),r=ay("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=DB(s.toString());iv(t,o,()=>o(t.currentUser)),rv(t,a=>o(a))}}let i=sy("auth");return i&&ev(t,`http://${i}`),t}function TB(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}n2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Ci("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",TB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});IB("Browser");var KA="auth",uc=class{constructor(e){return e}},lc=class{constructor(){return ec(KA)}};var cv=new V("angularfire2.auth-instances");function g$(n,e){let t=Nd(KA,n,e);return t&&new uc(t)}function m$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new uc(r)}}var y$={provide:lc,deps:[[new Ye,cv]]},v$={provide:uc,useFactory:g$,deps:[[new Ye,cv],Wn]};function $K(n,...e){return $e("angularfire",Ti.full,"auth"),kt([v$,y$,{provide:cv,useFactory:m$(n),multi:!0,deps:[ye,ze,eo,bi,[new Ye,Xs],...e]}])}var HK=At(av,!0);var zK=At(nv,!0);var qK=At(sv,!0);var QA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},YA={};var zr,uv;(function(){var n;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(D,T,C){for(var I=Array(arguments.length-2),Dn=2;Dn<arguments.length;Dn++)I[Dn-2]=arguments[Dn];return v.prototype[T].apply(D,I)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var D=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)D[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;16>T;++T)D[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],T=E.g[2];var C=E.g[3],I=v+(C^_&(T^C))+D[0]+3614090360&4294967295;v=_+(I<<7&4294967295|I>>>25),I=C+(T^v&(_^T))+D[1]+3905402710&4294967295,C=v+(I<<12&4294967295|I>>>20),I=T+(_^C&(v^_))+D[2]+606105819&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(v^T&(C^v))+D[3]+3250441966&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(C^_&(T^C))+D[4]+4118548399&4294967295,v=_+(I<<7&4294967295|I>>>25),I=C+(T^v&(_^T))+D[5]+1200080426&4294967295,C=v+(I<<12&4294967295|I>>>20),I=T+(_^C&(v^_))+D[6]+2821735955&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(v^T&(C^v))+D[7]+4249261313&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(C^_&(T^C))+D[8]+1770035416&4294967295,v=_+(I<<7&4294967295|I>>>25),I=C+(T^v&(_^T))+D[9]+2336552879&4294967295,C=v+(I<<12&4294967295|I>>>20),I=T+(_^C&(v^_))+D[10]+4294925233&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(v^T&(C^v))+D[11]+2304563134&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(C^_&(T^C))+D[12]+1804603682&4294967295,v=_+(I<<7&4294967295|I>>>25),I=C+(T^v&(_^T))+D[13]+4254626195&4294967295,C=v+(I<<12&4294967295|I>>>20),I=T+(_^C&(v^_))+D[14]+2792965006&4294967295,T=C+(I<<17&4294967295|I>>>15),I=_+(v^T&(C^v))+D[15]+1236535329&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(T^C&(_^T))+D[1]+4129170786&4294967295,v=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(v^_))+D[6]+3225465664&4294967295,C=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(C^v))+D[11]+643717713&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^v&(T^C))+D[0]+3921069994&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^C&(_^T))+D[5]+3593408605&4294967295,v=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(v^_))+D[10]+38016083&4294967295,C=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(C^v))+D[15]+3634488961&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^v&(T^C))+D[4]+3889429448&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^C&(_^T))+D[9]+568446438&4294967295,v=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(v^_))+D[14]+3275163606&4294967295,C=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(C^v))+D[3]+4107603335&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^v&(T^C))+D[8]+1163531501&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^C&(_^T))+D[13]+2850285829&4294967295,v=_+(I<<5&4294967295|I>>>27),I=C+(_^T&(v^_))+D[2]+4243563512&4294967295,C=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(C^v))+D[7]+1735328473&4294967295,T=C+(I<<14&4294967295|I>>>18),I=_+(C^v&(T^C))+D[12]+2368359562&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(_^T^C)+D[5]+4294588738&4294967295,v=_+(I<<4&4294967295|I>>>28),I=C+(v^_^T)+D[8]+2272392833&4294967295,C=v+(I<<11&4294967295|I>>>21),I=T+(C^v^_)+D[11]+1839030562&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^v)+D[14]+4259657740&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^C)+D[1]+2763975236&4294967295,v=_+(I<<4&4294967295|I>>>28),I=C+(v^_^T)+D[4]+1272893353&4294967295,C=v+(I<<11&4294967295|I>>>21),I=T+(C^v^_)+D[7]+4139469664&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^v)+D[10]+3200236656&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^C)+D[13]+681279174&4294967295,v=_+(I<<4&4294967295|I>>>28),I=C+(v^_^T)+D[0]+3936430074&4294967295,C=v+(I<<11&4294967295|I>>>21),I=T+(C^v^_)+D[3]+3572445317&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^v)+D[6]+76029189&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^C)+D[9]+3654602809&4294967295,v=_+(I<<4&4294967295|I>>>28),I=C+(v^_^T)+D[12]+3873151461&4294967295,C=v+(I<<11&4294967295|I>>>21),I=T+(C^v^_)+D[15]+530742520&4294967295,T=C+(I<<16&4294967295|I>>>16),I=_+(T^C^v)+D[2]+3299628645&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(T^(_|~C))+D[0]+4096336452&4294967295,v=_+(I<<6&4294967295|I>>>26),I=C+(_^(v|~T))+D[7]+1126891415&4294967295,C=v+(I<<10&4294967295|I>>>22),I=T+(v^(C|~_))+D[14]+2878612391&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~v))+D[5]+4237533241&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~C))+D[12]+1700485571&4294967295,v=_+(I<<6&4294967295|I>>>26),I=C+(_^(v|~T))+D[3]+2399980690&4294967295,C=v+(I<<10&4294967295|I>>>22),I=T+(v^(C|~_))+D[10]+4293915773&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~v))+D[1]+2240044497&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~C))+D[8]+1873313359&4294967295,v=_+(I<<6&4294967295|I>>>26),I=C+(_^(v|~T))+D[15]+4264355552&4294967295,C=v+(I<<10&4294967295|I>>>22),I=T+(v^(C|~_))+D[6]+2734768916&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~v))+D[13]+1309151649&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~C))+D[4]+4149444226&4294967295,v=_+(I<<6&4294967295|I>>>26),I=C+(_^(v|~T))+D[11]+3174756917&4294967295,C=v+(I<<10&4294967295|I>>>22),I=T+(v^(C|~_))+D[2]+718787259&4294967295,T=C+(I<<15&4294967295|I>>>17),I=_+(C^(T|~v))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,D=this.B,T=this.h,C=0;C<v;){if(T==0)for(;C<=_;)i(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<v;)if(D[T++]=E.charCodeAt(C++),T==this.blockSize){i(this,D),T=0;break}}else for(;C<v;)if(D[T++]=E[C++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var D=0;32>D;D+=8)E[_++]=this.g[v]>>>D&255;return E};function s(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function o(E,v){this.h=v;for(var _=[],D=!0,T=E.length-1;0<=T;T--){var C=E[T]|0;D&&C==v||(_[T]=C,D=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return R(l(-E));for(var v=[],_=1,D=0;E>=_;D++)v[D]=E/_|0,_*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return R(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),D=p,T=0;T<E.length;T+=8){var C=Math.min(8,E.length-T),I=parseInt(E.substring(T,T+C),v);8>C?(C=l(Math.pow(v,C)),D=D.j(C).add(l(I))):(D=D.j(_),D=D.add(l(I)))}return D}var p=u(0),m=u(1),y=u(16777216);n=o.prototype,n.m=function(){if(N(this))return-R(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var D=this.i(_);E+=(0<=D?D:4294967296+D)*v,v*=4294967296}return E},n.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(N(this))return"-"+R(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,D="";;){var T=ee(_,v).g;_=F(_,T.j(v));var C=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=T,A(_))return C+D;for(;6>C.length;)C="0"+C;D=C+D}},n.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function N(E){return E.h==-1}n.l=function(E){return E=F(this,E),N(E)?-1:A(E)?0:1};function R(E){for(var v=E.g.length,_=[],D=0;D<v;D++)_[D]=~E.g[D];return new o(_,~E.h).add(m)}n.abs=function(){return N(this)?R(this):this},n.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0,T=0;T<=v;T++){var C=D+(this.i(T)&65535)+(E.i(T)&65535),I=(C>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);D=I>>>16,C&=65535,I&=65535,_[T]=I<<16|C}return new o(_,_[_.length-1]&-2147483648?-1:0)};function F(E,v){return E.add(R(v))}n.j=function(E){if(A(this)||A(E))return p;if(N(this))return N(E)?R(this).j(R(E)):R(R(this).j(E));if(N(E))return R(this.j(R(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],D=0;D<2*v;D++)_[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<E.g.length;T++){var C=this.i(D)>>>16,I=this.i(D)&65535,Dn=E.i(T)>>>16,So=E.i(T)&65535;_[2*D+2*T]+=I*So,H(_,2*D+2*T),_[2*D+2*T+1]+=C*So,H(_,2*D+2*T+1),_[2*D+2*T+1]+=I*Dn,H(_,2*D+2*T+1),_[2*D+2*T+2]+=C*Dn,H(_,2*D+2*T+2)}for(D=0;D<v;D++)_[D]=_[2*D+1]<<16|_[2*D];for(D=v;D<2*v;D++)_[D]=0;return new o(_,0)};function H(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function L(E,v){this.g=E,this.h=v}function ee(E,v){if(A(v))throw Error("division by zero");if(A(E))return new L(p,p);if(N(E))return v=ee(R(E),v),new L(R(v.g),R(v.h));if(N(v))return v=ee(E,R(v)),new L(R(v.g),v.h);if(30<E.g.length){if(N(E)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,D=v;0>=D.l(E);)_=_e(_),D=_e(D);var T=K(_,1),C=K(D,1);for(D=K(D,2),_=K(_,2);!A(D);){var I=C.add(D);0>=I.l(E)&&(T=T.add(_),C=I),D=K(D,1),_=K(_,1)}return v=F(E,T.j(v)),new L(T,v)}for(T=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),D=Math.ceil(Math.log(_)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),C=l(_),I=C.j(v);N(I)||0<I.l(E);)_-=D,C=l(_),I=C.j(v);A(C)&&(C=m),T=T.add(C),E=F(E,I)}return new L(T,E)}n.A=function(E){return ee(this,E).h},n.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)&E.i(D);return new o(_,this.h&E.h)},n.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)|E.i(D);return new o(_,this.h|E.h)},n.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)^E.i(D);return new o(_,this.h^E.h)};function _e(E){for(var v=E.g.length+1,_=[],D=0;D<v;D++)_[D]=E.i(D)<<1|E.i(D-1)>>>31;return new o(_,E.h)}function K(E,v){var _=v>>5;v%=32;for(var D=E.g.length-_,T=[],C=0;C<D;C++)T[C]=0<v?E.i(C+_)>>>v|E.i(C+_+1)<<32-v:E.i(C+_);return new o(T,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,uv=YA.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,zr=YA.Integer=o}).apply(typeof QA<"u"?QA:typeof self<"u"?self:typeof window<"u"?window:{});var Jd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yn={};var lv,_$,ro,dv,dc,Zd,hv,fv,pv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jd=="object"&&Jd];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var S=f++;return{value:d(S,c[S]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function A(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,S){for(var O=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)O[Ee-2]=arguments[Ee];return d.prototype[b].apply(g,O)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,S=g.length||0;c.length=b+S;for(let O=0;O<S;O++)c[b+O]=g[O]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function H(c){return/^[\s\xa0]*$/.test(c)}function L(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ee(c){return ee[" "](c),c}ee[" "]=function(){};var _e=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function K(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let S=0;S<_.length;S++)f=_[S],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function C(c){a.setTimeout(()=>{throw c},0)}function I(){var c=$h;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Dn{constructor(){this.h=this.g=null}add(d,f){let g=So.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var So=new F(()=>new WR,c=>c.reset());class WR{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Ro,No=!1,$h=new Dn,_I=()=>{let c=a.Promise.resolve(void 0);Ro=()=>{c.then(KR)}};var KR=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){C(f)}var d=So;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}No=!1};function nr(){this.s=this.s,this.C=this.C}nr.prototype.s=!1,nr.prototype.ma=function(){this.s||(this.s=!0,this.N())},nr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function et(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}et.prototype.h=function(){this.defaultPrevented=!0};var QR=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function Mo(c,d){if(et.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(_e){e:{try{ee(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:YR[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Mo.aa.h.call(this)}}A(Mo,et);var YR={2:"touch",3:"pen",4:"mouse"};Mo.prototype.h=function(){Mo.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xo="closure_listenable_"+(1e6*Math.random()|0),JR=0;function ZR(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++JR,this.da=this.fa=!1}function Fc(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Lc(c){this.src=c,this.g={},this.h=0}Lc.prototype.add=function(c,d,f,g,b){var S=c.toString();c=this.g[S],c||(c=this.g[S]=[],this.h++);var O=zh(c,d,g,b);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new ZR(d,this.src,S,!!g,b),d.fa=f,c.push(d)),d};function Hh(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),S;(S=0<=b)&&Array.prototype.splice.call(g,b,1),S&&(Fc(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function zh(c,d,f,g){for(var b=0;b<c.length;++b){var S=c[b];if(!S.da&&S.listener==d&&S.capture==!!f&&S.ha==g)return b}return-1}var qh="closure_lm_"+(1e6*Math.random()|0),Gh={};function II(c,d,f,g,b){if(g&&g.once)return EI(c,d,f,g,b);if(Array.isArray(d)){for(var S=0;S<d.length;S++)II(c,d[S],f,g,b);return null}return f=Yh(f),c&&c[xo]?c.K(d,f,l(g)?!!g.capture:!!g,b):wI(c,d,f,!1,g,b)}function wI(c,d,f,g,b,S){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,Ee=Kh(c);if(Ee||(c[qh]=Ee=new Lc(c)),f=Ee.add(d,f,g,O,S),f.proxy)return f;if(g=XR(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)QR||(b=O),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(TI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function XR(){function c(f){return d.call(c.src,c.listener,f)}let d=eN;return c}function EI(c,d,f,g,b){if(Array.isArray(d)){for(var S=0;S<d.length;S++)EI(c,d[S],f,g,b);return null}return f=Yh(f),c&&c[xo]?c.L(d,f,l(g)?!!g.capture:!!g,b):wI(c,d,f,!0,g,b)}function DI(c,d,f,g,b){if(Array.isArray(d))for(var S=0;S<d.length;S++)DI(c,d[S],f,g,b);else g=l(g)?!!g.capture:!!g,f=Yh(f),c&&c[xo]?(c=c.i,d=String(d).toString(),d in c.g&&(S=c.g[d],f=zh(S,f,g,b),-1<f&&(Fc(S[f]),Array.prototype.splice.call(S,f,1),S.length==0&&(delete c.g[d],c.h--)))):c&&(c=Kh(c))&&(d=c.g[d.toString()],c=-1,d&&(c=zh(d,f,g,b)),(f=-1<c?d[c]:null)&&Wh(f))}function Wh(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[xo])Hh(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(TI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=Kh(d))?(Hh(f,c),f.h==0&&(f.src=null,d[qh]=null)):Fc(c)}}}function TI(c){return c in Gh?Gh[c]:Gh[c]="on"+c}function eN(c,d){if(c.da)c=!0;else{d=new Mo(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&Wh(c),c=f.call(g,d)}return c}function Kh(c){return c=c[qh],c instanceof Lc?c:null}var Qh="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yh(c){return typeof c=="function"?c:(c[Qh]||(c[Qh]=function(d){return c.handleEvent(d)}),c[Qh])}function tt(){nr.call(this),this.i=new Lc(this),this.M=this,this.F=null}A(tt,nr),tt.prototype[xo]=!0,tt.prototype.removeEventListener=function(c,d,f,g){DI(this,c,d,f,g)};function ut(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new et(d,c);else if(d instanceof et)d.target=d.target||c;else{var b=d;d=new et(g,c),D(d,b)}if(b=!0,f)for(var S=f.length-1;0<=S;S--){var O=d.g=f[S];b=Vc(O,g,!0,d)&&b}if(O=d.g=c,b=Vc(O,g,!0,d)&&b,b=Vc(O,g,!1,d)&&b,f)for(S=0;S<f.length;S++)O=d.g=f[S],b=Vc(O,g,!1,d)&&b}tt.prototype.N=function(){if(tt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Fc(f[g]);delete c.g[d],c.h--}}this.F=null},tt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},tt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Vc(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,S=0;S<d.length;++S){var O=d[S];if(O&&!O.da&&O.capture==f){var Ee=O.listener,Ke=O.ha||O.src;O.fa&&Hh(c.i,O),b=Ee.call(Ke,g)!==!1&&b}}return b&&!g.defaultPrevented}function bI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function CI(c){c.g=bI(()=>{c.g=null,c.i&&(c.i=!1,CI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class tN extends nr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:CI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Po(c){nr.call(this),this.h=c,this.g={}}A(Po,nr);var AI=[];function SI(c){K(c.g,function(d,f){this.g.hasOwnProperty(f)&&Wh(d)},c),c.g={}}Po.prototype.N=function(){Po.aa.N.call(this),SI(this)},Po.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jh=a.JSON.stringify,nN=a.JSON.parse,rN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Zh(){}Zh.prototype.h=null;function RI(c){return c.h||(c.h=c.i())}function NI(){}var Oo={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xh(){et.call(this,"d")}A(Xh,et);function ef(){et.call(this,"c")}A(ef,et);var Qr={},MI=null;function Uc(){return MI=MI||new tt}Qr.La="serverreachability";function xI(c){et.call(this,Qr.La,c)}A(xI,et);function ko(c){let d=Uc();ut(d,new xI(d))}Qr.STAT_EVENT="statevent";function PI(c,d){et.call(this,Qr.STAT_EVENT,c),this.stat=d}A(PI,et);function lt(c){let d=Uc();ut(d,new PI(d,c))}Qr.Ma="timingevent";function OI(c,d){et.call(this,Qr.Ma,c),this.size=d}A(OI,et);function Fo(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Lo(){this.g=!0}Lo.prototype.xa=function(){this.g=!1};function iN(c,d,f,g,b,S){c.info(function(){if(c.g)if(S)for(var O="",Ee=S.split("&"),Ke=0;Ke<Ee.length;Ke++){var me=Ee[Ke].split("=");if(1<me.length){var nt=me[0];me=me[1];var rt=nt.split("_");O=2<=rt.length&&rt[1]=="type"?O+(nt+"="+me+"&"):O+(nt+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+O})}function sN(c,d,f,g,b,S,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+S+" "+O})}function $i(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+aN(c,f)+(g?" "+g:"")})}function oN(c,d){c.info(function(){return"TIMEOUT: "+d})}Lo.prototype.info=function(){};function aN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var S=b[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return Jh(f)}catch{return d}}var jc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},kI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tf;function Bc(){}A(Bc,Zh),Bc.prototype.g=function(){return new XMLHttpRequest},Bc.prototype.i=function(){return{}},tf=new Bc;function rr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Po(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new FI}function FI(){this.i=null,this.g="",this.h=!1}var LI={},nf={};function rf(c,d,f){c.L=1,c.v=qc(Tn(d)),c.m=f,c.P=!0,VI(c,null)}function VI(c,d){c.F=Date.now(),$c(c),c.A=Tn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),ZI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new FI,c.g=mw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new tN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(AI[0]=b.toString()),b=AI);for(var S=0;S<b.length;S++){var O=II(f,b[S],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ko(),iN(c.i,c.u,c.A,c.l,c.R,c.m)}rr.prototype.ca=function(c){c=c.target;let d=this.M;d&&bn(c)==3?d.j():this.Y(c)},rr.prototype.Y=function(c){try{if(c==this.g)e:{let rt=bn(this.g);var d=this.g.Ba();let qi=this.g.Z();if(!(3>rt)&&(rt!=3||this.g&&(this.h.h||this.g.oa()||sw(this.g)))){this.J||rt!=4||d==7||(d==8||0>=qi?ko(3):ko(2)),sf(this);var f=this.g.Z();this.X=f;t:if(UI(this)){var g=sw(this.g);c="";var b=g.length,S=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),Vo(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(S&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,sN(this.i,this.u,this.A,this.l,this.R,rt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,Ke=this.g;if((Ee=Ke.g?Ke.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H(Ee)){var me=Ee;break t}}me=null}if(f=me)$i(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,of(this,f);else{this.o=!1,this.s=3,lt(12),Yr(this),Vo(this);break e}}if(this.P){f=!0;let $t;for(;!this.J&&this.C<O.length;)if($t=cN(this,O),$t==nf){rt==4&&(this.s=4,lt(14),f=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if($t==LI){this.s=4,lt(15),$i(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else $i(this.i,this.l,$t,null),of(this,$t);if(UI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),rt!=4||O.length!=0||this.h.h||(this.s=1,lt(16),f=!1),this.o=this.o&&f,!f)$i(this.i,this.l,O,"[Invalid Chunked Response]"),Yr(this),Vo(this);else if(0<O.length&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.ba&&!nt.M&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),hf(nt),nt.M=!0,lt(11))}}else $i(this.i,this.l,O,null),of(this,O);rt==4&&Yr(this),this.o&&!this.J&&(rt==4?hw(this.j,this):(this.o=!1,$c(this)))}else bN(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Yr(this),Vo(this)}}}catch{}finally{}};function UI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function cN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?nf:(f=Number(d.substring(f,g)),isNaN(f)?LI:(g+=1,g+f>d.length?nf:(d=d.slice(g,g+f),c.C=g+f,d)))}rr.prototype.cancel=function(){this.J=!0,Yr(this)};function $c(c){c.S=Date.now()+c.I,jI(c,c.I)}function jI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Fo(m(c.ba,c),d)}function sf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}rr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(oN(this.i,this.A),this.L!=2&&(ko(),lt(17)),Yr(this),this.s=2,Vo(this)):jI(this,this.S-c)};function Vo(c){c.j.G==0||c.J||hw(c.j,c)}function Yr(c){sf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,SI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function of(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||af(f.h,c))){if(!c.K&&af(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Yc(f),Kc(f);else break e;df(f),lt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Fo(m(f.Za,f),6e3));if(1>=HI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Zr(f,11)}else if((c.K||f.g==c)&&Yc(f),!H(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let me=b[d];if(f.T=me[0],me=me[1],f.G==2)if(me[0]=="c"){f.K=me[1],f.ia=me[2];let nt=me[3];nt!=null&&(f.la=nt,f.j.info("VER="+f.la));let rt=me[4];rt!=null&&(f.Aa=rt,f.j.info("SVER="+f.Aa));let qi=me[5];qi!=null&&typeof qi=="number"&&0<qi&&(g=1.5*qi,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let $t=c.g;if($t){let Zc=$t.g?$t.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zc){var S=g.h;S.g||Zc.indexOf("spdy")==-1&&Zc.indexOf("quic")==-1&&Zc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(cf(S,S.h),S.h=null))}if(g.D){let ff=$t.g?$t.g.getResponseHeader("X-HTTP-Session-Id"):null;ff&&(g.ya=ff,be(g.I,g.D,ff))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=gw(g,g.J?g.ia:null,g.W),O.K){zI(g.h,O);var Ee=O,Ke=g.L;Ke&&(Ee.I=Ke),Ee.B&&(sf(Ee),$c(Ee)),g.g=O}else lw(g);0<f.i.length&&Qc(f)}else me[0]!="stop"&&me[0]!="close"||Zr(f,7);else f.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Zr(f,7):lf(f):me[0]!="noop"&&f.l&&f.l.ta(me),f.v=0)}}ko(4)}catch{}}var uN=class{constructor(c,d){this.g=c,this.map=d}};function BI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $I(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function HI(c){return c.h?1:c.g?c.g.size:0}function af(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function cf(c,d){c.g?c.g.add(d):c.h=d}function zI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}BI.prototype.cancel=function(){if(this.i=qI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function qI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function lN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function dN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function GI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=dN(c),g=lN(c),b=g.length,S=0;S<b;S++)d.call(void 0,g[S],f&&f[S],c)}var WI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var S=c[f].substring(0,g);b=c[f].substring(g+1)}else S=c[f];d(S,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function Jr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Jr){this.h=c.h,Hc(this,c.j),this.o=c.o,this.g=c.g,zc(this,c.s),this.l=c.l;var d=c.i,f=new Bo;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),KI(this,f),this.m=c.m}else c&&(d=String(c).match(WI))?(this.h=!1,Hc(this,d[1]||"",!0),this.o=Uo(d[2]||""),this.g=Uo(d[3]||"",!0),zc(this,d[4]),this.l=Uo(d[5]||"",!0),KI(this,d[6]||"",!0),this.m=Uo(d[7]||"")):(this.h=!1,this.i=new Bo(null,this.h))}Jr.prototype.toString=function(){var c=[],d=this.j;d&&c.push(jo(d,QI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(jo(d,QI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(jo(f,f.charAt(0)=="/"?gN:pN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",jo(f,yN)),c.join("")};function Tn(c){return new Jr(c)}function Hc(c,d,f){c.j=f?Uo(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function zc(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function KI(c,d,f){d instanceof Bo?(c.i=d,vN(c.i,c.h)):(f||(d=jo(d,mN)),c.i=new Bo(d,c.h))}function be(c,d,f){c.i.set(d,f)}function qc(c){return be(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Uo(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function jo(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,fN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var QI=/[#\/\?@]/g,pN=/[#\?:]/g,gN=/[#\?]/g,mN=/[#\?@]/g,yN=/#/g;function Bo(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function ir(c){c.g||(c.g=new Map,c.h=0,c.i&&hN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Bo.prototype,n.add=function(c,d){ir(this),this.i=null,c=Hi(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function YI(c,d){ir(c),d=Hi(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function JI(c,d){return ir(c),d=Hi(c,d),c.g.has(d)}n.forEach=function(c,d){ir(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},n.na=function(){ir(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let S=0;S<b.length;S++)f.push(d[g])}return f},n.V=function(c){ir(this);let d=[];if(typeof c=="string")JI(this,c)&&(d=d.concat(this.g.get(Hi(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return ir(this),this.i=null,c=Hi(this,c),JI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function ZI(c,d,f){YI(c,d),0<f.length&&(c.i=null,c.g.set(Hi(c,d),N(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let S=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var b=S;O[g]!==""&&(b+="="+encodeURIComponent(String(O[g]))),c.push(b)}}return this.i=c.join("&")};function Hi(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function vN(c,d){d&&!c.j&&(ir(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(YI(this,g),ZI(this,b,f))},c)),c.j=d}function _N(c,d){let f=new Lo;if(a.Image){let g=new Image;g.onload=y(sr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(sr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(sr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(sr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function IN(c,d){let f=new Lo,g=new AbortController,b=setTimeout(()=>{g.abort(),sr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(S=>{clearTimeout(b),S.ok?sr(f,"TestPingServer: ok",!0,d):sr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),sr(f,"TestPingServer: error",!1,d)})}function sr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function wN(){this.g=new rN}function EN(c,d,f){let g=f||"";try{GI(c,function(b,S){let O=b;l(b)&&(O=Jh(b)),d.push(g+S+"="+encodeURIComponent(O))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function $o(c){this.l=c.Ub||null,this.j=c.eb||!1}A($o,Zh),$o.prototype.g=function(){return new Gc(this.l,this.j)},$o.prototype.i=function(c){return function(){return c}}({});function Gc(c,d){tt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Gc,tt),n=Gc.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,zo(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ho(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,zo(this)),this.g&&(this.readyState=3,zo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;XI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function XI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Ho(this):zo(this),this.readyState==3&&XI(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Ho(this))},n.Qa=function(c){this.g&&(this.response=c,Ho(this))},n.ga=function(){this.g&&Ho(this)};function Ho(c){c.readyState=4,c.l=null,c.j=null,c.v=null,zo(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function zo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Gc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ew(c){let d="";return K(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function uf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=ew(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):be(c,d,f))}function Ne(c){tt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Ne,tt);var DN=/^https?$/i,TN=["POST","PUT"];n=Ne.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tf.g(),this.v=this.o?RI(this.o):RI(tf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(S){tw(this,S);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let S of g.keys())f.set(S,g.get(S));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(S=>S.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(TN,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of f)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{iw(this),this.u=!0,this.g.send(c),this.u=!1}catch(S){tw(this,S)}};function tw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,nw(c),Wc(c)}function nw(c){c.A||(c.A=!0,ut(c,"complete"),ut(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ut(this,"complete"),ut(this,"abort"),Wc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wc(this,!0)),Ne.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?rw(this):this.bb())},n.bb=function(){rw(this)};function rw(c){if(c.h&&typeof o<"u"&&(!c.v[1]||bn(c)!=4||c.Z()!=2)){if(c.u&&bn(c)==4)bI(c.Ea,0,c);else if(ut(c,"readystatechange"),bn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var b=String(c.D).match(WI)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!DN.test(b?b.toLowerCase():"")}f=g}if(f)ut(c,"complete"),ut(c,"success");else{c.m=6;try{var S=2<bn(c)?c.g.statusText:""}catch{S=""}c.l=S+" ["+c.Z()+"]",nw(c)}}finally{Wc(c)}}}}function Wc(c,d){if(c.g){iw(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||ut(c,"ready");try{f.onreadystatechange=g}catch{}}}function iw(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function bn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),nN(d)}};function sw(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function bN(c){let d={};c=(c.g&&2<=bn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(H(c[g]))continue;var f=T(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let S=d[b]||[];d[b]=S,S.push(f)}E(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qo(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function ow(c){this.Aa=0,this.i=[],this.j=new Lo,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qo("baseRetryDelayMs",5e3,c),this.cb=qo("retryDelaySeedMs",1e4,c),this.Wa=qo("forwardChannelMaxRetries",2,c),this.wa=qo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new BI(c&&c.concurrentRequestLimit),this.Da=new wN,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ow.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){lt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=gw(this,null,this.W),Qc(this)};function lf(c){if(aw(c),c.G==3){var d=c.U++,f=Tn(c.I);if(be(f,"SID",c.K),be(f,"RID",d),be(f,"TYPE","terminate"),Go(c,f),d=new rr(c,c.j,d),d.L=2,d.v=qc(Tn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=mw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),$c(d)}pw(c)}function Kc(c){c.g&&(hf(c),c.g.cancel(),c.g=null)}function aw(c){Kc(c),c.u&&(a.clearTimeout(c.u),c.u=null),Yc(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Qc(c){if(!$I(c.h)&&!c.s){c.s=!0;var d=c.Ga;Ro||_I(),No||(Ro(),No=!0),$h.add(d,c),c.B=0}}function CN(c,d){return HI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Fo(m(c.Ga,c,d),fw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new rr(this,this.j,c),S=this.o;if(this.S&&(S?(S=v(S),D(S,this.S)):S=this.S),this.m!==null||this.O||(b.H=S,S=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=uw(this,b,d),f=Tn(this.I),be(f,"RID",c),be(f,"CVER",22),this.D&&be(f,"X-HTTP-Session-Id",this.D),Go(this,f),S&&(this.O?d="headers="+encodeURIComponent(String(ew(S)))+"&"+d:this.m&&uf(f,this.m,S)),cf(this.h,b),this.Ua&&be(f,"TYPE","init"),this.P?(be(f,"$req",d),be(f,"SID","null"),b.T=!0,rf(b,f,null)):rf(b,f,d),this.G=2}}else this.G==3&&(c?cw(this,c):this.i.length==0||$I(this.h)||cw(this))};function cw(c,d){var f;d?f=d.l:f=c.U++;let g=Tn(c.I);be(g,"SID",c.K),be(g,"RID",f),be(g,"AID",c.T),Go(c,g),c.m&&c.o&&uf(g,c.m,c.o),f=new rr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=uw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),cf(c.h,f),rf(f,g,d)}function Go(c,d){c.H&&K(c.H,function(f,g){be(d,g,f)}),c.l&&GI({},function(f,g){be(d,g,f)})}function uw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let S=-1;for(;;){let O=["count="+f];S==-1?0<f?(S=b[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let Ee=!0;for(let Ke=0;Ke<f;Ke++){let me=b[Ke].g,nt=b[Ke].map;if(me-=S,0>me)S=Math.max(0,b[Ke].g-100),Ee=!1;else try{EN(nt,O,"req"+me+"_")}catch{g&&g(nt)}}if(Ee){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function lw(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Ro||_I(),No||(Ro(),No=!0),$h.add(d,c),c.v=0}}function df(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Fo(m(c.Fa,c),fw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,dw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Fo(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),Kc(this),dw(this))};function hf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function dw(c){c.g=new rr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Tn(c.qa);be(d,"RID","rpc"),be(d,"SID",c.K),be(d,"AID",c.T),be(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&be(d,"TO",c.ja),be(d,"TYPE","xmlhttp"),Go(c,d),c.m&&c.o&&uf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=qc(Tn(d)),f.m=null,f.P=!0,VI(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Kc(this),df(this),lt(19))};function Yc(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function hw(c,d){var f=null;if(c.g==d){Yc(c),hf(c),c.g=null;var g=2}else if(af(c.h,d))f=d.D,zI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=Uc(),ut(g,new OI(g,f)),Qc(c)}else lw(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&CN(c,d)||g==2&&df(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:Zr(c,5);break;case 4:Zr(c,10);break;case 3:Zr(c,6);break;default:Zr(c,2)}}}function fw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Zr(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new Jr(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Hc(g,"https"),qc(g),b?_N(g.toString(),f):IN(g.toString(),f)}else lt(2);c.G=0,c.l&&c.l.sa(d),pw(c),aw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function pw(c){if(c.G=0,c.ka=[],c.l){let d=qI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function gw(c,d,f){var g=f instanceof Jr?Tn(f):new Jr(f);if(g.g!="")d&&(g.g=d+"."+g.g),zc(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var S=new Jr(null);g&&Hc(S,g),d&&(S.g=d),b&&zc(S,b),f&&(S.l=f),g=S}return f=c.D,d=c.ya,f&&d&&be(g,f,d),be(g,"VER",c.la),Go(c,g),g}function mw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ne(new $o({eb:f})):new Ne(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yw(){}n=yw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Jc(){}Jc.prototype.g=function(c,d){return new _t(c,d)};function _t(c,d){tt.call(this),this.g=new ow(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!H(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!H(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new zi(this)}A(_t,tt),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){lf(this.g)},_t.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Jh(c),c=f);d.i.push(new uN(d.Ya++,c)),d.G==3&&Qc(d)},_t.prototype.N=function(){this.g.l=null,delete this.j,lf(this.g),delete this.g,_t.aa.N.call(this)};function vw(c){Xh.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}A(vw,Xh);function _w(){ef.call(this),this.status=1}A(_w,ef);function zi(c){this.g=c}A(zi,yw),zi.prototype.ua=function(){ut(this.g,"a")},zi.prototype.ta=function(c){ut(this.g,new vw(c))},zi.prototype.sa=function(c){ut(this.g,new _w)},zi.prototype.ra=function(){ut(this.g,"b")},Jc.prototype.createWebChannel=Jc.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,pv=Yn.createWebChannelTransport=function(){return new Jc},fv=Yn.getStatEventTarget=function(){return Uc()},hv=Yn.Event=Qr,Zd=Yn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jc.NO_ERROR=0,jc.TIMEOUT=8,jc.HTTP_ERROR=6,dc=Yn.ErrorCode=jc,kI.COMPLETE="complete",dv=Yn.EventType=kI,NI.EventType=Oo,Oo.OPEN="a",Oo.CLOSE="b",Oo.ERROR="c",Oo.MESSAGE="d",tt.prototype.listen=tt.prototype.K,ro=Yn.WebChannel=NI,_$=Yn.FetchXmlHttpFactory=$o,Ne.prototype.listenOnce=Ne.prototype.L,Ne.prototype.getLastError=Ne.prototype.Ka,Ne.prototype.getLastErrorCode=Ne.prototype.Ba,Ne.prototype.getStatus=Ne.prototype.Z,Ne.prototype.getResponseJson=Ne.prototype.Oa,Ne.prototype.getResponseText=Ne.prototype.oa,Ne.prototype.send=Ne.prototype.ea,Ne.prototype.setWithCredentials=Ne.prototype.Ha,lv=Yn.XhrIo=Ne}).apply(typeof Jd<"u"?Jd:typeof self<"u"?self:typeof window<"u"?window:{});var JA="@firebase/firestore";var We=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};We.UNAUTHENTICATED=new We(null),We.GOOGLE_CREDENTIALS=new We("google-credentials-uid"),We.FIRST_PARTY=new We("first-party-uid"),We.MOCK_USER=new We("mock-user");var bo="10.14.0";var Oi=new Fr("@firebase/firestore");function hc(){return Oi.logLevel}function j(n,...e){if(Oi.logLevel<=le.DEBUG){let t=e.map(Z_);Oi.debug(`Firestore (${bo}): ${n}`,...t)}}function Zn(n,...e){if(Oi.logLevel<=le.ERROR){let t=e.map(Z_);Oi.error(`Firestore (${bo}): ${n}`,...t)}}function lo(n,...e){if(Oi.logLevel<=le.WARN){let t=e.map(Z_);Oi.warn(`Firestore (${bo}): ${n}`,...t)}}function Z_(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function Y(n="Unexpected state"){let e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+n;throw Zn(e),new Error(e)}function we(n,e){n||Y()}function X(n,e){return n}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends Ct{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Jn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var rh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},_v=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(We.UNAUTHENTICATED))}shutdown(){}},Iv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},wv=class{constructor(e){this.t=e,this.currentUser=We.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){we(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),s=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Jn,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{j("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(j("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Jn)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(j("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string"),new rh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string"),new We(e)}},Ev=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=We.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Dv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Ev(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(We.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Tv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},bv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){we(this.o===void 0);let r=s=>{s.error!=null&&j("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,j("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{j("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):j("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(we(typeof t.token=="string"),this.R=t.token,new Tv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function I$(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var ih=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=I$(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function ve(n,e){return n<e?-1:n>e?1:0}function ho(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var Xe=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new U(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ve(this.nanoseconds,e.nanoseconds):ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ne=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new Xe(0,0))}static max(){return new n(new Xe(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var sh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&Y(),r===void 0?r=e.length-t:r>e.length-t&&Y(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Re=class n extends sh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},w$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,St=class n extends sh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return w$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new U(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var G=class n{constructor(e){this.path=e}static fromPath(e){return new n(Re.fromString(e))}static fromName(e){return new n(Re.fromString(e).popFirst(5))}static empty(){return new n(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Re.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Re.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Re(e.slice()))}};var Cv=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};Cv.UNKNOWN_ID=-1;function E$(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ne.fromTimestamp(r===1e9?new Xe(t+1,0):new Xe(t,r));return new ki(i,G.empty(),e)}function D$(n){return new ki(n.readTime,n.key,-1)}var ki=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ne.min(),G.empty(),-1)}static max(){return new n(ne.max(),G.empty(),-1)}};function T$(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=G.comparator(n.documentKey,e.documentKey),t!==0?t:ve(n.largestBatchId,e.largestBatchId))}var b$="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Av=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Mc(n){return w(this,null,function*(){if(n.code!==M.FAILED_PRECONDITION||n.message!==b$)throw n;j("LocalStore","Unexpectedly lost primary lease")})}var P=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},u=>r(u))}),o=!0,s===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;t(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};function C$(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function xc(n){return n.name==="IndexedDbTransactionError"}var PS=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Oh(n){return n==null}function _c(n){return n===0&&1/n==-1/0}function A$(n){return typeof n=="number"&&Number.isInteger(n)&&!_c(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var S$=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],s7=[...S$,"documentOverlays"],R$=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],N$=R$,M$=[...N$,"indexConfiguration","indexState","indexEntries"];var o7=[...M$,"globals"];function ZA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Co(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function OS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Pe=class n{constructor(e,t){this.comparator=e,this.root=t||_n.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ao(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ao(this.root,e,this.comparator,!1)}getReverseIterator(){return new ao(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ao(this.root,e,this.comparator,!0)}},ao=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},_n=class n{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=s??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new n(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();let e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,t,r,i,s){return this}insert(e,t,r){return new _n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var at=class n{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new oh(this.data.getIterator())}getIteratorFrom(e){return new oh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},oh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vn=class n{constructor(e){this.fields=e,e.sort(St.comparator)}static empty(){return new n([])}unionWith(e){let t=new at(St.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ho(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var ah=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ct=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new ah("Invalid base64 string: "+s):s}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ct.EMPTY_BYTE_STRING=new ct("");var x$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Xn(n){if(we(!!n),typeof n=="string"){let e=0,t=x$.exec(n);if(we(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Se(n.seconds),nanos:Se(n.nanos)}}function Se(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Gr(n){return typeof n=="string"?ct.fromBase64String(n):ct.fromUint8Array(n)}function X_(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function eI(n){let e=n.mapValue.fields.__previous_value__;return X_(e)?eI(e):e}function Ic(n){let e=Xn(n.mapValue.fields.__local_write_time__.timestampValue);return new Xe(e.seconds,e.nanos)}var Sv=class{constructor(e,t,r,i,s,o,a,u,l){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},ch=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Xd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?X_(n)?4:FS(n)?9007199254740991:kS(n)?10:11:Y()}function En(n,e){if(n===e)return!0;let t=Fi(n);if(t!==Fi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ic(n).isEqual(Ic(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Xn(i.timestampValue),a=Xn(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return Gr(i.bytesValue).isEqual(Gr(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return Se(i.geoPointValue.latitude)===Se(s.geoPointValue.latitude)&&Se(i.geoPointValue.longitude)===Se(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Se(i.integerValue)===Se(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Se(i.doubleValue),a=Se(s.doubleValue);return o===a?_c(o)===_c(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return ho(n.arrayValue.values||[],e.arrayValue.values||[],En);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(ZA(o)!==ZA(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!En(o[u],a[u])))return!1;return!0}(n,e);default:return Y()}}function wc(n,e){return(n.values||[]).find(t=>En(t,e))!==void 0}function fo(n,e){if(n===e)return 0;let t=Fi(n),r=Fi(e);if(t!==r)return ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ve(n.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Se(s.integerValue||s.doubleValue),u=Se(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return XA(n.timestampValue,e.timestampValue);case 4:return XA(Ic(n),Ic(e));case 5:return ve(n.stringValue,e.stringValue);case 6:return function(s,o){let a=Gr(s),u=Gr(o);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ve(a[l],u[l]);if(h!==0)return h}return ve(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){let a=ve(Se(s.latitude),Se(o.latitude));return a!==0?a:ve(Se(s.longitude),Se(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return eS(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,A=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=ve(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=A?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:eS(y,A)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===Xd.mapValue&&o===Xd.mapValue)return 0;if(s===Xd.mapValue)return 1;if(o===Xd.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=ve(u[p],h[p]);if(m!==0)return m;let y=fo(a[u[p]],l[h[p]]);if(y!==0)return y}return ve(u.length,h.length)}(n.mapValue,e.mapValue);default:throw Y()}}function XA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ve(n,e);let t=Xn(n),r=Xn(e),i=ve(t.seconds,r.seconds);return i!==0?i:ve(t.nanos,r.nanos)}function eS(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let s=fo(t[i],r[i]);if(s)return s}return ve(t.length,r.length)}function po(n){return Rv(n)}function Rv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Xn(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Gr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return G.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let s of t.values||[])i?i=!1:r+=",",r+=Rv(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${Rv(t.fields[o])}`;return i+"}"}(n.mapValue):Y()}function tS(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Nv(n){return!!n&&"integerValue"in n}function tI(n){return!!n&&"arrayValue"in n}function nS(n){return!!n&&"nullValue"in n}function rS(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function th(n){return!!n&&"mapValue"in n}function kS(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function pc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Co(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=pc(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=pc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function FS(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Jt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!th(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=pc(t)}setAll(e){let t=St.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=pc(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());th(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return En(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];th(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Co(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new n(pc(this.value))}};function LS(n){let e=[];return Co(n.fields,(t,r)=>{let i=new St([t]);if(th(r)){let s=LS(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new vn(e)}var Zt=class n{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ne.min(),ne.min(),ne.min(),Jt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ne.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ne.min(),ne.min(),Jt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ne.min(),ne.min(),Jt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var go=class{constructor(e,t){this.position=e,this.inclusive=t}};function iS(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),t.key):r=fo(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function sS(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!En(n.position[t],e.position[t]))return!1;return!0}var mo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function P$(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var uh=class{},Ue=class n extends uh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new xv(e,t,r):t==="array-contains"?new kv(e,r):t==="in"?new Fv(e,r):t==="not-in"?new Lv(e,r):t==="array-contains-any"?new Vv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Pv(e,r):new Ov(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(fo(t,this.value)):t!==null&&Fi(this.value)===Fi(t)&&this.matchesComparison(fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Xt=class n extends uh{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return VS(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function VS(n){return n.op==="and"}function US(n){return O$(n)&&VS(n)}function O$(n){for(let e of n.filters)if(e instanceof Xt)return!1;return!0}function Mv(n){if(n instanceof Ue)return n.field.canonicalString()+n.op.toString()+po(n.value);if(US(n))return n.filters.map(e=>Mv(e)).join(",");{let e=n.filters.map(t=>Mv(t)).join(",");return`${n.op}(${e})`}}function jS(n,e){return n instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.field.isEqual(i.field)&&En(r.value,i.value)}(n,e):n instanceof Xt?function(r,i){return i instanceof Xt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&jS(o,i.filters[a]),!0):!1}(n,e):void Y()}function BS(n){return n instanceof Ue?function(t){return`${t.field.canonicalString()} ${t.op} ${po(t.value)}`}(n):n instanceof Xt?function(t){return t.op.toString()+" {"+t.getFilters().map(BS).join(" ,")+"}"}(n):"Filter"}var xv=class extends Ue{constructor(e,t,r){super(e,t,r),this.key=G.fromName(r.referenceValue)}matches(e){let t=G.comparator(e.key,this.key);return this.matchesComparison(t)}},Pv=class extends Ue{constructor(e,t){super(e,"in",t),this.keys=$S("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Ov=class extends Ue{constructor(e,t){super(e,"not-in",t),this.keys=$S("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function $S(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>G.fromName(r.referenceValue))}var kv=class extends Ue{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return tI(t)&&wc(t.arrayValue,this.value)}},Fv=class extends Ue{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&wc(this.value.arrayValue,t)}},Lv=class extends Ue{constructor(e,t){super(e,"not-in",t)}matches(e){if(wc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!wc(this.value.arrayValue,t)}},Vv=class extends Ue{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!tI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>wc(this.value.arrayValue,r))}};var Uv=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function oS(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Uv(n,e,t,r,i,s,o)}function nI(n){let e=X(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Mv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Oh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>po(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>po(r)).join(",")),e.ue=t}return e.ue}function rI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!P$(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!jS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!sS(n.startAt,e.startAt)&&sS(n.endAt,e.endAt)}function jv(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Li=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function k$(n,e,t,r,i,s,o,a){return new Li(n,e,t,r,i,s,o,a)}function iI(n){return new Li(n)}function aS(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function HS(n){return n.collectionGroup!==null}function gc(n){let e=X(n);if(e.ce===null){e.ce=[];let t=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new at(St.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new mo(s,r))}),t.has(St.keyField().canonicalString())||e.ce.push(new mo(St.keyField(),r))}return e.ce}function In(n){let e=X(n);return e.le||(e.le=F$(e,gc(n))),e.le}function F$(n,e){if(n.limitType==="F")return oS(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new mo(i.field,s)});let t=n.endAt?new go(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new go(n.startAt.position,n.startAt.inclusive):null;return oS(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Bv(n,e){let t=n.filters.concat([e]);return new Li(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function $v(n,e,t){return new Li(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kh(n,e){return rI(In(n),In(e))&&n.limitType===e.limitType}function zS(n){return`${nI(In(n))}|lt:${n.limitType}`}function io(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>BS(i)).join(", ")}]`),Oh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>po(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>po(i)).join(",")),`Target(${r})`}(In(n))}; limitType=${n.limitType})`}function Fh(n,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(let s of gc(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=iS(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,gc(r),i)||r.endAt&&!function(o,a,u){let l=iS(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,gc(r),i))}(n,e)}function L$(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qS(n){return(e,t)=>{let r=!1;for(let i of gc(n)){let s=V$(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function V$(n,e,t){let r=n.field.isKeyField()?G.comparator(e.key,t.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?fo(u,l):Y()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}var Wr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return OS(this.inner)}size(){return this.innerSize}};var U$=new Pe(G.comparator);function er(){return U$}var GS=new Pe(G.comparator);function fc(...n){let e=GS;for(let t of n)e=e.insert(t.key,t);return e}function WS(n){let e=GS;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ni(){return mc()}function KS(){return mc()}function mc(){return new Wr(n=>n.toString(),(n,e)=>n.isEqual(e))}var j$=new Pe(G.comparator),B$=new at(G.comparator);function de(...n){let e=B$;for(let t of n)e=e.add(t);return e}var $$=new at(ve);function H$(){return $$}function sI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_c(e)?"-0":e}}function QS(n){return{integerValue:""+n}}function z$(n,e){return A$(e)?QS(e):sI(n,e)}var yo=class{constructor(){this._=void 0}};function q$(n,e,t){return n instanceof vo?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&X_(s)&&(s=eI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof Vi?JS(n,e):n instanceof Ui?ZS(n,e):function(i,s){let o=YS(i,s),a=cS(o)+cS(i.Pe);return Nv(o)&&Nv(i.Pe)?QS(a):sI(i.serializer,a)}(n,e)}function G$(n,e,t){return n instanceof Vi?JS(n,e):n instanceof Ui?ZS(n,e):t}function YS(n,e){return n instanceof _o?function(r){return Nv(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var vo=class extends yo{},Vi=class extends yo{constructor(e){super(),this.elements=e}};function JS(n,e){let t=XS(e);for(let r of n.elements)t.some(i=>En(i,r))||t.push(r);return{arrayValue:{values:t}}}var Ui=class extends yo{constructor(e){super(),this.elements=e}};function ZS(n,e){let t=XS(e);for(let r of n.elements)t=t.filter(i=>!En(i,r));return{arrayValue:{values:t}}}var _o=class extends yo{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function cS(n){return Se(n.integerValue||n.doubleValue)}function XS(n){return tI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function W$(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Vi&&i instanceof Vi||r instanceof Ui&&i instanceof Ui?ho(r.elements,i.elements,En):r instanceof _o&&i instanceof _o?En(r.Pe,i.Pe):r instanceof vo&&i instanceof vo}(n.transform,e.transform)}var Hv=class{constructor(e,t){this.version=e,this.transformResults=t}},Pi=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function nh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Io=class{};function eR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new lh(n.key,Pi.none()):new ji(n.key,n.data,Pi.none());{let t=n.data,r=Jt.empty(),i=new at(St.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new tr(n.key,r,new vn(i.toArray()),Pi.none())}}function K$(n,e,t){n instanceof ji?function(i,s,o){let a=i.value.clone(),u=lS(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof tr?function(i,s,o){if(!nh(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=lS(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(tR(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,e,t):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,t)}function yc(n,e,t,r){return n instanceof ji?function(s,o,a,u){if(!nh(s.precondition,o))return a;let l=s.value.clone(),h=dS(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof tr?function(s,o,a,u){if(!nh(s.precondition,o))return a;let l=dS(s.fieldTransforms,u,o),h=o.data;return h.setAll(tR(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(s,o,a){return nh(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(n,e,t)}function Q$(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=YS(r.transform,i||null);s!=null&&(t===null&&(t=Jt.empty()),t.set(r.field,s))}return t||null}function uS(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ho(r,i,(s,o)=>W$(s,o))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ji=class extends Io{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},tr=class extends Io{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function tR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function lS(n,e,t){let r=new Map;we(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,G$(o,a,t[i]))}return r}function dS(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,q$(s,o,e))}return r}var lh=class extends Io{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},zv=class extends Io{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var qv=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&K$(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=yc(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=yc(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=KS();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let u=eR(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),de())}isEqual(e){return this.batchId===e.batchId&&ho(this.mutations,e.mutations,(t,r)=>uS(t,r))&&ho(this.baseMutations,e.baseMutations,(t,r)=>uS(t,r))}},Gv=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){we(e.mutations.length===r.length);let i=function(){return j$}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new n(e,t,r,i)}};var Wv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Kv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Le,fe;function Y$(n){switch(n){default:return Y();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function nR(n){if(n===void 0)return Zn("GRPC error has no .code"),M.UNKNOWN;switch(n){case Le.OK:return M.OK;case Le.CANCELLED:return M.CANCELLED;case Le.UNKNOWN:return M.UNKNOWN;case Le.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Le.INTERNAL:return M.INTERNAL;case Le.UNAVAILABLE:return M.UNAVAILABLE;case Le.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Le.NOT_FOUND:return M.NOT_FOUND;case Le.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Le.ABORTED:return M.ABORTED;case Le.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Le.DATA_LOSS:return M.DATA_LOSS;default:return Y()}}(fe=Le||(Le={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var hS=null;function J$(){return new TextEncoder}var Z$=new zr([4294967295,4294967295],0);function fS(n){let e=J$().encode(n),t=new uv;return t.update(e),new Uint8Array(t.digest())}function pS(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new zr([t,r],0),new zr([i,s],0)]}var Qv=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Mi(`Invalid padding: ${t}`);if(r<0)throw new Mi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Mi(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Mi(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=zr.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(zr.fromNumber(r)));return i.compare(Z$)===1&&(i=new zr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=fS(e),[r,i]=pS(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new n(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let t=fS(e),[r,i]=pS(t);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Mi=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var dh=class n{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ne.min(),i,new Pe(ve),er(),de())}},Ec=class n{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,de(),de(),de())}};var co=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},hh=class{constructor(e,t){this.targetId=e,this.me=t}},fh=class{constructor(e,t,r=ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},ph=class{constructor(){this.fe=0,this.ge=mS(),this.pe=ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=de(),t=de(),r=de();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Y()}}),new Ec(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=mS()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,we(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Yv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=er(),this.qe=gS(),this.Qe=new Pe(ve)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Y()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let s=i.target;if(jv(s))if(r===0){let o=new G(s.path);this.Ue(t,o,Zt.newNoDocument(o,ne.min()))}else we(r===1);else{let o=this.Ye(t);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,l)}hS?.et(function(h,p,m,y,A){var N,R,F,H,L,ee;let _e={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},K=p.unchangedNames;return K&&(_e.bloomFilter={applied:A===0,hashCount:(N=K?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(H=(F=(R=K?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&H!==void 0?H:0,padding:(ee=(L=K?.bits)===null||L===void 0?void 0:L.padding)!==null&&ee!==void 0?ee:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),_e}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t,o,a;try{o=Gr(r).toUint8Array()}catch(u){if(u instanceof ah)return lo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Qv(o,i,s)}catch(u){return lo(u instanceof Mi?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&jv(a.target)){let u=new G(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Zt.newNoDocument(u,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=de();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new dh(e,t,this.Qe,this.ke,r);return this.ke=er(),this.qe=gS(),this.Qe=new Pe(ve),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ph,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new at(ve),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||j("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ph),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function gS(){return new Pe(G.comparator)}function mS(){return new Pe(G.comparator)}var X$={asc:"ASCENDING",desc:"DESCENDING"},eH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tH={and:"AND",or:"OR"},Jv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Zv(n,e){return n.useProto3Json||Oh(e)?e:{value:e}}function gh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function nH(n,e){return gh(n,e.toTimestamp())}function wn(n){return we(!!n),ne.fromTimestamp(function(t){let r=Xn(t);return new Xe(r.seconds,r.nanos)}(n))}function oI(n,e){return Xv(n,e).canonicalString()}function Xv(n,e){let t=function(i){return new Re(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function iR(n){let e=Re.fromString(n);return we(uR(e)),e}function e_(n,e){return oI(n.databaseId,e.path)}function gv(n,e){let t=iR(e);if(t.get(1)!==n.databaseId.projectId)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new U(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new G(oR(t))}function sR(n,e){return oI(n.databaseId,e)}function rH(n){let e=iR(n);return e.length===4?Re.emptyPath():oR(e)}function t_(n){return new Re(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function oR(n){return we(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function yS(n,e,t){return{name:e_(n,e),fields:t.value.mapValue.fields}}function iH(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(we(h===void 0||typeof h=="string"),ct.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array),ct.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?M.UNKNOWN:nR(l.code);return new U(h,l.message||"")}(o);t=new fh(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=gv(n,r.document.name),s=wn(r.document.updateTime),o=r.document.createTime?wn(r.document.createTime):ne.min(),a=new Jt({mapValue:{fields:r.document.fields}}),u=Zt.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new co(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=gv(n,r.document),s=r.readTime?wn(r.readTime):ne.min(),o=Zt.newNoDocument(i,s),a=r.removedTargetIds||[];t=new co([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=gv(n,r.document),s=r.removedTargetIds||[];t=new co([],s,i,null)}else{if(!("filter"in e))return Y();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Kv(i,s),a=r.targetId;t=new hh(a,o)}}return t}function sH(n,e){let t;if(e instanceof ji)t={update:yS(n,e.key,e.value)};else if(e instanceof lh)t={delete:e_(n,e.key)};else if(e instanceof tr)t={update:yS(n,e.key,e.data),updateMask:pH(e.fieldMask)};else{if(!(e instanceof zv))return Y();t={verify:e_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof vo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vi)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ui)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof _o)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Y()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:nH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y()}(n,e.precondition)),t}function oH(n,e){return n&&n.length>0?(we(e!==void 0),n.map(t=>function(i,s){let o=i.updateTime?wn(i.updateTime):wn(s);return o.isEqual(ne.min())&&(o=wn(s)),new Hv(o,i.transformResults||[])}(t,e))):[]}function aH(n,e){return{documents:[sR(n,e.path)]}}function cH(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=sR(n,i);let s=function(l){if(l.length!==0)return cR(Xt.create(l,"and"))}(e.filters);s&&(t.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:so(m.field),direction:dH(m.dir)}}(h))}(e.orderBy);o&&(t.structuredQuery.orderBy=o);let a=Zv(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:t,parent:i}}function uH(n){let e=rH(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){we(r===1);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];t.where&&(s=function(p){let m=aR(p);return m instanceof Xt&&US(m)?m.getFilters():[m]}(t.where));let o=[];t.orderBy&&(o=function(p){return p.map(m=>function(A){return new mo(oo(A.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(t.orderBy));let a=null;t.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Oh(m)?null:m}(t.limit));let u=null;t.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new go(y,m)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new go(y,m)}(t.endAt)),k$(e,i,o,s,a,"F",u,l)}function lH(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function aR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=oo(t.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=oo(t.unaryFilter.field);return Ue.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=oo(t.unaryFilter.field);return Ue.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=oo(t.unaryFilter.field);return Ue.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(n):n.fieldFilter!==void 0?function(t){return Ue.create(oo(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Xt.create(t.compositeFilter.filters.map(r=>aR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y()}}(t.compositeFilter.op))}(n):Y()}function dH(n){return X$[n]}function hH(n){return eH[n]}function fH(n){return tH[n]}function so(n){return{fieldPath:n.canonicalString()}}function oo(n){return St.fromServerFormat(n.fieldPath)}function cR(n){return n instanceof Ue?function(t){if(t.op==="=="){if(rS(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NAN"}};if(nS(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(rS(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NAN"}};if(nS(t.value))return{unaryFilter:{field:so(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(t.field),op:hH(t.op),value:t.value}}}(n):n instanceof Xt?function(t){let r=t.getFilters().map(i=>cR(i));return r.length===1?r[0]:{compositeFilter:{op:fH(t.op),filters:r}}}(n):Y()}function pH(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function uR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Dc=class n{constructor(e,t,r,i,s=ne.min(),o=ne.min(),a=ct.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var n_=class{constructor(e){this.ct=e}};function gH(n){let e=uH({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?$v(e,e.limit,"L"):e}var mh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Se(e.integerValue));else if("doubleValue"in e){let r=Se(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),_c(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Xn(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Gr(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?FS(e)?this.dt(t,Number.MAX_SAFE_INTEGER):kS(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Y()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let s=e.fields||{};this.dt(t,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(Se(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),G.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};mh.vt=new mh;var r_=class{constructor(){this.un=new i_}addToCollectionParentIndex(e,t){return this.un.add(t),P.resolve()}getCollectionParents(e,t){return P.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return P.resolve()}deleteFieldIndex(e,t){return P.resolve()}deleteAllFieldIndexes(e){return P.resolve()}createTargetIndexes(e,t){return P.resolve()}getDocumentsMatchingTarget(e,t){return P.resolve(null)}getIndexType(e,t){return P.resolve(0)}getFieldIndexes(e,t){return P.resolve([])}getNextCollectionGroupToUpdate(e){return P.resolve(null)}getMinOffset(e,t){return P.resolve(ki.min())}getMinOffsetFromCollectionGroup(e,t){return P.resolve(ki.min())}updateCollectionGroup(e,t,r){return P.resolve()}updateIndexEntries(e,t){return P.resolve()}},i_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new at(Re.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new at(Re.comparator)).toArray()}};var c7=new Uint8Array(0);var yn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn(41943040,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);var Tc=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var s_=class{constructor(){this.changes=new Wr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?P.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var o_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var a_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&yc(r.mutation,i,vn.empty(),Xe.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,de()).next(()=>r))}getLocalViewOfDocuments(e,t,r=de()){let i=Ni();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=fc();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Ni();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,de()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=er(),o=mc(),a=function(){return mc()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof tr)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),yc(h.mutation,l,h.mutation.getFieldMask(),Xe.now())):o.set(l.key,vn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new o_(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=mc(),i=new Pe((o,a)=>o-a),s=de();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||vn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||de()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=KS();h.forEach(m=>{if(!s.has(m)){let y=eR(t.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return P.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(o){return G.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):HS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):P.resolve(Ni()),a=-1,u=s;return o.next(l=>P.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?P.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,de())).next(h=>({batchId:a,changes:WS(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(r=>{let i=fc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let s=t.collectionGroup,o=fc();return this.indexManager.getCollectionParents(e,s).next(a=>P.forEach(a,u=>{let l=function(p,m){return new Li(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,Zt.newInvalidDocument(h)))});let a=fc();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&yc(h.mutation,l,vn.empty(),Xe.now()),Fh(t,l)&&(a=a.insert(u,l))}),a})}};var c_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return P.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:wn(i.createTime)}}(t)),P.resolve()}getNamedQuery(e,t){return P.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:gH(i.bundledQuery),readTime:wn(i.readTime)}}(t)),P.resolve()}};var u_=class{constructor(){this.overlays=new Pe(G.comparator),this.Ir=new Map}getOverlay(e,t){return P.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Ni();return P.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),P.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),P.resolve()}getOverlaysForCollection(e,t,r){let i=Ni(),s=t.length+1,o=new G(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return P.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Pe((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=Ni(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=Ni(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return P.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Wv(t,r));let s=this.Ir.get(t);s===void 0&&(s=de(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}};var l_=class{constructor(){this.sessionToken=ct.EMPTY_BYTE_STRING}getSessionToken(e){return P.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,P.resolve()}};var bc=class{constructor(){this.Tr=new at(Ve.Er),this.dr=new at(Ve.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Ve(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Ve(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new G(new Re([])),r=new Ve(t,e),i=new Ve(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new G(new Re([])),r=new Ve(t,e),i=new Ve(t,e+1),s=de();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Ve(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Ve=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return G.comparator(e.key,t.key)||ve(e.wr,t.wr)}static Ar(e,t){return ve(e.wr,t.wr)||G.comparator(e.key,t.key)}};var d_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new at(Ve.Er)}checkEmpty(e){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new qv(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new Ve(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return P.resolve(o)}lookupMutationBatch(e,t){return P.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),s=i<0?0:i;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Ve(t,0),i=new Ve(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new at(ve);return t.forEach(i=>{let s=new Ve(i,0),o=new Ve(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),P.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;G.isDocumentKey(s)||(s=s.child(""));let o=new Ve(new G(s),0),a=new at(ve);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),P.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){we(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return P.forEach(t.mutations,i=>{let s=new Ve(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Ve(t,0),i=this.br.firstAfterOrEqual(r);return P.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,P.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var h_=class{constructor(e){this.Mr=e,this.docs=function(){return new Pe(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return P.resolve(r?r.document.mutableCopy():Zt.newInvalidDocument(t))}getEntries(e,t){let r=er();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Zt.newInvalidDocument(i))}),P.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=er(),o=t.path,a=new G(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||T$(D$(h),r)<=0||(i.has(h.key)||Fh(t,h))&&(s=s.insert(h.key,h.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Y()}Or(e,t){return P.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new f_(this)}getSize(e){return P.resolve(this.size)}},f_=class extends s_{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),P.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var p_=class{constructor(e){this.persistence=e,this.Nr=new Wr(t=>nI(t),rI),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new bc,this.targetCount=0,this.kr=Tc.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),P.resolve()}getLastRemoteSnapshotVersion(e){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return P.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),P.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Tc(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,P.resolve()}updateTargetData(e,t){return this.Kn(t),P.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,P.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),P.waitFor(s).next(()=>i)}getTargetCount(e){return P.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return P.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),P.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),P.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return P.resolve(r)}containsKey(e,t){return P.resolve(this.Br.containsKey(t))}};var g_=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new PS(0),this.Kr=!1,this.Kr=!0,this.$r=new l_,this.referenceDelegate=e(this),this.Ur=new p_(this),this.indexManager=new r_,this.remoteDocumentCache=function(i){return new h_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new n_(t),this.Gr=new c_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new u_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new d_(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){j("MemoryPersistence","Starting transaction:",e);let i=new m_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return P.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},m_=class extends Av{constructor(e){super(),this.currentSequenceNumber=e}},y_=class n{constructor(e){this.persistence=e,this.Jr=new bc,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw Y()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),P.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),P.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),P.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,r=>{let i=G.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,ne.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return P.or([()=>P.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var v_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=de(),i=de();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new n(e,t.fromCache,r,i)}};var __=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var I_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return F0()?8:C$(Ge())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new __;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(hc()<=le.DEBUG&&j("QueryEngine","SDK will not create cache indexes for query:",io(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(hc()<=le.DEBUG&&j("QueryEngine","Query:",io(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(hc()<=le.DEBUG&&j("QueryEngine","The SDK decides to create cache indexes for query:",io(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,In(t))):P.resolve())}Yi(e,t){if(aS(t))return P.resolve(null);let r=In(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=$v(t,null,"F"),r=In(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=de(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(t,a);return this.ns(t,l,o,u.readTime)?this.Yi(e,$v(t,null,"F")):this.rs(e,l,t,u)}))})))}Zi(e,t,r,i){return aS(t)||i.isEqual(ne.min())?P.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(t,s);return this.ns(t,o,r,i)?P.resolve(null):(hc()<=le.DEBUG&&j("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),io(t)),this.rs(e,o,t,E$(i,-1)).next(a=>a))})}ts(e,t){let r=new at(qS(e));return t.forEach((i,s)=>{Fh(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return hc()<=le.DEBUG&&j("QueryEngine","Using full collection scan to execute query:",io(t)),this.Ji.getDocumentsMatchingQuery(e,t,ki.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var w_=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Pe(ve),this._s=new Wr(s=>nI(s),rI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function mH(n,e,t,r){return new w_(n,e,t,r)}function lR(n,e){return w(this,null,function*(){let t=X(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=de();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function yH(n,e){let t=X(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=P.resolve();return m.forEach(A=>{y=y.next(()=>h.getEntry(u,A)).next(N=>{let R=l.docVersions.get(A);we(R!==null),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=de();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function dR(n){let e=X(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function vH(n,e){let t=X(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ct.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,F){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(m,y,h)&&a.push(t.Ur.updateTargetData(s,y))});let u=er(),l=de();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(_H(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ne.min())){let h=t.Ur.getLastRemoteSnapshotVersion(s).next(p=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return P.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(t.os=i,s))}function _H(n,e,t){let r=de(),i=de();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=er();return t.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):j("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function IH(n,e){let t=X(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function wH(n,e){let t=X(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,P.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new Dc(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function E_(n,e,t){return w(this,null,function*(){let r=X(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!xc(o))throw o;j("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function vS(n,e,t){let r=X(n),i=ne.min(),s=de();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=X(u),m=p._s.get(h);return m!==void 0?P.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,In(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:ne.min(),t?s:de())).next(a=>(EH(r,L$(e),a),{documents:a,Ts:s})))}function EH(n,e,t){let r=n.us.get(e)||ne.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}var yh=class{constructor(){this.activeTargetIds=H$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var D_=class{constructor(){this.so=new yh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new yh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var T_=class{_o(e){}shutdown(){}};var vh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){j("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){j("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var eh=null;function mv(){return eh===null?eh=function(){return 268435456+Math.round(2147483648*Math.random())}():eh++,"0x"+eh.toString(16)}var DH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var b_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ot="WebChannelConnection",C_=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){let a=mv(),u=this.xo(t,r.toUriEncodedString());j("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(t,u,l,i).then(h=>(j("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw lo("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){let i=DH[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let s=mv();return new Promise((o,a)=>{let u=new lv;u.setWithCredentials(!0),u.listenOnce(dv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case dc.NO_ERROR:let h=u.getResponseJson();j(ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case dc.TIMEOUT:j(ot,`RPC '${e}' ${s} timed out`),a(new U(M.DEADLINE_EXCEEDED,"Request time out"));break;case dc.HTTP_ERROR:let p=u.getStatus();if(j(ot,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let A=function(R){let F=R.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(F)>=0?F:M.UNKNOWN}(y.status);a(new U(A,y.message))}else a(new U(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new U(M.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{j(ot,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);j(ot,`RPC '${e}' ${s} sending request:`,i),u.send(t,"POST",l,r,15)})}Bo(e,t,r){let i=mv(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=pv(),a=fv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=s.join("");j(ot,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,y=!1,A=new b_({Io:R=>{y?j(ot,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(j(ot,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),j(ot,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},To:()=>p.close()}),N=(R,F,H)=>{R.listen(F,L=>{try{H(L)}catch(ee){setTimeout(()=>{throw ee},0)}})};return N(p,ro.EventType.OPEN,()=>{y||(j(ot,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),N(p,ro.EventType.CLOSE,()=>{y||(y=!0,j(ot,`RPC '${e}' stream ${i} transport closed`),A.So())}),N(p,ro.EventType.ERROR,R=>{y||(y=!0,lo(ot,`RPC '${e}' stream ${i} transport errored:`,R),A.So(new U(M.UNAVAILABLE,"The operation could not be completed")))}),N(p,ro.EventType.MESSAGE,R=>{var F;if(!y){let H=R.data[0];we(!!H);let L=H,ee=L.error||((F=L[0])===null||F===void 0?void 0:F.error);if(ee){j(ot,`RPC '${e}' stream ${i} received error:`,ee);let _e=ee.status,K=function(_){let D=Le[_];if(D!==void 0)return nR(D)}(_e),E=ee.message;K===void 0&&(K=M.INTERNAL,E="Unknown error status: "+_e+" with message "+ee.message),y=!0,A.So(new U(K,E)),p.close()}else j(ot,`RPC '${e}' stream ${i} received:`,H),A.bo(H)}}),N(a,hv.STAT_EVENT,R=>{R.stat===Zd.PROXY?j(ot,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Zd.NOPROXY&&j(ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function yv(){return typeof document<"u"?document:null}function Lh(n){return new Jv(n,!0)}var _h=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&j("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Ih=class{constructor(e,t,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new _h(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(Zn(t.toString()),Zn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new U(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return j("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(j("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},A_=class extends Ih{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=iH(this.serializer,e),r=function(s){if(!("targetChange"in s))return ne.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?wn(o.readTime):ne.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=t_(this.serializer),t.addTarget=function(s,o){let a,u=o.target;if(a=jv(u)?{documents:aH(s,u)}:{query:cH(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=rR(s,o.resumeToken);let l=Zv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=gh(s,o.snapshotVersion.toTimestamp());let l=Zv(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=lH(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=t_(this.serializer),t.removeTarget=e,this.a_(t)}},S_=class extends Ih{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return we(!!e.streamToken),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){we(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=oH(e.writeResults,e.commitTime),r=wn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=t_(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>sH(this.serializer,r))};this.a_(t)}};var R_=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,Xv(t,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(M.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Xv(t,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},N_=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Zn(t),this.D_=!1):j("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var M_=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Bi(this)&&(j("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=X(u);l.L_.add(4),yield Pc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Vh(l)})}(this))}))}),this.q_=new N_(r,i)}};function Vh(n){return w(this,null,function*(){if(Bi(n))for(let e of n.B_)yield e(!0)})}function Pc(n){return w(this,null,function*(){for(let e of n.B_)yield e(!1)})}function hR(n,e){let t=X(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),lI(t)?uI(t):Ao(t).r_()&&cI(t,e))}function aI(n,e){let t=X(n),r=Ao(t);t.N_.delete(e),r.r_()&&fR(t,e),t.N_.size===0&&(r.r_()?r.o_():Bi(t)&&t.q_.set("Unknown"))}function cI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ao(n).A_(e)}function fR(n,e){n.Q_.xe(e),Ao(n).R_(e)}function uI(n){n.Q_=new Yv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ao(n).start(),n.q_.v_()}function lI(n){return Bi(n)&&!Ao(n).n_()&&n.N_.size>0}function Bi(n){return X(n).L_.size===0}function pR(n){n.Q_=void 0}function TH(n){return w(this,null,function*(){n.q_.set("Online")})}function bH(n){return w(this,null,function*(){n.N_.forEach((e,t)=>{cI(n,e)})})}function CH(n,e){return w(this,null,function*(){pR(n),lI(n)?(n.q_.M_(e),uI(n)):n.q_.set("Unknown")})}function AH(n,e,t){return w(this,null,function*(){if(n.q_.set("Online"),e instanceof fh&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){j("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wh(n,r)}else if(e instanceof co?n.Q_.Ke(e):e instanceof hh?n.Q_.He(e):n.Q_.We(e),!t.isEqual(ne.min()))try{let r=yield dR(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(ct.EMPTY_BYTE_STRING,h.snapshotVersion)),fR(s,u);let p=new Dc(h.target,u,l,h.sequenceNumber);cI(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){j("RemoteStore","Failed to raise snapshot:",r),yield wh(n,r)}})}function wh(n,e,t){return w(this,null,function*(){if(!xc(e))throw e;n.L_.add(1),yield Pc(n),n.q_.set("Offline"),t||(t=()=>dR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){j("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Vh(n)}))})}function gR(n,e){return e().catch(t=>wh(n,t,e))}function Uh(n){return w(this,null,function*(){let e=X(n),t=Kr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;SH(e);)try{let i=yield IH(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,RH(e,i)}catch(i){yield wh(e,i)}mR(e)&&yR(e)})}function SH(n){return Bi(n)&&n.O_.length<10}function RH(n,e){n.O_.push(e);let t=Kr(n);t.r_()&&t.V_&&t.m_(e.mutations)}function mR(n){return Bi(n)&&!Kr(n).n_()&&n.O_.length>0}function yR(n){Kr(n).start()}function NH(n){return w(this,null,function*(){Kr(n).p_()})}function MH(n){return w(this,null,function*(){let e=Kr(n);for(let t of n.O_)e.m_(t.mutations)})}function xH(n,e,t){return w(this,null,function*(){let r=n.O_.shift(),i=Gv.from(r,e,t);yield gR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Uh(n)})}function PH(n,e){return w(this,null,function*(){e&&Kr(n).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return Y$(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();Kr(r).s_(),yield gR(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Uh(r)}})}(n,e)),mR(n)&&yR(n)})}function _S(n,e){return w(this,null,function*(){let t=X(n);t.asyncQueue.verifyOperationInProgress(),j("RemoteStore","RemoteStore received new credentials");let r=Bi(t);t.L_.add(3),yield Pc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Vh(t)})}function OH(n,e){return w(this,null,function*(){let t=X(n);e?(t.L_.delete(2),yield Vh(t)):e||(t.L_.add(2),yield Pc(t),t.q_.set("Unknown"))})}function Ao(n){return n.K_||(n.K_=function(t,r,i){let s=X(t);return s.w_(),new A_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:TH.bind(null,n),Ro:bH.bind(null,n),mo:CH.bind(null,n),d_:AH.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.K_.s_(),lI(n)?uI(n):n.q_.set("Unknown")):(yield n.K_.stop(),pR(n))}))),n.K_}function Kr(n){return n.U_||(n.U_=function(t,r,i){let s=X(t);return s.w_(),new S_(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:NH.bind(null,n),mo:PH.bind(null,n),f_:MH.bind(null,n),g_:xH.bind(null,n)}),n.B_.push(e=>w(this,null,function*(){e?(n.U_.s_(),yield Uh(n)):(yield n.U_.stop(),n.O_.length>0&&(j("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var x_=class n{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new n(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function dI(n,e){if(Zn("AsyncQueue",`${e}: ${n}`),xc(n))return new U(M.UNAVAILABLE,`${e}: ${n}`);throw n}var Eh=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||G.comparator(t.key,r.key):(t,r)=>G.comparator(t.key,r.key),this.keyedMap=fc(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Dh=class{constructor(){this.W_=new Pe(G.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Y():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},wo=class n{constructor(e,t,r,i,s,o,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new n(e,t,Eh.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var P_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},O_=class{constructor(){this.queries=IS(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=X(t),s=i.queries;i.queries=IS(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new U(M.ABORTED,"Firestore shutting down"))}};function IS(){return new Wr(n=>zS(n),kh)}function kH(n,e){return w(this,null,function*(){let t=X(n),r=3,i=e.query,s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new P_,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){let a=dI(o,`Initialization of query '${io(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&hI(t)})}function FH(n,e){return w(this,null,function*(){let t=X(n),r=e.query,i=3,s=t.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function LH(n,e){let t=X(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&hI(t)}function VH(n,e,t){let r=X(n),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(t);r.queries.delete(e)}function hI(n){n.Y_.forEach(e=>{e.next()})}var k_,wS;(wS=k_||(k_={})).ea="default",wS.Cache="cache";var F_=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new wo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==k_.Cache}};var Th=class{constructor(e){this.key=e}},bh=class{constructor(e){this.key=e}},L_=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=de(),this.mutatedKeys=de(),this.Aa=qS(e),this.Ra=new Eh(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Dh,i=t?t.Ra:this.Ra,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Fh(this.query,p)?p:null,A=!!m&&this.mutatedKeys.has(m.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?A!==N&&(r.track({type:3,doc:y}),R=!0):this.ga(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(o=o.add(y),s=N?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,A){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return N(y)-N(A)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new wo(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Dh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=de(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new bh(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Th(r))}),t}ba(e){this.Ta=e.Ts,this.da=de();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return wo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},V_=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},U_=class{constructor(e){this.key=e,this.va=!1}},j_=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Wr(a=>zS(a),kh),this.Ma=new Map,this.xa=new Set,this.Oa=new Pe(G.comparator),this.Na=new Map,this.La=new bc,this.Ba={},this.ka=new Map,this.qa=Tc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function UH(n,e,t=!0){return w(this,null,function*(){let r=DR(n),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield vR(r,e,t,!0),i})}function jH(n,e){return w(this,null,function*(){let t=DR(n);yield vR(t,e,!0,!1)})}function vR(n,e,t,r){return w(this,null,function*(){let i=yield wH(n.localStore,In(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t),a;return r&&(a=yield BH(n,e,s,o==="current",i.resumeToken)),n.isPrimaryClient&&t&&hR(n.remoteStore,i),a})}function BH(n,e,t,r,i){return w(this,null,function*(){n.Ka=(p,m,y)=>function(N,R,F,H){return w(this,null,function*(){let L=R.view.ma(F);L.ns&&(L=yield vS(N.localStore,R.query,!1).then(({documents:E})=>R.view.ma(E,L)));let ee=H&&H.targetChanges.get(R.targetId),_e=H&&H.targetMismatches.get(R.targetId)!=null,K=R.view.applyChanges(L,N.isPrimaryClient,ee,_e);return DS(N,R.targetId,K.wa),K.snapshot})}(n,p,m,y);let s=yield vS(n.localStore,e,!0),o=new L_(e,s.Ts),a=o.ma(s.documents),u=Ec.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=o.applyChanges(a,n.isPrimaryClient,u);DS(n,t,l.wa);let h=new V_(e,t,o);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),l.snapshot})}function $H(n,e,t){return w(this,null,function*(){let r=X(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!kh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield E_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&aI(r.remoteStore,i.targetId),B_(r,i.targetId)}).catch(Mc))):(B_(r,i.targetId),yield E_(r.localStore,i.targetId,!0))})}function HH(n,e){return w(this,null,function*(){let t=X(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),aI(t.remoteStore,r.targetId))})}function zH(n,e,t){return w(this,null,function*(){let r=JH(n);try{let i=yield function(o,a){let u=X(o),l=Xe.now(),h=a.reduce((y,A)=>y.add(A.key),de()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let A=er(),N=de();return u.cs.getEntries(y,h).next(R=>{A=R,A.forEach((F,H)=>{H.isValidDocument()||(N=N.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,A)).next(R=>{p=R;let F=[];for(let H of a){let L=Q$(H,p.get(H.key).overlayedDocument);L!=null&&F.push(new tr(H.key,L,LS(L.value.mapValue),Pi.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:WS(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Pe(ve)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,t),yield Oc(r,i.changes),yield Uh(r.remoteStore)}catch(i){let s=dI(i,"Failed to persist write");t.reject(s)}})}function _R(n,e){return w(this,null,function*(){let t=X(n);try{let r=yield vH(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.Na.get(s);o&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?we(o.va):i.removedDocuments.size>0&&(we(o.va),o.va=!1))}),yield Oc(t,r,e)}catch(r){yield Mc(r)}})}function ES(n,e,t){let r=X(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=X(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&hI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qH(n,e,t){return w(this,null,function*(){let r=X(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Pe(G.comparator);o=o.insert(s,Zt.newNoDocument(s,ne.min()));let a=de().add(s),u=new dh(ne.min(),new Map,new Pe(ve),o,a);yield _R(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),fI(r)}else yield E_(r.localStore,e,!1).then(()=>B_(r,e,t)).catch(Mc)})}function GH(n,e){return w(this,null,function*(){let t=X(n),r=e.batch.batchId;try{let i=yield yH(t.localStore,e);wR(t,r,null),IR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Oc(t,i)}catch(i){yield Mc(i)}})}function WH(n,e,t){return w(this,null,function*(){let r=X(n);try{let i=yield function(o,a){let u=X(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(we(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);wR(r,e,t),IR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Oc(r,i)}catch(i){yield Mc(i)}})}function IR(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function wR(n,e,t){let r=X(n),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function B_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||ER(n,r)})}function ER(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(aI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),fI(n))}function DS(n,e,t){for(let r of t)r instanceof Th?(n.La.addReference(r.key,e),KH(n,r)):r instanceof bh?(j("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||ER(n,r.key)):Y()}function KH(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(j("SyncEngine","New document in limbo: "+t),n.xa.add(r),fI(n))}function fI(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new G(Re.fromString(e)),r=n.qa.next();n.Na.set(r,new U_(t)),n.Oa=n.Oa.insert(t,r),hR(n.remoteStore,new Dc(In(iI(t.path)),r,"TargetPurposeLimboResolution",PS.oe))}}function Oc(n,e,t){return w(this,null,function*(){let r=X(n),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=v_.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>P.forEach(l,m=>P.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>P.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!xc(p))throw p;j("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),A=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(A);h.os=h.os.insert(m,N)}}})}(r.localStore,s))})}function QH(n,e){return w(this,null,function*(){let t=X(n);if(!t.currentUser.isEqual(e)){j("SyncEngine","User change. New user:",e.toKey());let r=yield lR(t.localStore,e);t.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new U(M.CANCELLED,o))})}),s.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Oc(t,r.hs)}})}function YH(n,e){let t=X(n),r=t.Na.get(e);if(r&&r.va)return de().add(r.key);{let i=de(),s=t.Ma.get(e);if(!s)return i;for(let o of s){let a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function DR(n){let e=X(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=_R.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=YH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qH.bind(null,e),e.Ca.d_=LH.bind(null,e.eventManager),e.Ca.$a=VH.bind(null,e.eventManager),e}function JH(n){let e=X(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=GH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=WH.bind(null,e),e}var TS=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return w(this,null,function*(){this.serializer=Lh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return mH(this.persistence,new I_,t.initialUser,this.serializer)}Ga(t){return new g_(y_.Zr,this.serializer)}Wa(t){return new D_}terminate(){return w(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var ZH=(()=>{class n{initialize(t,r){return w(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>ES(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=QH.bind(null,this.syncEngine),yield OH(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new O_}()}createDatastore(t){let r=Lh(t.databaseInfo.databaseId),i=function(o){return new C_(o)}(t.databaseInfo);return function(o,a,u,l){return new R_(o,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,s,o,a,u){return new M_(i,s,o,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>ES(this.syncEngine,r,0),function(){return vh.D()?new vh:new T_}())}createSyncEngine(t,r){return function(s,o,a,u,l,h,p){let m=new j_(s,o,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var t,r;yield function(s){return w(this,null,function*(){let o=X(s);j("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Pc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var $_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Zn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var H_=class{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=We.UNAUTHENTICATED,this.clientId=ih.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>w(this,null,function*(){j("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(j("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=dI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function vv(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),j("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield lR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function bS(n,e){return w(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield XH(n);j("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>_S(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>_S(e.remoteStore,i)),n._onlineComponents=e})}function XH(n){return w(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){j("FirestoreClient","Using user provided OfflineComponentProvider");try{yield vv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;lo("Error using user provided cache. Falling back to memory cache: "+t),yield vv(n,new TS)}}else j("FirestoreClient","Using default OfflineComponentProvider"),yield vv(n,new TS);return n._offlineComponents})}function TR(n){return w(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(j("FirestoreClient","Using user provided OnlineComponentProvider"),yield bS(n,n._uninitializedComponentsProvider._online)):(j("FirestoreClient","Using default OnlineComponentProvider"),yield bS(n,new ZH))),n._onlineComponents})}function ez(n){return TR(n).then(e=>e.syncEngine)}function CS(n){return w(this,null,function*(){let e=yield TR(n),t=e.eventManager;return t.onListen=UH.bind(null,e.syncEngine),t.onUnlisten=$H.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=jH.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=HH.bind(null,e.syncEngine),t})}function bR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var AS=new Map;function CR(n,e,t){if(!t)throw new U(M.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tz(n,e,t,r){if(e===!0&&r===!0)throw new U(M.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function SS(n){if(!G.isDocumentKey(n))throw new U(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function RS(n){if(G.isDocumentKey(n))throw new U(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Y()}function vc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new U(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=jh(n);throw new U(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Ch=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new U(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Eo=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ch({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new U(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new U(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ch(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _v;switch(r.type){case"firstParty":return new Dv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=AS.get(t);r&&(j("ComponentProvider","Removing Datastore"),AS.delete(t),r.terminate())}(this),Promise.resolve()}};function AR(n,e,t,r={}){var i;let s=(n=vc(n,Eo))._getSettings(),o=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=We.MOCK_USER;else{a=N0(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new We(l)}n._authCredentials=new Iv(new rh(a,u))}}var Do=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Rt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},qr=class n extends Do{constructor(e,t,r){super(e,t,iI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Rt(this.firestore,null,new G(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function SR(n,e,...t){if(n=Ze(n),CR("collection","path",e),n instanceof Eo){let r=Re.fromString(e,...t);return RS(r),new qr(n,null,r)}{if(!(n instanceof Rt||n instanceof qr))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Re.fromString(e,...t));return RS(r),new qr(n.firestore,null,r)}}function RR(n,e,...t){if(n=Ze(n),arguments.length===1&&(e=ih.newId()),CR("doc","path",e),n instanceof Eo){let r=Re.fromString(e,...t);return SS(r),new Rt(n,null,new G(r))}{if(!(n instanceof Rt||n instanceof qr))throw new U(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Re.fromString(e,...t));return SS(r),new Rt(n.firestore,n instanceof qr?n.converter:null,new G(r))}}var Ah=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new _h(this,"async_queue_retry"),this.Vu=()=>{let r=yv();r&&j("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=yv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=yv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Jn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!xc(e))throw e;j("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Zn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=x_.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Y()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function NS(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(n,["next","error","complete"])}var To=class extends Eo{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ah,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ah(e),this._firestoreClient=void 0,yield e}})}};function NR(n,e){let t=typeof n=="object"?n:Js(),r=typeof n=="string"?n:e||"(default)",i=Xa(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=R0("firestore");s&&AR(i,...s)}return i}function MR(n){if(n._terminated)throw new U(M.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||nz(n),n._firestoreClient}function nz(n){var e,t,r;let i=n._freezeSettings(),s=function(a,u,l,h){return new Sv(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,bR(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new H_(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Cc=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ct.fromBase64String(e))}catch(t){throw new U(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ac=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new U(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new St(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Sh=class{constructor(e){this._methodName=e}};var Sc=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new U(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new U(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ve(this._lat,e._lat)||ve(this._long,e._long)}};var Rc=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var rz=/^__.*__$/,z_=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new tr(e,this.data,this.fieldMask,t,this.fieldTransforms):new ji(e,this.data,t,this.fieldTransforms)}};function xR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}var q_=class n{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Rh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(xR(this.Cu)&&rz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},G_=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lh(e)}Qu(e,t,r,i=!1){return new q_({Cu:e,methodName:t,qu:r,path:St.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function PR(n){let e=n._freezeSettings(),t=Lh(n._databaseId);return new G_(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iz(n,e,t,r,i,s={}){let o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);FR("Data must be an object, but it was:",o,r);let a=OR(r,o),u,l;if(s.merge)u=new vn(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=oz(e,p,t);if(!o.contains(m))throw new U(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);cz(h,m)||h.push(m)}u=new vn(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new z_(new Jt(a),u,l)}function sz(n,e,t,r=!1){return pI(t,n.Qu(r?4:3,e))}function pI(n,e){if(kR(n=Ze(n)))return FR("Unsupported field value:",e,n),OR(n,e);if(n instanceof Sh)return function(r,i){if(!xR(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=pI(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=Ze(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return z$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Xe.fromDate(r);return{timestampValue:gh(i.serializer,s)}}if(r instanceof Xe){let s=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:gh(i.serializer,s)}}if(r instanceof Sc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Cc)return{bytesValue:rR(i.serializer,r._byteString)};if(r instanceof Rt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:oI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Rc)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return sI(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${jh(r)}`)}(n,e)}function OR(n,e){let t={};return OS(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(n,(r,i)=>{let s=pI(i,e.Mu(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function kR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xe||n instanceof Sc||n instanceof Cc||n instanceof Rt||n instanceof Sh||n instanceof Rc)}function FR(n,e,t){if(!kR(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=jh(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function oz(n,e,t){if((e=Ze(e))instanceof Ac)return e._internalPath;if(typeof e=="string")return LR(n,e);throw Rh("Field path arguments must be of type string or ",n,!1,void 0,t)}var az=new RegExp("[~\\*/\\[\\]]");function LR(n,e,t){if(e.search(az)>=0)throw Rh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ac(...e.split("."))._internalPath}catch{throw Rh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rh(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new U(M.INVALID_ARGUMENT,a+n+u)}function cz(n,e){return n.some(t=>t.isEqual(e))}var Nh=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Rt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new W_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(gI("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},W_=class extends Nh{data(){return super.data()}};function gI(n,e){return typeof e=="string"?LR(n,e):e instanceof Ac?e._internalPath:e._delegate._internalPath}function uz(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new U(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Nc=class{},K_=class extends Nc{};function VR(n,e,...t){let r=[];e instanceof Nc&&r.push(e),r=r.concat(t),function(s){let o=s.filter(u=>u instanceof Q_).length,a=s.filter(u=>u instanceof Mh).length;if(o>1||o>0&&a>0)throw new U(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Mh=class n extends K_{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return jR(e._query,t),new Do(e.firestore,e.converter,Bv(e._query,t))}_parse(e){let t=PR(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new U(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){xS(p,h);let y=[];for(let A of p)y.push(MS(u,s,A));m={arrayValue:{values:y}}}else m=MS(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||xS(p,h),m=sz(a,o,p,h==="in"||h==="not-in");return Ue.create(l,h,m)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function UR(n,e,t){let r=e,i=gI("where",n);return Mh._create(i,r,t)}var Q_=class n extends Nc{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:Xt.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)jR(o,u),o=Bv(o,u)}(e._query,t),new Do(e.firestore,e.converter,Bv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function MS(n,e,t){if(typeof(t=Ze(t))=="string"){if(t==="")throw new U(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!HS(e)&&t.indexOf("/")!==-1)throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Re.fromString(t));if(!G.isDocumentKey(r))throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tS(n,new G(r))}if(t instanceof Rt)return tS(n,t._key);throw new U(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jh(t)}.`)}function xS(n,e){if(!Array.isArray(n)||n.length===0)throw new U(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jR(n,e){let t=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new U(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Y_=class{convertValue(e,t="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Se(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Y()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return Co(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;let s=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Se(o.doubleValue));return new Rc(s)}convertGeoPoint(e){return new Sc(Se(e.latitude),Se(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=eI(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Ic(e));default:return null}}convertTimestamp(e){let t=Xn(e);return new Xe(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Re.fromString(e);we(uR(r));let i=new ch(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(t)||Zn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function lz(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var xi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},xh=class extends Nh{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new uo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(gI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},uo=class extends xh{data(e={}){return super.data(e)}},J_=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new uo(this._firestore,this._userDataWriter,r.key,r,new xi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new U(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new uo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new uo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new xi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:dz(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function dz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}var Ph=class extends Y_{constructor(e){super(),this.firestore=e}convertBytes(e){return new Cc(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Rt(this.firestore,null,t)}};function BR(n,e){let t=vc(n.firestore,To),r=RR(n),i=lz(n.converter,e);return hz(t,[iz(PR(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Pi.exists(!1))]).then(()=>r)}function mI(n,...e){var t,r,i;n=Ze(n);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||NS(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(NS(e[o])){let p=e[o];e[o]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof Rt)l=vc(n.firestore,To),h=iI(n._key.path),u={next:p=>{e[o]&&e[o](fz(l,n,p))},error:e[o+1],complete:e[o+2]};else{let p=vc(n,Do);l=vc(p.firestore,To),h=p._query;let m=new Ph(l);u={next:y=>{e[o]&&e[o](new J_(l,m,p,y))},error:e[o+1],complete:e[o+2]},uz(n._query)}return function(m,y,A,N){let R=new $_(N),F=new F_(y,R,A);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return kH(yield CS(m),F)})),()=>{R.Za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return FH(yield CS(m),F)}))}}(MR(l),h,a,u)}function hz(n,e){return function(r,i){let s=new Jn;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return zH(yield ez(r),i,s)})),s.promise}(MR(n),e)}function fz(n,e,t){let r=t.docs.get(e._key),i=new Ph(n);return new xh(n,i,e._key,r,new xi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){bo=i})(Ur),Vr(new Bt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new To(new wv(r.getProvider("auth-internal")),new bv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ch(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$e(JA,"4.7.3",e),$e(JA,"4.7.3","esm2017")})();var Bh=function(){return Bh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},Bh.apply(this,arguments)};var mz={includeMetadataChanges:!1};function $R(n,e){return e===void 0&&(e=mz),new se(function(t){var r=mI(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function HR(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Bh(Bh({},r),(t={},t[e.idField]=n.id,t))}function zR(n){return $R(n,{includeMetadataChanges:!0}).pipe(J(function(e){return e.docs}))}function qR(n,e){return e===void 0&&(e={}),zR(n).pipe(J(function(t){return t.map(function(r){return HR(r,e)})}))}var kc=class{constructor(e){return e}},GR="firestore",yI=class{constructor(){return ec(GR)}};var vI=new V("angularfire2.firestore-instances");function yz(n,e){let t=Nd(GR,n,e);return t&&new kc(t)}function vz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new kc(r)}}var _z={provide:yI,deps:[[new Ye,vI]]},Iz={provide:kc,useFactory:yz,deps:[[new Ye,vI],Wn]};function jQ(n,...e){return $e("angularfire",Ti.full,"fst"),kt([Iz,_z,{provide:vI,useFactory:vz(n),multi:!0,deps:[ye,ze,eo,bi,[new Ye,lc],[new Ye,Xs],...e]}])}var BQ=At(qR,!0);var $Q=At(BR,!0);var HQ=At(SR,!0);var zQ=At(NR,!0);var qQ=At(VR,!0);var GQ=At(UR,!0);export{Qe as a,De as b,J as c,Of as d,B as e,cn as f,q as g,x as h,cD as i,un as j,Lt as k,U3 as l,j3 as m,Ae as n,IP as o,B3 as p,z as q,Ck as r,Vk as s,rb as t,sb as u,ob as v,Lg as w,ab as x,cb as y,Jk as z,q3 as A,Fn as B,G3 as C,W3 as D,K3 as E,s1 as F,Q3 as G,Y3 as H,a1 as I,pb as J,c1 as K,J3 as L,u1 as M,mb as N,Z3 as O,X3 as P,e6 as Q,T6 as R,b6 as S,C6 as T,A6 as U,S6 as V,j1 as W,Y1 as X,$6 as Y,p8 as Z,WL as _,hn as $,BC as aa,r5 as ba,i5 as ca,s5 as da,K5 as ea,Q5 as fa,uc as ga,$K as ha,HK as ia,zK as ja,qK as ka,dC as la,tC as ma,x8 as na,P8 as oa,nL as pa,sL as qa,k8 as ra,aL as sa,lL as ta,hL as ua,pL as va,yL as wa,F8 as xa,L8 as ya,V8 as za,kc as Aa,jQ as Ba,BQ as Ca,$Q as Da,HQ as Ea,zQ as Fa,qQ as Ga,GQ as Ha};
