import{A as d,Aa as he,Ba as R,F as l,H as K,M,P as Q,Q as W,R as X,S as ee,T as q,U as te,a as V,aa as k,b as L,c as G,d as $,e as y,f as S,g as E,h as g,i as x,ia as ne,j as B,ja as p,k as H,ka as ie,l as z,la as I,m as Y,ma as oe,n as J,o as a,oa as F,p as v,pa as re,q as m,qa as ae,r as s,ra as le,s as U,sa as se,t as r,ta as me,u as o,ua as ce,v as c,va as pe,w as u,wa as fe,x as h,xa as de,y as Z,z as C,za as ue}from"./chunk-WZJ2JQ74.js";var P=class t{constructor(n){this.http=n}GetPaises(){return this.http.get("https://restcountries.com/v3.1/all")}GetPaisesRegion(n){return this.http.get(`https://restcountries.com/v3.1/region/${n}?fields=name,flags,translations`)}GetPaisesDeEuropaYAfrica(){let n=this.GetPaisesRegion("Europe"),e=this.GetPaisesRegion("Americas");return $([n,e]).pipe(G(([i,f])=>[...i,...f].sort((A,O)=>A.translations.spa.common.localeCompare(O.translations.spa.common))))}GetDetallePais(n){return this.GetPaises().pipe(G(e=>{let i=e.find(f=>f.translations.spa.common.toLowerCase()===n.toLowerCase());return i?{nombre:i.translations.spa.common,bandera:i.flags.png}:null}))}static \u0275fac=function(e){return new(e||t)(E(te))};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})};var N=class t{constructor(n){this.firestore=n;this.GetItems()}itemsSubject=new V([]);items=this.itemsSubject.asObservable();subItems;GuardarChofer(n){let e=R(this.firestore,"choferes");return L(he(e,{repartidor:n}))}GetItems(){let n=R(this.firestore,"choferes"),e=ue(n);this.subItems=e.subscribe(i=>{this.itemsSubject.next(i)})}static \u0275fac=function(e){return new(e||t)(E(de))};static \u0275prov=y({token:t,factory:t.\u0275fac,providedIn:"root"})};function Se(t,n){t&1&&(r(0,"small",26),l(1," Solo debe contener letras "),o())}function Ee(t,n){t&1&&(r(0,"small",26),l(1," El campo nombre es obligatorio "),o())}function xe(t,n){if(t&1&&(u(0),m(1,Se,2,0,"small",25)(2,Ee,2,0,"small",25),h()),t&2){let e=d();a(),s("ngIf",e.nombre==null?null:e.nombre.hasError("pattern")),a(),s("ngIf",e.nombre==null?null:e.nombre.hasError("required"))}}function Ie(t,n){t&1&&(r(0,"small",26),l(1," Solo se permiten n\xFAmeros. "),o())}function Fe(t,n){t&1&&(r(0,"small",26),l(1," El campo nro licencia es obligatorio "),o())}function Pe(t,n){t&1&&(r(0,"small",26),l(1," Debe tener al menos 7 caracteres. "),o())}function Ne(t,n){if(t&1&&(u(0),m(1,Ie,2,0,"small",25)(2,Fe,2,0,"small",25)(3,Pe,2,0,"small",25),h()),t&2){let e=d();a(),s("ngIf",e.dni==null?null:e.dni.hasError("pattern")),a(),s("ngIf",e.dni==null?null:e.dni.hasError("required")),a(),s("ngIf",e.dni==null?null:e.dni.hasError("minlength"))}}function we(t,n){t&1&&(r(0,"small",26),l(1," Debe ser entre 18 y 50 a\xF1os de edad "),o())}function Te(t,n){t&1&&(r(0,"small",26),l(1," El campo edad es obligatorio "),o())}function je(t,n){if(t&1&&(u(0),m(1,we,2,0,"small",25)(2,Te,2,0,"small",25),h()),t&2){let e=d();a(),s("ngIf",(e.edad==null?null:e.edad.hasError("min"))||(e.edad==null?null:e.edad.hasError("max"))),a(),s("ngIf",e.edad==null?null:e.edad.hasError("required"))}}function De(t,n){t&1&&(r(0,"small",26),l(1," Solo se permiten n\xFAmeros. "),o())}function Ae(t,n){t&1&&(r(0,"small",26),l(1," El campo nro licencia es obligatorio "),o())}function Oe(t,n){t&1&&(r(0,"small",26),l(1," Debe tener al menos 7 caracteres. "),o())}function Ge(t,n){if(t&1&&(u(0),m(1,De,2,0,"small",25)(2,Ae,2,0,"small",25)(3,Oe,2,0,"small",25),h()),t&2){let e=d();a(),s("ngIf",e.nrolicencia==null?null:e.nrolicencia.hasError("pattern")),a(),s("ngIf",e.nrolicencia==null?null:e.nrolicencia.hasError("required")),a(),s("ngIf",e.nrolicencia==null?null:e.nrolicencia.hasError("minlength"))}}function Me(t,n){t&1&&(r(0,"small",26),l(1," El campo es obligatorio "),o())}function qe(t,n){if(t&1&&(u(0),m(1,Me,2,0,"small",25),h()),t&2){let e=d();a(),s("ngIf",e.licenciaprofesional==null?null:e.licenciaprofesional.hasError("required"))}}function ke(t,n){t&1&&(r(0,"small",26),l(1," El campo pais es obligatorio "),o())}function Re(t,n){if(t&1&&(u(0),m(1,ke,2,0,"small",25),h()),t&2){let e=d();a(),s("ngIf",e.pais==null?null:e.pais.hasError("required"))}}var w=class t{constructor(n,e){this.fb=n;this.repartidorService=e}form;isLoading=!1;selectedPais="";ngOnInit(){this.form=this.fb.group({nombre:["",[p.pattern("^[a-zA-Z]+$"),p.required]],dni:[null,[p.required,p.pattern("^[0-9]*$"),p.minLength(8)]],edad:[null,[p.min(18),p.max(50),p.required]],nrolicencia:[null,[p.required,p.pattern("^[0-9]*$"),p.minLength(7)]],licenciaprofesional:[null,p.required],pais:["",p.required]})}ngOnChanges(n){this.form&&n.selectedPais&&(this.mostrarPais(),console.log(this.form.invalid))}mostrarPais(){this.form.get("pais")?.setValue(this.selectedPais)}get dni(){return this.form.get("documento")}get nombre(){return this.form.get("nombre")}get edad(){return this.form.get("edad")}get nrolicencia(){return this.form.get("nrolicencia")}get licenciaprofesional(){return this.form.get("licenciaprofesional")}get pais(){return this.form.get("pais")}enviarForm(){if(this.form.markAllAsTouched(),this.form.invalid)return;this.isLoading=!0;let n=this.form.value;this.repartidorService.GuardarChofer(n).subscribe({next:e=>{console.log("Formulario enviado exitosamente",e),this.isLoading=!1,this.form.reset()},error:e=>{console.error("Error al enviar el formulario",e),this.isLoading=!1}})}static \u0275fac=function(e){return new(e||t)(v(ce),v(N))};static \u0275cmp=g({type:t,selectors:[["app-choferes-form"]],inputs:{selectedPais:"selectedPais"},features:[B],decls:46,vars:11,consts:[[1,"mb-3"],[3,"ngSubmit","formGroup"],[1,"form-control-group","col-sm-6"],["for","nombre",1,"form-label"],["type","text","formControlName","nombre","placeholder","","value","","required","",1,"form-control"],[4,"ngIf"],[1,"row","g-3"],["for","dni",1,"form-label"],["type","text","formControlName","dni","placeholder","",1,"form-control"],[1,"form-control-group","col-12"],["for","edad",1,"form-label"],["type","number","formControlName","edad","placeholder","","required","",1,"form-control"],["for","nrolicencia",1,"form-label"],["type","text","formControlName","nrolicencia","placeholder","",1,"form-control"],["for","licenciaprofesional",1,"form-label"],[1,"form-check"],["type","radio","id","licenciaprofesionalSi","formControlName","licenciaprofesional",1,"form-check-input",3,"value"],["for","licenciaprofesionalSi",1,"form-check-label"],["type","radio","id","licenciaprofesionalNo","formControlName","licenciaprofesional",1,"form-check-input",3,"value"],["for","licenciaprofesionalNo",1,"form-check-label"],["for","pais","placeholder","Pa\xEDs de origen",1,"form-label"],[1,"text-muted"],["type","text","formControlName","pais","readonly","",1,"form-control",3,"value"],[1,"my-4"],["type","submit",1,"w-100","btn","btn-primary","btn-lg",3,"disabled"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(e,i){e&1&&(r(0,"h4",0),l(1,"Chofer"),o(),r(2,"form",1),C("ngSubmit",function(){return i.enviarForm()}),r(3,"div",2)(4,"label",3),l(5,"Nombre"),o(),c(6,"input",4),m(7,xe,3,2,"ng-container",5),o(),r(8,"div",6)(9,"div",2)(10,"label",7),l(11,"DNI"),o(),c(12,"input",8),m(13,Ne,4,3,"ng-container",5),o(),r(14,"div",9)(15,"label",10),l(16,"Edad"),o(),c(17,"input",11),m(18,je,3,2,"ng-container",5),o(),r(19,"div",9)(20,"label",12),l(21,"NroLicencia"),o(),c(22,"input",13),m(23,Ge,4,3,"ng-container",5),o(),r(24,"div",9)(25,"label",14),l(26,"Tiene Licencia Profecional?"),o(),r(27,"div",15),c(28,"input",16),r(29,"label",17),l(30,"S\xED"),o()(),r(31,"div",15),c(32,"input",18),r(33,"label",19),l(34,"No"),o()(),m(35,qe,2,1,"ng-container",5),o(),r(36,"div",9)(37,"label",20),l(38,"Pais "),r(39,"span",21),l(40,"(Selecciones un pa\xEDs de la lista)"),o()(),c(41,"input",22),m(42,Re,2,1,"ng-container",5),o()(),c(43,"hr",23),r(44,"button",24),l(45,"Alta Repartidores"),o()()),e&2&&(a(2),s("formGroup",i.form),a(5),s("ngIf",(i.nombre==null?null:i.nombre.invalid)&&(i.nombre==null?null:i.nombre.touched)),a(6),s("ngIf",(i.dni==null?null:i.dni.invalid)&&(i.dni==null?null:i.dni.touched)),a(5),s("ngIf",(i.edad==null?null:i.edad.invalid)&&(i.edad==null?null:i.edad.touched)),a(5),s("ngIf",(i.nrolicencia==null?null:i.nrolicencia.invalid)&&(i.nrolicencia==null?null:i.nrolicencia.touched)),a(5),s("value",!0),a(4),s("value",!1),a(3),s("ngIf",(i.licenciaprofesional==null?null:i.licenciaprofesional.invalid)&&(i.licenciaprofesional==null?null:i.licenciaprofesional.touched)),a(6),s("value",i.selectedPais),a(),s("ngIf",(i.pais==null?null:i.pais.invalid)&&(i.pais==null?null:i.pais.touched)),a(2),s("disabled",i.form.invalid))},dependencies:[X,F,ne,re,ae,ie,I,me,le,se]})};var Le=t=>({active:t}),$e=t=>({color:t});function Be(t,n){if(t&1){let e=Z();u(0),r(1,"li",5)(2,"div",6),C("click",function(){let f=H(e),b=f.$implicit,A=f.index,O=d();return z(O.show(b,A))}),c(3,"img",7),r(4,"span",8),l(5),o()()(),h()}if(t&2){let e=n.$implicit,i=n.index,f=d();a(),s("ngClass",M(6,Le,i===f.selectedItemId)),a(2),U("width",75,"px"),s("src",e.flags.png,J),a(),s("ngStyle",M(8,$e,f.getColor(i))),a(),K(" ",e.translations.spa.common," ")}}var T=class t{items;showItem=new Y;selectedItemId;show(n,e){this.selectedItemId=e,this.showItem.emit(n.translations.spa.common),console.log(n.translations.spa.common)}getColor(n){return n==this.selectedItemId?"red":"blue"}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=g({type:t,selectors:[["app-choferes-paises"]],inputs:{items:"items"},outputs:{showItem:"showItem"},decls:6,vars:1,consts:[[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"text-primary"],[1,"list-group","mb-3",2,"max-height","300px","overflow-y","auto"],[4,"ngFor","ngForOf"],[1,"card","p-2"],[3,"ngClass"],[2,"cursor","pointer",3,"click"],["flag","",3,"src"],[3,"ngStyle"]],template:function(e,i){e&1&&(r(0,"h4",0)(1,"span",1),l(2,"Paises"),o()(),r(3,"ul",2),m(4,Be,6,10,"ng-container",3),o(),c(5,"form",4)),e&2&&(a(4),s("ngForOf",i.items))},dependencies:[Q,W,ee,F,I,oe],styles:[".active[_ngcontent-%COMP%]{background-color:#ababe2}"]})};var j=class t{constructor(n){this.paisesService=n}paises=[];selectedPais="";suscription;ngOnInit(){this.suscription=this.paisesService.GetPaisesDeEuropaYAfrica().subscribe(n=>{this.paises=n,console.log(this.paises)})}mostrarPais(n){this.selectedPais=n}static \u0275fac=function(e){return new(e||t)(v(P))};static \u0275cmp=g({type:t,selectors:[["app-choferes-alta"]],inputs:{selectedPais:"selectedPais"},decls:23,vars:2,consts:[[1,"container"],[1,"py-5","text-center"],[1,"row","g-5"],[1,"col-md-5","col-lg-4","order-md-last"],[3,"showItem","items"],[1,"col-md-7","col-lg-8"],[3,"selectedPais"],[1,"my-5","pt-5","text-muted","text-center","text-small"],[1,"mb-1"],[1,"list-inline"],[1,"list-inline-item"],["href","#"]],template:function(e,i){e&1&&(r(0,"div",0)(1,"main")(2,"div",1)(3,"h2"),l(4,"Alta Choferes"),o()(),r(5,"div",2)(6,"div",3)(7,"app-choferes-paises",4),C("showItem",function(b){return i.mostrarPais(b)}),o()(),r(8,"div",5),c(9,"app-choferes-form",6),o()()(),r(10,"footer",7)(11,"p",8),l(12,"\xA9 2017\u20132021 Company Name"),o(),r(13,"ul",9)(14,"li",10)(15,"a",11),l(16,"Privacy"),o()(),r(17,"li",10)(18,"a",11),l(19,"Terms"),o()(),r(20,"li",10)(21,"a",11),l(22,"Support"),o()()()()()),e&2&&(a(7),s("items",i.paises),a(2),s("selectedPais",i.selectedPais))},dependencies:[w,T]})};var ze=[{path:"alta",component:j}],D=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=x({type:t});static \u0275inj=S({imports:[k.forChild(ze),k]})};var Ce=class t{static \u0275fac=function(e){return new(e||t)};static \u0275mod=x({type:t});static \u0275inj=S({imports:[q,D,fe,q,pe]})};export{Ce as MimoduloModule};
